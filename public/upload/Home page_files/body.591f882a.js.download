/*! For license information please see body.591f882a.js.LICENSE.txt */
(self.webpackChunkportal_nodejsdeps=self.webpackChunkportal_nodejsdeps||[]).push([[489],{6479:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(2179),n(2834),n(4792),n(6040),n(6194),n(4072);var i={monthNames:["january","february","march","april","may","june","july","august","september","october","november","december"],shortMonthNames:["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],dayOfWeekNames:["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],shortDayOfWeekNames:["sun","mon","tue","wed","thu","fri","sat"],texts:{at:"at"},getDaysToThisWeekLastWorkingDay:function(e){return i.getDaysToDayOfWeek(e,5)},getDaysToDayOfWeek:function(e,t){return(7+t-e)%7},getDaysToSaturday:function(e){return i.getDaysToDayOfWeek(e,6)},getLongDateFormat:function(e){var t=i.dayOfWeekNames[e.getDay()]+", "+i.monthNames[e.getMonth()]+" "+e.getDate();return e.getFullYear()!=(new Date).getFullYear()&&(t+=", "+e.getFullYear()),t},getShortDateFormat:function(e,t){var n=e.getDate().toString();return 1==n.length&&(n="0"+n),n+"-"+i.shortMonthNames[e.getMonth()]+"-"+(t?(e.getFullYear()+"").substr(2):e.getFullYear())},getDayAndMonthFormat:function(e){return i.monthNames[e.getMonth()]+" "+e.getFullYear()},getTimeOnlyFormat:function(e){var t=e.getMinutes();return e.getHours()+(t<10?":0":":")+t},getShortDateFormatWithTime:function(e){var t=e.getDate().toString();1==t.length&&(t="0"+t);var n=e.getMinutes().toString();1==n.length&&(n="0"+n);var r=e.getHours().toString();return 1==r.length&&(r="0"+r),t+"-"+i.shortMonthNames[e.getMonth()]+"-"+e.getFullYear()+" "+r+":"+n},getOnlyTimeFromDate:function(e,t){var n=e.getMinutes().toString();1!=n.length||t||(n="0"+n);var i,r=e.getHours().toString();return 1!=r.length||t||(r="0"+r),t?(i=r>12?r-12:r,i+=0!=n?":"+n:""):i=(r>12?r-12:r)+":"+n,i+" "+(r>=12?"PM":"AM")},addDaysToDate:function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},equals:function(e,t){return!e&&!t||!(!e||!t)&&(e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()&&e.getDate()==t.getDate())},equalsWithTime:function(e,t){return!e&&!t||!(!e||!t)&&(e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()&&e.getDate()==t.getDate()&&e.getHours()==t.getHours()&&e.getMinutes()==t.getMinutes())},getDateDifferenceInDays:function(e,t){var n=e.getTime()-36e5*e.getHours()-(t.getTime()-36e5*t.getHours());return Math.round(n/864e5)},getShortDateWithDayNameFormat:function(e){var t=e.getDate().toString();return 1==t.length&&(t="0"+t),t+" "+i.shortMonthNames[e.getMonth()].toUpperCase()+" ("+i.dayOfWeekNames[e.getDay()].substring(0,3)+")"},getOnlyMonthAndDayWithTimeFormat:function(e){var t=e.getDate().toString();return 1==t.length&&(t="0"+t),i.shortMonthNames[e.getMonth()]+" "+t+" "+i.texts.at+" "+i.getTimeWithMeridianFromDate(e)},getDateFromTimestamp:function(e){return new Date(1e3*parseFloat(e))},getTimeWithMeridianFromDate:function(e){var t=e.getHours(),n=e.getMinutes(),i=t%12;return(0==i?12:i)+":"+(n>9?n:"0"+n)+(t>=12?"pm":"am")},getStrFTime:function(e,t){return t=t.constructor==Date?t:i.now(),e=(e=(e=e.replace(/%a/g,i.dayOfWeekNames[t.getDay()].substring(0,3))).replace(/%b/g,i.shortMonthNames[t.getMonth()])).replace(/%e/g,t.getDate())},getStrFTimeRange:function(e,t,n){return i.getStrFTime(i.getStrFTime(e,t).replace(/#([abe])/g,"%$1"),n)},getLastDayInMonth:function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}};const r=i},4023:(e,t,n)=>{"use strict";n(4954),n(6194),n(8387);var i=n(7578),r=(n(2834),(0,i.wT)("SendBeacon",i.$L));r.prototype.send=function(e,t){var n="XMLHttpRequest"in window?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return n.open("POST",e,!1),n.setRequestHeader("Accept","*/*"),"string"==typeof t?(n.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),n.responseType="text/plain"):"[object Blob]"===Object.prototype.toString.call(t)&&t.type&&n.setRequestHeader("Content-Type",t.type),n.send(t),!0};const o=r;var a,s=n(4264),l={},u=(0,i.wT)("Notifier",i.$L),c=new o;l.TIME_LIMIT=3e5,l.load=function(e,t,n){this.urlLocation=e,this.statusConfirmed=!!t,this.hasError=!!n},s.Z.getEventManager().attachToLoadEvent((function(){var e=document.getElementById("rsvpComment");if(e){var t=l.statusConfirmed?null:e;a=new u(l.TIME_LIMIT,l.urlLocation,l.statusConfirmed,l.hasError,t,c)}})),window.addEventListener("beforeunload",(function(e){a&&a.sendOnClose()})),u.prototype.init=function(e,t,n,i,r,o){this.time=e,this.timer=null,this.url=t,t&&(this.urlLocation=this.getURL(t)),this.params=this.getAllParameters(t),this.commentForm=r,this.sendBeacon=o,this.statusConfirmed=n,this.hasError=i,this.addSubmitListener(r),this.setTimerIfNecessary()},u.prototype.setTimerIfNecessary=function(){this.statusConfirmed||this.hasError||(this.timer=setTimeout(this.caller("sendNotification"),this.time))},u.prototype.clearTimeOutIfNecessary=function(){this.timer&&clearTimeout(this.timer)},u.prototype.sendNotification=function(){this.clearTimeOutIfNecessary(),this.statusConfirmed=!0,this.commentForm.submit()},u.prototype.addSubmitListener=function(e){e&&e.addEventListener("submit",this.caller("formSubmit"))},u.prototype.formSubmit=function(){this.sendNotification()},u.prototype.sendOnClose=function(){if(!this.statusConfirmed){this.clearTimeOutIfNecessary();var e=new FormData;e.append("hash",this.params.hash),e.append("rsvpId",this.params.rsvpId),e.append("recurrent",this.params.recurrent),e.append("statusConfirmed","true"),this.sendBeacon.send(this.urlLocation,e)}},u.prototype.getAllParameters=function(e){var t={};if(e){var n,i,r=e.split("?")[1].split("&amp;");for(i=0;i<r.length;i++)t[(n=r[i].split("="))[0]]=void 0===n[1]||decodeURIComponent(n[1])}return t},u.prototype.getURL=function(e){return e.split("?")[0]};const d=l;n(2179),n(533),n(4072),n(1313);var p=n(6479),h=(0,i.wT)("EventSignupFreeTimePicker",i.$L);h.prototype.init=function(e,t,n,i,r,o,a){this.container=e,this.selectedDate=t,this.previousMonth=t.getMonth(),this.daysWithFreeTime=n,this.freeTimesForSelectedDate=i,this.timezoneOffset=a,this.drawUI(),this.container&&this.container.appendChild(this.element)},h.prototype.drawUI=function(){this.element=this.e("div",{class:"FreeTimePicker"},[this.e("table",{class:"FreeTimePickerTable",cellPadding:0,cellSpacing:0},[this.e("tbody",null,[this.e("tr",null,[this.e("td",{class:"FreeTimePickerTableCell"},[this.datePicker=(0,i.WN)(new y(this.selectedDate,this.daysWithFreeTime),{onselectdate:this.caller("onSelectDate")})]),this.e("td",{class:"FreeTimePickerTableCell"},[this.timeSelector=new m(this.selectedDate,this.freeTimesForSelectedDate)])])])])])},h.prototype.onScheduleAppointmentClick=function(e){this.cancelEvent(e)},h.prototype.onSelectDate=function(e){this.selectedDate=e.date;var t=new Date(this.selectedDate),n=new Date(this.selectedDate);n.setHours(23),n.setSeconds(59),n.setMinutes(59);for(var i=[],r=0;r<availableEvents.length;++r)if(void 0!==availableEvents[r]){var o=new Date(1e3*availableEvents[r].targetDate.timestamp);if(o>=t&&o<=n){var a={eventId:availableEvents[r].id,targetDate:{timestamp:1e3*availableEvents[r].targetDate.timestamp},timezoneOffset:o.getTimezoneOffset(),durationInSeconds:availableEvents[r].durationInSeconds,slotInMinutes:availableEvents[r].durationInSeconds/60,hasTime:availableEvents[r].targetDateHasTime};i.push({targetDate:new Date(1e3*availableEvents[r].targetDate.timestamp),slot:a})}}this.freeTimesForSelectedDate=i,this.datePicker.setDate(this.selectedDate),this.timeSelector.setDate(this.selectedDate,this.freeTimesForSelectedDate)};var f=(0,i.wT)("Toolbar",i.$L);f.prototype.init=function(e){this.content=e,this.drawUI()},f.prototype.drawUI=function(){this.element=this.e("div",{class:"FreeTimePickerToolbar"},[this.content])};var y=(0,i.wT)("DatePicker",i.$L);y.prototype.init=function(e,t){this.baseCssClassName="DatePicker",this.selectedDate=e,this.daysWithFreeTime=t,this.drawUI()},y.prototype.setDate=function(e){this.selectedDate=e,this.updateData()},y.prototype.drawUI=function(){this.element=this.e("tr",{class:"DatePicker"},[new f(this.e("div",null,[this.title=this.e("span"),this.e("a",{class:"DatePickerToolbarButton",href:"#",onclick:this.caller("onNextClick")},[">"]),this.e("a",{class:"DatePickerToolbarButton",href:"#",onclick:this.caller("onPrevClick")},["<"])])),this.e("div",{class:"DatePickerContent"},[this.e("table",{cellPadding:0,cellSpacing:0},[this.headersContainer=this.e("thead",null,this.getHeaders()),this.createWeeksTbody()])])]),this.updateData()},y.prototype.getHeaders=function(){return[this.e("tr",null,[this.e("th",null,[p.Z.shortDayOfWeekNames[0].charAt(0).toUpperCase()+p.Z.shortDayOfWeekNames[0].slice(1)]),this.e("th",null,[p.Z.shortDayOfWeekNames[1].charAt(0).toUpperCase()+p.Z.shortDayOfWeekNames[1].slice(1)]),this.e("th",null,[p.Z.shortDayOfWeekNames[2].charAt(0).toUpperCase()+p.Z.shortDayOfWeekNames[2].slice(1)]),this.e("th",null,[p.Z.shortDayOfWeekNames[3].charAt(0).toUpperCase()+p.Z.shortDayOfWeekNames[3].slice(1)]),this.e("th",null,[p.Z.shortDayOfWeekNames[4].charAt(0).toUpperCase()+p.Z.shortDayOfWeekNames[4].slice(1)]),this.e("th",null,[p.Z.shortDayOfWeekNames[5].charAt(0).toUpperCase()+p.Z.shortDayOfWeekNames[5].slice(1)]),this.e("th",null,[p.Z.shortDayOfWeekNames[6].charAt(0).toUpperCase()+p.Z.shortDayOfWeekNames[6].slice(1)])])]},y.prototype.createWeeksTbody=function(){function e(e){t.ondayheaderclick&&t.ondayheaderclick(e)}var t=this;this.weeks=[];for(var n,r=this.e("tbody"),o=0;o<=5;++o)(n=(0,i.WN)(new g(this,this.baseCssClassName),{onselectdate:this.caller("onSelectDate")})).ondayheaderclick=e,this.weeks.push(n),this.appendChild(r,n);return r},y.prototype.toTitleCase=function(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))},y.prototype.updateData=function(){this.removeAllChildren(this.title),this.appendChild(this.title,this.toTitleCase(p.Z.getDayAndMonthFormat(this.selectedDate)));for(var e=this.selectedDate.getFullYear(),t=this.selectedDate.getMonth(),n=p.Z.getLastDayInMonth(this.selectedDate),i=1-function(e){return(e=new Date(e.getFullYear(),e.getMonth(),1)).getDay()}(this.selectedDate),r=(a=new Date).getFullYear(),o=a.getMonth(),a=a.getDate(),s=!1,l=0;l<6;++l){this.weeks[l].element.style.display=i>n?"none":"";for(var u=0;u<7;++u){var c=new Date(e,t,i);this.weeks[l].days[u].setDay(c),this.setHasClass(this.weeks[l].days[u].element,this.baseCssClassName+"Past",i<=0||i>n),!s&&i+1>=n&&(s=!0),this.setHasClass(this.weeks[l].days[u].element,this.baseCssClassName+"Today",c.getDate()==a&&c.getFullYear()==r&&c.getMonth()==o),this.setHasClass(this.weeks[l].days[u].element,this.baseCssClassName+"Selected",this.selectedDate.getDate()==c.getDate()&&this.selectedDate.getFullYear()==c.getFullYear()&&this.selectedDate.getMonth()==c.getMonth()),this.setHasClass(this.weeks[l].days[u].element,this.baseCssClassName+"HasFreeTime",this.dateHasFreeTime(c)),++i}}},y.prototype.dateHasFreeTime=function(e){for(var t=0;t<this.daysWithFreeTime.length;++t)if(this.daysWithFreeTime[t].getDate()==e.getDate()&&this.daysWithFreeTime[t].getFullYear()==e.getFullYear()&&this.daysWithFreeTime[t].getMonth()==e.getMonth())return!0;return!1},y.prototype.onPrevClick=function(e){this.cancelEvent(e),this.changeDate(-1)},y.prototype.onNextClick=function(e){this.cancelEvent(e),this.changeDate(1)},y.prototype.changeDate=function(e){var t=new i.uW,n=new Date(this.selectedDate.getFullYear(),this.selectedDate.getMonth()+2*e,0);t.date=new Date(this.selectedDate.getFullYear(),this.selectedDate.getMonth()+e,this.selectedDate.getDate()>n.getDate()?n.getDate():this.selectedDate.getDate());for(var r=[],o=0;o<availableEvents.length;++o)void 0!==availableEvents[o]&&r.push(new Date(1e3*availableEvents[o].targetDate.timestamp));this.daysWithFreeTime=r,this.dispatchEvent("selectdate",t)},y.prototype.onSelectDate=function(e){this.dispatchEvent("selectdate",e)};var g=(0,i.wT)("DatePickerWeek",i.$L);g.prototype.init=function(e,t){var n=this;function r(e){n.ondayheaderclick&&n.ondayheaderclick(e)}this.monthView=e,this.baseCssClassName=t,this.days=[],this.element=this.e("tr",{class:this.baseCssClassName+"WeekHeader"});for(var o=0;o<7;++o){var a;(a=(0,i.WN)(new _(this.monthView,this.baseCssClassName),{onselectdate:this.dispatcher("selectdate")})).onheaderclick=r,this.days.push(a),this.appendChild(this.element,a)}return this.widget};var _=(0,i.wT)("DatePickerCell",i.$L);_.prototype.init=function(e,t){this.monthView=e,this.baseCssClassName=t,this.element=this.e("td",{class:this.baseCssClassName+"DayHeaderTd"},[this.e("div",{class:"tdContainer"},[this.e("div",{class:this.baseCssClassName+"DayHeader",onclick:this.caller("onHeaderClick")},[this.dayText=document.createTextNode("")])])])},_.prototype.setDay=function(e){this.date=e,this.dayText.nodeValue=e.getDate()},_.prototype.onHeaderClick=function(){var e=new i.uW;e.date=this.date,this.dispatchEvent("selectdate",e)};var m=(0,i.wT)("TimeSelector",i.$L);m.prototype.init=function(e,t,n){this.selectedDate=e,this.freeTimes=t,this.maxColumns=3,this.timezoneOffset=n,this.drawUI()},m.prototype.setDate=function(e,t){this.selectedDate=e,this.freeTimes=t,this.updateData()},m.prototype.drawUI=function(){this.element=this.element=this.e("div",{class:"TimeSelector"},[new f(this.e("div",null,["Availability for ",this.selectedDateTextContainer=this.e("span")])),this.e("div",{class:"TimeSelectorContent"},[this.checkboxsContainer=this.e("table",{class:"TimeSelectorTable",cellPadding:0,cellSpacing:0})])]),this.updateData()},m.prototype.getCheckboxs=function(){for(var e=parseInt(this.freeTimes.length/this.maxColumns)+1,t=e<2?1:e<4?2:3,n=(parseInt(this.freeTimes.length/t),[]),i=0;i<this.freeTimes.length;++i){for(var r=[],o=0;o<t&&i<this.freeTimes.length;++o)r.push(this.e("td",{class:"TimeSelectorCell"},[new v(this.freeTimes[i],this.timezoneOffset)])),++i;n.push(this.e("tr",null,r)),--i}return this.e("tbody",null,n)},m.prototype.updateData=function(){this.removeAllChildren(this.selectedDateTextContainer),this.appendChild(this.selectedDateTextContainer,this.toTitleCase(p.Z.getLongDateFormat(this.selectedDate))),this.removeAllChildren(this.checkboxsContainer),this.appendChild(this.checkboxsContainer,this.getCheckboxs())},m.prototype.toTitleCase=function(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))};var v=(0,i.wT)("TimeSelectorOption",i.$L);v.prototype.init=function(e,t){var n=e.targetDate;this.startDate=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),0),this.endDate=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes()+e.slot.slotInMinutes,0),this.slot=e.slot,this.timezoneOffset=t,this.drawUI()},v.prototype.getValueForCheckbox=function(){return this.slot.eventId},v.prototype.drawUI=function(){var e;e=this.slot.hasTime?p.Z.getOnlyTimeFromDate(this.startDate)+" - "+p.Z.getOnlyTimeFromDate(this.endDate):"Full day",this.element=this.e("label",null,[this.input=this.e("input",{type:"radio",name:"selectedEvent",onchange:this.caller("onChange")}),e]),this.input.value=this.getValueForCheckbox()},v.prototype.onChange=function(){var e=this.input.checked;this.setHasClass(this.element,"TimeSelectorTimeSelected",e);var t=new i.uW;t.date=this.date,this.dispatchEvent("selecttime",t)};const b=h;n.g.Invite=d,n.g.EventSignupFreeTimePicker=b},7578:(e,t,n)=>{"use strict";n.d(t,{$L:()=>f,WN:()=>c,uW:()=>h,wT:()=>u});n(1313),n(6194),n(3295),n(7390),n(1988),n(8860),n(2890),n(5985),n(2834),n(6392),n(6064),n(5996),n(5794);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(){var e=parseInt((o.match(/.+ie\s([\d.]+)/i)||[])[1]);return e>7?document.documentMode:e}var o=navigator.userAgent.toLowerCase(),a=-1!=o.indexOf("opera"),s=-1!=o.indexOf("msie")&&!a,l=(s&&r(),s&&r(),s&&r(),s&&r(),s&&r()>=9);function u(e,t){var n=window[e]=function(){this.classRef=n,!u.DO_NOT_RUN_INIT_METHOD&&this.init&&this.init.apply(this,arguments)};if(t){u.DO_NOT_RUN_INIT_METHOD=!0;var i=new t;u.DO_NOT_RUN_INIT_METHOD=!1,i.classRef=t,n.prototype=i}return n.className=n.displayName=e,n.baseClass=t,n.getClassName=function(){return e},n.New=function(e){var t;return u.DO_NOT_RUN_INIT_METHOD=!0,t=new n,u.DO_NOT_RUN_INIT_METHOD=!1,t.init&&t.init.apply(t,e),t},n}function c(e,t){return e.peg(t),e}function d(e,t){return e instanceof t}c.methodName="Peg";var p={addWord:function(e,t){return p.hasWord(e,t)?e:e+" "+t},splitBySpaces:function(e){for(var t,n=[],i=0;;){if(-1==(t=e.indexOf(" ",i)))return e.length>i&&n.push(e.substring(i)),n;t>i&&n.push(e.substring(i,t)),i=t+1}},removeWord:function(e,t){for(var n="",i=0,r=p.splitBySpaces(e),o=0;o<r.length;++o)r[o]!=t&&(i&&(n+=" "),n+=r[o],++i);return n},hasWord:function(e,t){for(var n,i=0;;){if(-1==(n=e.indexOf(" ",i)))return e.length>i&&t==e.substring(i);if(n>i&&t==e.substring(i,n))return!0;i=n+1}}},h=function(){};h.prototype.init=function(){this.prevented=!1},h.prototype.preventDefault=function(){this.prevented=!0},h.prototype.getDefaultPrevented=function(){return this.prevented};var f=function(){};f.prototype.init=function(){},f.prototype.caller=function(e){return this.callers||(this.callers={}),this.callers[e]?this.callers[e]:this.callers[e]=function(e,t,n){var i;return i=n?function(){if(e[t])return e[t].apply(e,n)}:function(){if(e[t])return e[t].apply(e,arguments)},i}(this,e)},f.prototype.dispatchEvent=function(e,t){if(void 0===t&&(t=new h),d(t,h)&&(t.sourceWidget||(t.sourceWidget=this),t.currentWidget=this),this.eventListeners&&this.eventListeners[e])for(var n=function(e){var t,n;for(t in n=e.constructor==Array?[]:{},e)n[t]=e[t];return n}(this.eventListeners[e]),i=0;i<n.length;++i)n[i](t)},f.prototype.dispatcher=function(e){if(this.dispatchers||(this.dispatchers={}),this.dispatchers[e])return this.dispatchers[e];var t=this;return this.dispatchers[e]=function(n){t.dispatchEvent(e,n)}},f.prototype.addDOMListener=function(e,t){this.eventListeners||(this.eventListeners={}),this.eventListeners[e]||(this.eventListeners[e]=[]),this.eventListeners[e].push(t)},f.prototype.removeDOMListener=function(e,t){this.eventListeners[e].splice(arrayIndexOf(this.eventListeners[e],t),1)},f.prototype.addListener=function(e,t){this.eventListeners||(this.eventListeners={}),this.eventListeners[e]||(this.eventListeners[e]=[]),this.eventListeners[e].push(t)},f.prototype.removeListener=function(e,t){this.eventListeners[e].splice(arrayIndexOf(this.eventListeners[e],t),1)},f.prototype.peg=function(e){for(var t in e)null!==e[t]&&this.addListener(t.substr(2),e[t])},f.prototype.appendChildren=function(e,t){for(var n=0;n<t.length;++n)this.appendChild(e,t[n])},f.prototype.appendChild=function(e,t){var n;null!=t&&("string"==typeof t||"number"==typeof t?e.appendChild(document.createTextNode(t)):(n=d(t,f)?t.getDomNode():t,e.appendChild(n)))},f.prototype.removeChild=function(e,t){var n;null!==t&&(n=t.getDomNode?t.getDomNode():t,e.removeChild(n))},f.prototype.removeAllChildren=function(e){for(;e.firstChild;)this.removeChild(e,e.firstChild)},f.prototype.getDomNode=function(){return this.element},f.prototype.e=function(e,t,n){var r,o,a,u;for(var c in r=s&&!l&&"input"==e&&t&&t.type?document.createElement('<input type="'+t.type+'"'+(t.name?' name="'+t.name+'"':"")+(t.id?' id="'+t.id+'"':"")+">"):document.createElement(e),t)if("function"==(u=i(t[c])))this.addDOMListener(r,c.substr(2),t[c]);else if("boolean"==u)r[c]=t[c];else if("style"==c&&"object"==i(t[c]))for(a in o=t[c])null!==o[a]&&(r.style[a]=o[a]);else if("class"==c)r.className=t[c];else if("maxlength"==c)r.maxLength=t[c];else{if(null===t[c])continue;(!s||l||"input"!=e||"type"!=c&&"name"!=c)&&r.setAttribute(c,t[c])}return n&&this.appendChildren(r,n),r},f.prototype.addDOMListener=function(e,t,n,i){s?(i=!!i,e.attachEvent("on"+t,n)):e.addEventListener(t,n,i)},f.prototype.removeDOMListener=function(e,t,n,i){s?(i=!!i,e.detachEvent("on"+t,n)):e.removeEventListener(t,n,i)},f.prototype.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},f.prototype.getPreventDefault=function(e){return"defaultPrevented"in e?e.defaultPrevented:!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()},f.prototype.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},f.prototype.cancelEvent=function(e){e||(e=window.event),this.preventDefault(e),this.stopPropagation(e)},f.prototype.addClass=function(e,t){e.className=p.addWord(e.className,t)},f.prototype.removeClass=function(e,t){e.className=p.removeWord(e.className,t)},f.prototype.setHasClass=function(e,t,n){n?this.addClass(e,t):this.removeClass(e,t)}},6791:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(4049);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}const r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"get",value:function(e){var t=document.getElementById(e);return t?t.dataset:null}},{key:"getAllByDataValue",value:function(e,t){return document.querySelectorAll("portal-data[data-"+e+'="'+t+'"]')}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},4521:e=>{var t=pjQuery.Deferred;function n(){this._initialize()}n.prototype.get=function(e){var n=t();return this.cache[e]?n.resolve(this.cache[e]):n.reject(null),n.promise()},n.prototype.set=function(e,n){var i=t();return this.cache[e]=n,i.resolve(!0),i.promise()},n.prototype.clear=function(e){var n=t();return this.cache.hasOwnProperty(e)?(delete this.cache[e],n.resolve(!0)):n.reject(null),n.promise()},n.prototype.purge=function(){var e=t();return this._initialize(),e.resolve(!0),e.promise()},n.prototype.buildKey=function(e,t){return t=t||{},md5(e+JSON.stringify(t))},n.prototype._initialize=function(){this.cache={}},n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},e.exports=n},2372:(e,t,n)=>{function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}n(6194),n(4072),n(7390),n(3488),n(4792),n(3295),n(6170),n(2890),n(5985),n(9142),n(942),n(2834),n(9146),n(4954),n(6370),n(854),n(6392),n(6064),n(5996),n(5794),n(2996);var r=function(){var e;function t(){var e={},t={escapeRegExp:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},hasClass:function(e,t){var n=" ";return 1===e.nodeType&&(n+e.className+n).replace(/[\n\t]/g,n).indexOf(n+t+n)>=0},addClass:function(e,t){e.className=e.className.replace(/^\s+|\s+$/g,"")+" "+t},removeClass:function(e,t){var n=new RegExp("\\b"+this.escapeRegExp(t)+"\\b");e.className=e.className.replace(n,"")},toggle:function(e,t){void 0===t&&(t=""),"none"==e.style.display||"none"==getComputedStyle(e).display?e.style.display=t:e.style.display="none"},interpolateString:function(e,t,n){return e.replace(/{{([a-z][a-z0-9\-_]*)}}/gi,(function(e){return n(t,arguments[1])||""}))},hasInterpolation:function(e,t){var n=new RegExp("{{"+t+"}}","gi");return e.match(n)},deepExtend:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(n in e&&this.isPlainObject(e[n])&&this.isPlainObject(t[n])?this.deepExtend(e[n],t[n]):e[n]=t[n]);return e},isPlainObject:function(e){return"object"===i(e)&&null!==e&&e.constructor==Object},traverseDOMPath:function(e,n){return e&&e.parentNode?t.hasClass(e,n)?e:this.traverseDOMPath(e.parentNode,n):null},callback:function(e,t){return t&&void 0!==e[t]?e[t]:""}};return e.transitionEnd=function(){var e=document.createElement("div"),t={t:"transitionend",OT:"oTransitionEnd",msT:"MSTransitionEnd",MozT:"transitionend",WebkitT:"webkitTransitionEnd"};for(var n in t)if(t.hasOwnProperty(n)&&void 0!==e.style[n+"ransition"])return t[n];return""}(),e.hasTransition=!!e.transitionEnd,e.popup=function(){var n={autoOpen:!0,forceOpen:!1,container:null,wrapperClass:"",onPopupOpen:function(){},onPopupClose:function(){location.reload(!0)},content:{description:"This portal protects your privacy by adhering to the European Union General Data Protection Regulation (GDPR). We will not use your data for any purpose that you do not consent to. We request use of anonymized data to improve your experience on our site.",acceptAll:"Accept all",rejectAll:"Reject all",save:"Save and close",cancel:"Cancel",settings:"Advanced settings",showMore:"Show more",showLess:"Show less",ellipsis:"...",cookiesDisabled:"Error: Cookies are blocked or not supported by your browser. You must enable cookies to use this site."},templates:{window:'<div class="cookies {{classes}}"><div class="cookies__wrapper"><div class="cookies__content clearfix">{{children}}</div></div></div>',elements:{error:'<div class="cookies__info"><div class="cookies__info__copy"><p>{{cookiesDisabled}}</p></div></div>',summary:'<div class="cookies__info"><div class="cookies__info__copy"><p>{{description}}</p></div><div class="cookies__info__buttons"><a href="#" class="cookiesButton cookiesButtonAccept">{{acceptAll}}</a><a href="#" class="cookiesButton cookiesButtonReject">{{rejectAll}}</a><a href="#" class="cookiesButton cookiesButtonSettings cookiesButtonSettingsIcon"><i class="icon-icon-settings" aria-hidden="true"></i><span>{{settings}}</span></a><a href="#" class="cookiesButton cookiesButtonSettings cookiesButtonSettingsText">{{settings}}</a></div></div>',settings:'<div class="cookies__settings"><div class="cookies__settings__content">{{detailsLeft}}</div><div class="cookies__settings__content">{{detailsRight}}</div></div>',settingsOneCol:'<div class="cookies__settings cookies__one__column">{{details}}</div>',footer:'<div class="cookies__settings__buttons"><a href="#" class="cookiesButton cookiesButtonSave">{{save}}</a></div>'},option:{default:'<div class="cookies__settings__option" tabindex="{{tabindex}}"><div class="cookies__settings__option__title" for="cookie-option-{{id}}">{{switch}}<h6>{{name}}</h6></div><div class="cookies__settings__option__description"><p id="cookie-description-{{id}}">{{description}}</p></div></div>',switch:'<label class="cookies__settings__option__switch" tabindex="{{tabindex}}"><input type="checkbox" id="cookie-option-{{id}}" data-id="{{id}}" {{checked}} tabindex="0" aria-describedby="cookie-description-{{id}}" aria-labelledby="cookieLabel{{id}}"><span class="cookies__settings__option__slider round"></span></label>',showMore:'{{contentExcert}}<span>{{ellipsis}}</span><span class="cookies__readmore__text"><span>{{contentRest}}</span><a href="javascript:;" class="cookies__readmore__link cookiesButton">{{showMore}}</a></span>'}},layout:"default",layoutCollection:{default:"{{summary}}{{settings}}{{footer}}",oneCol:"{{summary}}{{settingsOneCol}}{{footer}}",error:"{{error}}"},styles:null,dom:{classes:{invisible:"cookies__invisible",expanded:"cookies__open",btn:"cookiesButton",saveBtn:"cookiesButtonSave",settingsBtn:"cookiesButtonSettings",acceptAllBtn:"cookiesButtonAccept",rejectAllBtn:"cookiesButtonReject",onTop:"cookies__top",showLess:"cookies__readmore__less",toggleText:"cookies__readmore__link",checkbox:"cookies__settings__option__slider",hideAcceptAllBtn:"cookies__acceptbutton__hide",hideRejectAllBtn:"cookies__rejectbutton__hide",hideSettingsIcon:"cookies__settings__icon__hide"},styleSelectors:{".cookies":["background-color: {{background}}","color: {{color}}","font-family: {{fontFamily}}","font-size: {{fontSize}}px","-webkit-transition: {{transition}}","-ms-transition: {{transition}}","transition: {{transition}}"],".cookiesButtonAccept":["background-color: {{highlight}}","font-size: {{fontSize}}px","color: {{color}}"],".cookiesButtonReject":["border-color: {{highlight}}","font-size: {{fontSize}}px","color: {{highlight}}"],".cookiesButtonSettingsText":["background-color: {{highlight}}","font-size: {{fontSize}}px","color: {{color}}"],"input:checked + .cookies__settings__option__slider":["background-color: {{highlight}}"],"input:focus + .cookies__settings__option__slider":["box-shadow: 0 0 1px {{highlight}}"],".cookies__settings__option__description a":["color: {{highlight}}"],".icon-icon-settings:before":["color: {{highlight}}"],".cookiesButtonSettings span":["font-size: {{fontSize}}px"],".cookiesButtonSave:hover":["border-color: {{highlight}}","color: {{highlight}}"],".cookiesButtonSave":["color: {{highlight}}","font-size: {{fontSize}}px","border-color: {{highlight}}"],".cookies__open .cookies__info":["border-color: {{lowlight}}"],".cookies__settings, .cookies__settings__buttons":["border-color: {{lowlight}}"]},checkbox:"input[type=checkbox]",idAttribute:"data-id"},transition:!0,hideTextOverflow:!1,maxChars:300,oneCol:!1,showOnTop:!1,showExpanded:!1,initialNonEssentialCookieState:!0,hideRejectButton:!0,hideAcceptButton:!1,settingsIconAsText:!1};function i(){this.initialise.apply(this,arguments)}function r(e){this.openingTimeout=null,t.removeClass(e,this.options.dom.classes.invisible)}function o(t,n){t===n.target&&(t.style.display="none",t.removeEventListener(e.transitionEnd,this.afterTransition),this.afterTransition=null)}function a(e){var n=this.options,i=document.createElement("div");cont=n.container&&1===n.container.nodeType?n.container:document.body,i.innerHTML=e;var r=i.children[0];return r.style.display="none",this.onButtonClick=function(e){var i=t.traverseDOMPath(e.target,n.dom.classes.btn)||e.target;t.hasClass(i,n.dom.classes.acceptAllBtn)&&(this.isExpanded&&this.activateSwitches()||this.acceptAll()),t.hasClass(i,n.dom.classes.rejectAllBtn)&&(this.isExpanded&&this.deactivateSwitches()||this.rejectAll()),t.hasClass(i,n.dom.classes.settingsBtn)&&this.toggleSettings(),t.hasClass(i,n.dom.classes.saveBtn)&&this.save(),t.hasClass(i,n.dom.classes.toggleText)&&this.toggleText(i)}.bind(this),r.addEventListener("click",this.onButtonClick),cont.firstChild?cont.insertBefore(r,cont.firstChild):cont.appendChild(r),r}function s(){var e=this.options,n={};e.content.details=e.content.detailsLeft=e.content.detailsRight="",1==e.cookies.length&&(e.oneCol=!0,e.layout="oneCol");for(var i=0;i<e.cookies.length;i++){var r=e.cookies[i];if(r.tabindex=i+1+"",e.hideTextOverflow&&r.description.length>e.maxChars){var o={ellipsis:e.content.ellipsis+"&nbsp;",showMore:e.content.showMore,contentExcert:r.description.substr(0,e.maxChars),contentRest:r.description.substr(e.maxChars,r.description.length-e.maxChars)+"&nbsp;"};r.description=t.interpolateString(e.templates.option.showMore,o,t.callback)}r.canBeDisabled&&(r.checked=null!==e.initialNonEssentialCookieState&&e.askConsent?e.initialNonEssentialCookieState?"checked":"":r.isEnabled?"checked":"",r.switch=t.interpolateString(e.templates.option.switch,r,t.callback));var a=t.interpolateString(e.templates.option.default,r,t.callback);e.oneCol?(e.layout="oneCol",e.content.details+=a):i%2?e.content.detailsRight+=a:e.content.detailsLeft+=a}for(var s in e.templates.elements)n[s]=t.interpolateString(e.templates.elements[s],e.content,t.callback);var l=window.navigator.cookieEnabled?e.layoutCollection[e.layout]:e.layoutCollection.error;return t.interpolateString(l,n,t.callback)}function l(){var n=this.options;return!0!==n.transition&&(n.styles={transition:"number"==typeof n.transition?"opacity "+n.transition+"s ease":"none"}),function(e,n){t.isPlainObject(e)&&function(e,n){var i={};for(var r in n)for(var o in n[r])for(var a in e)t.hasInterpolation(n[r][o],a)&&(void 0===i[r]&&(i[r]=[]),i[r].push(t.interpolateString(n[r][o],e,t.callback)));var s=document.createElement("style"),l=0;for(var r in document.head.appendChild(s),i)if(i.hasOwnProperty(r)){var u=r+"{"+i[r].join(";")+"}";s.sheet.insertRule(u,l++)}}(e,n)}.call(this,n.styles,n.dom.styleSelectors),[n.wrapperClass,e.hasTransition?n.dom.classes.invisible:"",n.showExpanded?n.dom.classes.expanded:"",n.showOnTop?n.dom.classes.onTop:"",n.hideRejectButton?n.dom.classes.hideRejectAllBtn:"",n.hideAcceptButton?n.dom.classes.hideAcceptAllBtn:"",n.settingsIconAsText?n.dom.classes.hideSettingsIcon:""].join(" ").replace(/^\s+|\s+$/g,"")}return i.prototype.initialise=function(e){this.options&&this.destroy(),t.deepExtend(this.options={},n),t.isPlainObject(e)&&t.deepExtend(this.options,e),this.isExpanded=this.options.showExpanded,(this.options.forceOpen||this.options.autoOpen&&this.options.askConsent)&&this.build()},i.prototype.destroy=function(){this.element&&(this.onButtonClick&&(this.element.removeEventListener("click",this.onButtonClick),this.onButtonClick=null),this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null),this.options=null},i.prototype.open=function(){this.element&&!this.isOpen()&&(e.hasTransition?this.fadeIn():this.element.style.display="",this.options.onPopupOpen.call(this))},i.prototype.build=function(){var e=this.options.templates.window.replace("{{classes}}",l.call(this)).replace("{{children}}",s.call(this));this.element=a.call(this,e),this.open()},i.prototype.toggleSettings=function(){this.isExpanded?this.collapseSettings():this.expandSettings()},i.prototype.expandSettings=function(){t.addClass(this.element,this.options.dom.classes.expanded),this.isExpanded=!0},i.prototype.collapseSettings=function(){t.removeClass(this.element,this.options.dom.classes.expanded),this.isExpanded=!1},i.prototype.activateSwitches=function(){for(var e=this.element.querySelectorAll(this.options.dom.checkbox),t=0;t<e.length;t++)e[t].checked=!0},i.prototype.deactivateSwitches=function(){for(var e=this.element.querySelectorAll(this.options.dom.checkbox),t=0;t<e.length;t++)e[t].checked=!1},i.prototype.toggleSwitches=function(){for(var e=this.element.querySelectorAll(this.options.dom.checkbox),t=!1,n=0;n<e.length;n++)!e[n].checked&&(t=!0);for(n=0;n<e.length;n++)e[n].checked=t},i.prototype.save=function(){for(var t={},n=this.element.querySelectorAll(this.options.dom.checkbox),i=0;i<n.length;i++){t[n[i].getAttribute(this.options.dom.idAttribute)]=n[i].checked}e.service.updateTypesConsent(t,this.close.bind(this))},i.prototype.acceptAll=function(){e.service.acceptAll(this.close.bind(this))},i.prototype.rejectAll=function(){var t=this.options,n={};t.cookies.forEach((function(e){1==e.id?n[e.id]=!0:n[e.id]=!1})),e.service.updateTypesConsent(n,this.close.bind(this))},i.prototype.toggleText=function(e){var n=this.options;t.hasClass(e,n.dom.classes.showLess)?(t.removeClass(e,n.dom.classes.showLess),e.innerHTML=n.content.showMore):(t.addClass(e,n.dom.classes.showLess),e.innerHTML=n.content.showLess),t.toggle(e.parentElement.previousElementSibling),t.toggle(e.previousElementSibling,"inline")},i.prototype.close=function(){this.element&&this.isOpen()&&(e.hasTransition?this.fadeOut():this.element.style.display="none",this.options.onPopupClose.call(this))},i.prototype.fadeIn=function(){var n=this.element;e.hasTransition&&n&&(this.afterTransition&&o.call(this,n),t.hasClass(n,this.options.dom.classes.invisible)&&(n.style.display="",this.openingTimeout=setTimeout(r.bind(this,n),20)))},i.prototype.fadeOut=function(){var n=this.element;e.hasTransition&&n&&(this.openingTimeout&&(clearTimeout(this.openingTimeout),r.bind(this,n)),t.hasClass(n,this.options.dom.classes.invisible)||(this.afterTransition=o.bind(this,n),n.addEventListener(e.transitionEnd,this.afterTransition),t.addClass(n,this.options.dom.classes.invisible)))},i.prototype.isOpen=function(){return this.element&&""==this.element.style.display&&!t.hasClass(this.element,this.options.dom.classes.invisible)},i}(),e.service=void 0!==ServiceFactory.getCookieUserConsentService&&ServiceFactory.getCookieUserConsentService(),e.initialise=function(t){e.service?e.service.init((function(n){n.length?e.service.shouldRequestUserConsent((function(i){t?(t.cookies=n,t.askConsent=i):t={cookies:n,askConsent:i},t.openPopupForRejectedCookies&&e.service.getCookieUsage((function(e){e&&Object.values(e).some((function(e){return e.isInUseOnPage&&!e.isEnabled}))&&(t.forceOpen=!0)})),new e.popup(t)})):console.warn("CookieUserConsentService has no cookies.")})):console.warn("CookieUserConsentService is not enabled.")},e}return{getInstance:function(){return e||(e=new t),e}}}();e.exports=r},8470:(e,t,n)=>{e=n.nmd(e),function(){var t=window.FilePicker=function(e){this.apiKey=e.apiKey,this.clientId=e.clientId,this.buttonEl=e.buttonEl,this.onSelect=e.onSelect,this.onCancel=e.onCancel,this.buttonEl&&(this.buttonEl.disabled=!0,this.extensions=e.extensions,this.opened=!1,gapi.client.setApiKey(this.apiKey),gapi.load("auth",{callback:pjQuery.proxy(this.open,this)}),gapi.client.load("drive","v2",pjQuery.proxy(this._driveApiLoaded,this)),gapi.load("picker",{callback:pjQuery.proxy(this._pickerApiLoaded,this)}))};t.prototype={open:function(){var e=gapi.auth.getToken();e?this._showPicker(e):this._doAuth(!1,pjQuery.proxy((function(e){this._showPicker(e)}),this))},_showPicker:function(e){if(!this.opened&&e&&!e.error){this.opened=!0;var t=e.access_token;if(null==this.picker){var n=new google.picker.View(google.picker.ViewId.DOCS);n.setMimeTypes(this.extensions),this.picker=(new google.picker.PickerBuilder).addView(n).setAppId(this.clientId).setOAuthToken(t).setCallback(pjQuery.proxy(this._pickerCallback,this)).build(),this.picker.setVisible(!0)}else this.picker.setVisible(!0)}},_pickerCallback:function(e){if(e[google.picker.Response.ACTION]==google.picker.Action.PICKED){var t=e[google.picker.Response.DOCUMENTS][0][google.picker.Document.ID];gapi.client.request({path:"/drive/v2/files/"+t,method:"GET"}).execute(pjQuery.proxy(this._fileGetCallback,this))}else this._cancelCallback()},_fileGetCallback:function(e){this.onSelect&&this.onSelect(e)},_cancelCallback:function(){this.onCancel&&this.onCancel()},_pickerApiLoaded:function(){this.buttonEl.disabled=!1},_driveApiLoaded:function(){this._doAuth(!0,pjQuery.proxy((function(){this._showPicker()}),this))},_doAuth:function(e,t){gapi.auth.authorize({client_id:this.clientId+".apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/drive.readonly",immediate:e},t)}},e&&(e.exports=t)}()},6888:(e,t,n)=>{n(7609),n(2834),n(4049),n(50),n(8860),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],r=0;r<n;){var o=t[r];if(e.call(i,o,r,t))return o;r++}},configurable:!0,writable:!0}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if(0===i)return!1;var r,o,a=0|t,s=Math.max(a>=0?a:i-Math.abs(a),0);for(;s<i;){if((r=n[s])===(o=e)||"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))return!0;s++}return!1}}),void 0===Element.prototype.getAttributeNames&&Object.defineProperty(Element.prototype,"getAttributeNames",{value:function(){for(var e=this.attributes,t=e.length,n=new Array(t),i=0;i<t;i++)n[i]=e[i].name;return n}})},385:(e,t,n)=>{"use strict";var i=n(2372),r=n.n(i),o=n(1605),a=n.n(o),s=(n(4954),n(4049),n(6791));function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}if(!u)var u=n(5132);var c=function(){function e(t,n,i,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._title=t,this._message=n,this._portalUrl=i,this._okButton=r,this._timeout=o}var t,n,i;return t=e,(n=[{key:"showAlertOnSessionTimeout",value:function(){var e=this;setTimeout((function(){pjQuery('<div title="'+e._title+'"><p>'+e._message+"</p></div>").dialog({modal:!0,close:function(){window.location.href=e._portalUrl},buttons:[{text:e._okButton,click:function(){window.location.href=e._portalUrl}}]})}),this._timeout)}}])&&l(t.prototype,n),i&&l(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),d=u.getInstance(),p=new s.Z;d.addEventHandler(u.EVENT_LOAD_NAME,(function(){var e=p.get("showAlertOnSessionTimeout");new c(e.title,e.message,e.portalurl,e.okbutton,e.timeout).showAlertOnSessionTimeout()}),u.PRIORITY_MEDIUM);n(942),n(2834),n(9146),n(50),n(3886),n(6194),n(4072);var h=n(2e3);function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}if(!y)var y=n(5132);var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"replaceEmailShareButtonHref",value:function(e,t){var n,i=document.querySelectorAll(".shareButton--email");i&&i.forEach((function(i){n=window.location.href.includes(e)?document.title:i.getAttribute("data-jobname")+" - "+t,i.href=i.href.replace("subject=","subject="+encodeURIComponent(n))}))}}])&&f(t.prototype,n),i&&f(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),_=y.getInstance(),m=new s.Z,v=new h.Z;_.addEventHandler(y.EVENT_LOAD_NAME,(function(){var e=m.get("replaceEmailShareButtonHref");e&&(new g).replaceEmailShareButtonHref(e.jobdetailpagename,v.get("avature.portal.name"))}),y.PRIORITY_MEDIUM);n(2890),n(5985);var b=n(4264);function F(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cookieUserConsentPopupData=t}var t,n,i;return t=e,(n=[{key:"initialise",value:function(){r().getInstance().initialise({content:{description:this.cookieUserConsentPopupData.description,acceptAll:this.cookieUserConsentPopupData.acceptall,rejectAll:this.cookieUserConsentPopupData.rejectall,save:this.cookieUserConsentPopupData.save,cancel:this.cookieUserConsentPopupData.cancel,settings:this.cookieUserConsentPopupData.settings,cookiesDisabled:this.cookieUserConsentPopupData.cookiesdisabled},showOnTop:!1})}}])&&F(t.prototype,n),i&&F(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();b.Z.getEventManager().attachToLoadEvent((function(){var e=(new s.Z).get("cookieUserConsentPopupData");e&&new w(e).initialise()}));function I(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}if(!S)var S=n(5132);var E=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.key=t}var t,n,i;return t=e,n=[{key:"validate",value:function(){var e=this,t=new h.Z;grecaptcha.ready((function(){grecaptcha.execute(e.key,{action:"submit"}).then((function(e){pjQuery.post("/"+t.get("avature.portal.id")+"/_visitValidator",{token:e},null,"json")}))}))}}],n&&I(t.prototype,n),i&&I(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),T=S.getInstance(),P=new s.Z;T.addEventHandler(S.EVENT_LOAD_NAME,(function(){var e=P.get("executeReCaptcha");e&&new E(e.key).validate()}),S.PRIORITY_MEDIUM);n(7609),n(8387),n(1313),n(2179),n(7390);function O(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}if(!C)var C=n(5132);var D=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"makeDateFieldWorkWithTimestamp",value:function(e){this._convertFromTimestampOnLoad(e),this._convertToTimestampOnSubmit(e)}},{key:"_convertToTimestampOnSubmit",value:function(e){pjQuery("form").submit((function(){var t=this;pjQuery(this).find('[name="'+e+'"]').each((function(){var e=pjQuery(this),n=e.val();if(n){n=n.split("-");var i=parseInt(n[1],10)-1,r=parseInt(new Date(n[0],i,n[2]).getTime()/1e3,10);pjQuery("<input>").attr({type:"hidden",name:e.attr("name")+"Timestamp",value:r}).appendTo(t)}}))}))}},{key:"_convertFromTimestampOnLoad",value:function(e){var t=this;pjQuery('[name="'+e+'"]').each((function(){var e=pjQuery(this),n=e.attr("value");if(t._shouldConvertFromTimstampToDateString(n)){var i=LuxonDateTime.fromMillis(1e3*n).toFormat("yyyy-MM-dd");e.val(i),e.attr("value",i)}}))}},{key:"_shouldConvertFromTimstampToDateString",value:function(e){return""!=e&&-1==e.indexOf("-")}}])&&O(t.prototype,n),i&&O(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),k=C.getInstance(),j=new s.Z;k.addEventHandler(C.EVENT_LOAD_NAME,(function(){var e=j.get("makeExpiresDateFieldWorkWithTimestamp");e&&e.inputname&&(new D).makeDateFieldWorkWithTimestamp(e.inputname);var t=j.get("makeStartsDateFieldWorkWithTimestamp");t&&t.inputname&&(new D).makeDateFieldWorkWithTimestamp(t.inputname)}),C.PRIORITY_MEDIUM);function A(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}if(!x)var x=n(5132);var R=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"scheduleAutomaticRedirectionToHome",value:function(e,t){setTimeout((function(){window.location.href="/"+e}),t)}}])&&A(t.prototype,n),i&&A(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),V=x.getInstance(),N=new s.Z;V.addEventHandler(x.EVENT_LOAD_NAME,(function(){var e=N.get("automaticRedirectionToHome");e&&(new R).scheduleAutomaticRedirectionToHome(e.url,e.timeout)}),x.PRIORITY_MEDIUM);n(8860);function L(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}if(!B)var B=n(5132);var Q=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),M(this,"initialized",!1),M(this,"$widgets",{})}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.initialized||(this.initialized=!0,this._doInit())}},{key:"_doInit",value:function(){var e=this;pjQuery('select[data-rel="wsp"]').each((function(){var t=pjQuery(this);e._setCurrentStepId(t,t.val()),t.on("change",(function(){e._updateStep(t,e._getRequestData(t.data("id")))}))}))}},{key:"_getRequestData",value:function(e){var t=this._findForm(e),n=pjQuery('input[name="tokenField"]',t).val(),i={personId:t.data("personid"),jobId:t.data("jobid")},r=pjQuery('select[data-rel="wsp"]',t);return i.newStep=r.val(),i.isPrevious=r.find(":selected").data("previous"),void 0!==n&&n.length&&(i.tokenField=n),i}},{key:"_getFormAction",value:function(e){return this._findForm(e).attr("action")}},{key:"_findForm",value:function(e){return this.$widgets.hasOwnProperty(e)||(this.$widgets[e]=this._findElementOrException("form#"+e)),this.$widgets[e]}},{key:"_updateStep",value:function(e,t){var n=e.data("id"),i=this._getFormAction(n);if(!i.length)throw"Endpoint not found for picker '"+n+"'";this._removeErrorLabel(n);var r=this;pjQuery.post(i,t).done((function(e){r._fillPickerOptions(n,e.steps.next,e.steps.previous,e.texts)})).fail((function(t){var i=t.responseText.replace(/^"|"$/g,"");r._showErrorLabel(n,i),e.val(e.attr("data-current"))}))}},{key:"_fillPickerOptions",value:function(e,t,n,i){t instanceof Array||(t=[]),n instanceof Array||(n=[]);var r,o,a=this._findElementOrException('select[data-id="'+e+'"]'),s=document.createDocumentFragment();for(r in t)t.hasOwnProperty(r)&&((o=document.createElement("option")).value=t[r].id,o.text=t[r].name,o.selected=t[r].selected,o.dataset.previous=!1,s.appendChild(o),o.selected&&this._setCurrentStepId(a,o.value));if(n.length){var l=document.createElement("optgroup");for(r in l.label=i.previousSteps,n)(o=document.createElement("option")).value=n[r].id,o.text=n[r].name,o.dataset.previous=!0,l.appendChild(o);s.appendChild(l)}a.empty().append(s)}},{key:"_showErrorLabel",value:function(e,t){var n=this._findElementOrException('select[data-id="'+e+'"]'),i=pjQuery("<span>").addClass("errorMessage").attr({id:this._getErrorLabelId(e)}).text(t);n.after(i)}},{key:"_removeErrorLabel",value:function(e){this._findElement("#"+this._getErrorLabelId(e)).remove()}},{key:"_getErrorLabelId",value:function(e){return e+"-errorMessage"}},{key:"_findElementOrException",value:function(e){var t=this._findElement(e);if(!t.length)throw'Selector "'+e+'" not found';return t}},{key:"_findElement",value:function(e){return pjQuery(e)}},{key:"_setCurrentStepId",value:function(e,t){e.attr("data-current",t)}}])&&L(t.prototype,n),i&&L(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();B.getInstance().addEventHandler(B.EVENT_LOAD_NAME,(function(){document.querySelectorAll('select[data-rel="wsp"]')&&(new Q).init()}),B.PRIORITY_MEDIUM);function U(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}if(!Y)var Y=n(5132);var W=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"addCaptchaError",value:function(e){if(e){var t=pjQuery("<span/>",{class:"errorMessage",html:e});pjQuery(".g-recaptcha").before(t)}}}])&&U(t.prototype,n),i&&U(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),H=Y.getInstance(),z=new s.Z;H.addEventHandler(Y.EVENT_LOAD_NAME,(function(){var e=z.get("captchaError");e&&(new W).addCaptchaError(e.error)}),Y.PRIORITY_MEDIUM);function q(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}if(!J)var J=n(5132);var Z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"renderChart",value:function(e,t){AvatureChart.render(e,JSON.parse(t))}}])&&q(t.prototype,n),i&&q(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),$=J.getInstance(),K=new s.Z;$.addEventHandler(J.EVENT_LOAD_NAME,(function(){var e=K.getAllByDataValue("type","avatureChart");e&&e.forEach((function(e){var t=K.get(e.id);(new Z).renderChart(t.id,t.json)}))}),J.PRIORITY_MEDIUM);n(6926),n(1688),n(8045),n(6381),n(3755),n(9100),n(3460),n(8586),n(2590),n(137),n(6392),n(6064),n(5996),n(5794);function G(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(2678);const X=function(){function e(t,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=t,this._dictionary=this._buildDictionaryFromData(t),this._uploadButtonId=n,this._errorContainerId=i,this._methodContainerCssClass=r}var t,n,i;return t=e,(n=[{key:"_buildDictionaryFromData",value:function(e){return this._getCommonDictionaryFromData(e)}},{key:"_getCommonDictionaryFromData",value:function(e){var t=document.getElementById(e);return{continue:t.dataset.continue,fieldIsRequired:t.dataset.fieldisrequired,noFileSelected:t.dataset.nofileselected}}},{key:"_appendFieldContainerToForm",value:function(e,t,n){var i=this._getForm(),r=this._buildManualMethodContainer(),o=this._buildFieldContainer(),a=this._buildUploadResumeButton(this._dictionary.continue),s=this._buildErrorContainer(this._dictionary.fieldIsRequired,n),l=this._buildErrorContainerAccessibilityMessage(this._dictionary.fieldIsRequired,n);o.append(e),r.append(l),t.append(s),o.append(t),r.append(o),r.append(a),r.hide(),i.append(r),this._attachResumeRegistrationFileModeIfNeeded()}},{key:"_getForm",value:function(){return pjQuery("#manualRegisterMethodsForm")}},{key:"_submitForm",value:function(){this._getForm().submit()}},{key:"_attachResumeRegistrationFileModeIfNeeded",value:function(){if(!this._getResumeRegistrationFileModeInput().length){var e=pjQuery("<input/>",{class:"resumeRegistrationFileMode",type:"hidden",name:"radio"});this._getForm().prepend(e)}}},{key:"_setResumeRegistrationFileMode",value:function(e){this._getResumeRegistrationFileModeInput().val(e)}},{key:"_getResumeRegistrationFileModeInput",value:function(){return pjQuery("input.resumeRegistrationFileMode")}},{key:"_buildManualMethodContainer",value:function(){return pjQuery("<fieldset/>",{id:this._id+"FieldSetContainer",class:"manualRegisterMethodExtra Section"})}},{key:"_buildFieldContainer",value:function(){return pjQuery("<div/>",{id:this._id+"FieldSpec",class:"fieldSpec"})}},{key:"_buildUploadResumeButton",value:function(e){var t=pjQuery("<button/>",{id:this._uploadButtonId,class:"button button--primary button--default",type:"submit",value:e,text:e}),n=pjQuery("<div/>",{id:this._uploadButtonId+"Container",class:"fieldSpec button-bar"}).append(t);return n.hide(),n}},{key:"_buildErrorContainer",value:function(e,t){var n=pjQuery("<span/>",{id:this._errorContainerId,class:"errorMessage",role:"alert","data-fieldlabel":t,text:e}).prepend(pjQuery("<span/>",{"aria-hidden":"true",class:"errorMessageIcon",text:"(!)"}));return n.hide(),n}},{key:"_buildErrorContainerAccessibilityMessage",value:function(e,t){return pjQuery("<div/>",{id:this._errorContainerId+"Message",class:"screenReaderVisibility",tabindex:0,role:"alert","data-fieldlabel":t,text:e})}},{key:"_buildRequiredFieldLabel",value:function(e,t){return pjQuery("<label/>",{class:"requiredField",text:e,tabindex:0,for:t}).append(this._buildLabelRequiredIcon())}},{key:"_buildAnotherFileButtonContainer",value:function(e,t){return pjQuery("<div/>",{class:"fieldContainer"}).append([pjQuery("<div/>",{class:"selectedFile"}).append([pjQuery("<span/>",{id:e,text:this._dictionary.noFileSelected}),pjQuery("<a/>",{id:t,class:"button button--secondary button--small",text:this._dictionary.chooseAnotherFile,tabindex:0,role:"button"})])])}},{key:"_buildLabelRequiredIcon",value:function(e,t){return pjQuery("<span/>",{class:"labelRequiredIcon","aria-hidden":!0,text:" *"})}},{key:"_showCurrentManualMethodContainerAndHideMoreManualMethods",value:function(){pjQuery("fieldset.manualRegisterMethodExtra").each((function(){pjQuery(this).hide()})),pjQuery("#"+this._id+"FieldSetContainer").show(),pjQuery("a.list__item__link").each((function(){pjQuery(this).removeClass("manualRegisterMethodSelected")})),this._getManualMethodButton().addClass("manualRegisterMethodSelected")}},{key:"_getManualMethodButton",value:function(){return pjQuery("#"+this._id)}},{key:"_getUploadButton",value:function(){return pjQuery("#"+this._uploadButtonId)}},{key:"_getUploadButtonContainer",value:function(){return pjQuery("#"+this._uploadButtonId+"Container")}},{key:"_getErrorContainer",value:function(){return pjQuery("#"+this._errorContainerId)}},{key:"_getFieldContainer",value:function(){return pjQuery("#"+this._id+"FieldSpec")}},{key:"_showErrorContainer",value:function(){this._getErrorContainer().show(),this._getFieldContainer().addClass("hasErrors")}},{key:"_hideErrorContainer",value:function(){this._getErrorContainer().hide(),this._getFieldContainer().removeClass("hasErrors")}},{key:"_enableKeyboardClickForAccessibility",value:function(e){e.keypress((function(e){var t=e.keyCode?e.keyCode:e.which;13!==t&&32!==t||(e.preventDefault(),this.click())}))}}])&&G(t.prototype,n),i&&G(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function oe(){return oe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=ae(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},oe.apply(this,arguments)}function ae(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ce(e)););return e}function se(e,t){return se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},se(e,t)}function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ce(e);if(t){var r=ce(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return ue(this,n)}}function ue(e,t){if(t&&("object"===ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ce(e){return ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ce(e)}if(!de)var de=n(5132);n(2678);var pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&se(e,t)}(o,e);var t,n,i,r=le(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e,"uploadPasteResume","pasteManualMethodErrorContainer","resumePasteField")).textAreaId="resumePaste",t}return t=o,(n=[{key:"prepare",value:function(){this._appendTextAreaContainer(),this._attachEvents()}},{key:"_buildDictionaryFromData",value:function(e){var t=document.getElementById(e),n=oe(ce(o.prototype),"_getCommonDictionaryFromData",this).call(this,e),i={copyAndPasteResume:t.dataset.copyandpasteresume};return ne(ne({},n),i)}},{key:"_appendTextAreaContainer",value:function(){var e=pjQuery("<label/>",{class:"requiredField",for:this.textAreaId,text:this._dictionary.copyAndPasteResume}).append(this._buildLabelRequiredIcon()),t=pjQuery("<div/>",{class:"fieldContainer"}).append(pjQuery("<textarea/>",{id:this.textAreaId,name:"resumePaste","aria-required":!0}));this._appendFieldContainerToForm(e,t,this._dictionary.copyAndPasteResume)}},{key:"_attachEvents",value:function(){var e=this,t=this._getManualMethodButton();t.click((function(){e._showCurrentManualMethodContainerAndHideMoreManualMethods(),e._getTextArea().focus()})),this._enableKeyboardClickForAccessibility(t),this._getUploadButton().click((function(t){t.preventDefault(),e._isResumePasted()?(e._setResumeRegistrationFileMode("paste"),e._submitForm()):(e._getUploadButtonContainer().hide(),e._getErrorContainer().show())})),this._getTextArea().on("keyup change focusout",(function(t){pjQuery(this).val()?(e._getUploadButtonContainer().show(),e._hideErrorContainer()):(e._getUploadButtonContainer().hide(),e._showErrorContainer())}))}},{key:"_isResumePasted",value:function(){return!!this._getTextArea().val()}},{key:"_getTextArea",value:function(){return pjQuery("#"+this.textAreaId)}}])&&re(t.prototype,n),i&&re(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(X);de.getInstance().addEventHandler(de.EVENT_LOAD_NAME,(function(){var e=document.querySelectorAll('a[data-registermethod="paste"]');e&&e.forEach((function(e){new pe(e.id).prepare()}))}),de.PRIORITY_MEDIUM);n(629);const he=function(){var e=[{name:"fakeDropboxResume.txt",link:"fakeDropboxResumeLink"}];function t(){}function n(e){this.options=e}return t.prototype.createChooseButton=function(e){return new n(e)},n.prototype.click=function(){this.options.success(e)},{getApi:function(){return(new s.Z).get("enableDropboxDummyApi")?new t:Dropbox}}}();function fe(e){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(e)}function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ve(){return ve="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=be(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},ve.apply(this,arguments)}function be(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Se(e)););return e}function Fe(e,t){return Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Fe(e,t)}function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Se(e);if(t){var r=Se(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Ie(this,n)}}function Ie(e,t){if(t&&("object"===fe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Se(e){return Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Se(e)}if(!Ee)var Ee=n(5132);n(2678);var Te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fe(e,t)}(o,e);var t,n,i,r=we(o);function o(e,t,n,i,a,s){var l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(l=r.call(this,e,"uploadDropboxResume","dropboxManualMethodErrorContainer","resumeDropboxField"))._appKey=t,l._allowedFileExtensions=n,l._dropboxLinkId=i,l._dropboxFileNameId=a,l._dropboxHiddenContainerId=s,l._dropboxLinkNameContainerId="dropboxLinkNameContainer",l._dropboxPickerAnotherId="dropboxPickerAnother",l}return t=o,(n=[{key:"prepare",value:function(){this._appendDropboxContainer(),this._appendHiddenInputs();var e=this._buildDropboxButton();this._attachEvents(e)}},{key:"_buildDictionaryFromData",value:function(e){var t=document.getElementById(e),n=ve(Se(o.prototype),"_getCommonDictionaryFromData",this).call(this,e),i={chooseAnotherFile:t.dataset.chooseanotherfile,fromDropbox:t.dataset.fromdropbox};return ge(ge({},n),i)}},{key:"_appendHiddenInputs",value:function(){this._getForm().append([pjQuery("<input/>",{type:"hidden",name:this._dropboxFileNameId,id:this._dropboxFileNameId}),pjQuery("<input/>",{type:"hidden",name:this._dropboxLinkId,id:this._dropboxLinkId})])}},{key:"_appendDropboxContainer",value:function(){var e=this._buildRequiredFieldLabel(this._dictionary.fromDropbox,this._dropboxLinkId),t=this._buildAnotherFileButtonContainer(this._dropboxLinkNameContainerId,this._dropboxPickerAnotherId);this._appendFieldContainerToForm(e,t,this._dictionary.fromDropbox)}},{key:"_attachEvents",value:function(e){var t=this,n=this._getManualMethodButton();n.click((function(n){n.preventDefault(),t._initDropboxPicker(e)})),this._enableKeyboardClickForAccessibility(n);var i=pjQuery("#"+this._dropboxPickerAnotherId);i.click((function(n){n.preventDefault(),t._initDropboxPicker(e)})),this._enableKeyboardClickForAccessibility(i),this._getUploadButton().click((function(e){e.preventDefault(),t._isDropboxFileAvailable()?(t._setResumeRegistrationFileMode("dropbox"),t._submitForm()):(t._getUploadButtonContainer().hide(),t._showErrorContainer())}))}},{key:"_isDropboxFileAvailable",value:function(){return!!pjQuery("#dropboxLink").val()}},{key:"_initDropboxPicker",value:function(e){this._showCurrentManualMethodContainerAndHideMoreManualMethods(),e.click(),pjQuery("#"+this._dropboxPickerAnotherId).focus()}},{key:"_buildDropboxButton",value:function(){var e=this,t={success:function(t){pjQuery("#"+e._dropboxFileNameId).val(t[0].name),pjQuery("#"+e._dropboxLinkId).val(t[0].link),pjQuery("#"+e._dropboxPickerAnotherId).show(),pjQuery("#"+e._dropboxLinkNameContainerId).text(t[0].name),e._hideErrorContainer(),e._getUploadButtonContainer().show(),e._getUploadButton().focus()},cancel:function(){pjQuery("#"+e._dropboxLinkId).val()?(e._getUploadButtonContainer().show(),e._getUploadButton().focus()):(e._getUploadButtonContainer().hide(),e._showErrorContainer(),e._setResumeRegistrationFileMode(""),pjQuery("#"+e._dropboxPickerAnotherId).focus())},linkType:"direct",extensions:JSON.parse(this._allowedFileExtensions)},n=he.getApi().createChooseButton(t);return pjQuery("#"+this._dropboxHiddenContainerId).append(n),n}}])&&me(t.prototype,n),i&&me(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(X);Ee.getInstance().addEventHandler(Ee.EVENT_LOAD_NAME,(function(){var e=document.querySelectorAll('a[data-registermethod="dropbox"]');e&&e.forEach((function(e){new Te(e.id,e.dataset.appkey,e.dataset.allowedmimetypes,e.dataset.linkid,e.dataset.filenameid,e.dataset.hiddencontainerid).prepare()}))}),Ee.PRIORITY_MEDIUM);function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){De(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function je(){return je="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=Ae(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},je.apply(this,arguments)}function Ae(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ne(e)););return e}function xe(e,t){return xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xe(e,t)}function Re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ne(e);if(t){var r=Ne(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Ve(this,n)}}function Ve(e,t){if(t&&("object"===Pe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ne(e){return Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ne(e)}if(!Le)var Le=n(5132);n(2678);var Me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xe(e,t)}(o,e);var t,n,i,r=Re(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,e,"uploadFileResume","fileManualMethodErrorContainer","resumeFileField"))._inputId="resumeFile",n._allowedFileExtensions=t,n._fileNameContainerId="fileNameContainer",n._filePickerAnotherId="filePickerAnother",n}return t=o,(n=[{key:"prepare",value:function(){this._appendInputFileContainer(),this._attachEvents()}},{key:"_buildDictionaryFromData",value:function(e){var t=document.getElementById(e),n=je(Ne(o.prototype),"_getCommonDictionaryFromData",this).call(this,e),i={chooseAnotherFile:t.dataset.chooseanotherfile,fromComputer:t.dataset.fromcomputer};return Ce(Ce({},n),i)}},{key:"_appendInputFileContainer",value:function(){var e=this._buildRequiredFieldLabel(this._dictionary.fromComputer,this._inputId),t=pjQuery("<input/>",{id:this._inputId,type:"file",name:"resumeFile","aria-required":!0,accept:this._allowedFileExtensions});t.hide();var n=this._buildAnotherFileButtonContainer(this._fileNameContainerId,this._filePickerAnotherId);n.prepend(t),this._appendFieldContainerToForm(e,n,this._dictionary.fromComputer)}},{key:"_attachEvents",value:function(){var e=this,t=this._getManualMethodButton();t.click((function(){e._showCurrentManualMethodContainerAndHideMoreManualMethods(),e._getFileInput().click(),pjQuery("#"+e._filePickerAnotherId).focus()})),this._enableKeyboardClickForAccessibility(t);var n=pjQuery("#"+this._filePickerAnotherId);n.click((function(t){t.preventDefault(),e._getManualMethodButton().click()})),this._enableKeyboardClickForAccessibility(n),this._getUploadButton().click((function(t){t.preventDefault(),e._isFileAvailable()?(e._setResumeRegistrationFileMode("file"),e._submitForm()):(e._getUploadButtonContainer().hide(),e._showErrorContainer())})),this._getFileInput().change((function(){var t=e._getUploadButtonContainer();pjQuery(this).val()?(t.show(),e._hideErrorContainer(),e._getUploadButton().focus(),pjQuery("#"+e._fileNameContainerId).text(this.files[0].name)):(t.hide(),e._showErrorContainer(),e._setResumeRegistrationFileMode(""),e._getFileInput().focus(),pjQuery("#"+e._fileNameContainerId).text(e._dictionary.noFileSelected))}))}},{key:"_isFileAvailable",value:function(){return!!this._getFileInput().val()}},{key:"_getFileInput",value:function(){return pjQuery("#"+this._inputId)}}])&&ke(t.prototype,n),i&&ke(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(X);Le.getInstance().addEventHandler(Le.EVENT_LOAD_NAME,(function(){var e=document.querySelectorAll('a[data-registermethod="file"]');e&&e.forEach((function(e){new Me(e.id,e.dataset.allowedfilextensions).prepare()}))}),Le.PRIORITY_MEDIUM);const Be=function(){var e={access_token:"fakeAccessToken"},t={id:"fakeDriveResumeId",title:"fakeDriveResume.txt"};function n(){}function i(){}function r(e){this.options=e,e.onSelect(t)}return n.prototype.auth=new i,i.prototype.getToken=function(){return e},{getApi:function(){return(new s.Z).get("enableGoogleDriveDummyApi")?new n:gapi},createFilePicker:function(e){return(new s.Z).get("enableGoogleDriveDummyApi")?new r(e):new FilePicker(e)}}}();function Qe(e){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(e)}function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){We(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function He(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ze(){return ze="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=qe(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},ze.apply(this,arguments)}function qe(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ke(e)););return e}function Je(e,t){return Je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Je(e,t)}function Ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ke(e);if(t){var r=Ke(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return $e(this,n)}}function $e(e,t){if(t&&("object"===Qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ke(e){return Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ke(e)}if(!Ge)var Ge=n(5132);n(2678);var Xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Je(e,t)}(o,e);var t,n,i,r=Ze(o);function o(e,t,n,i,a,s){var l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(l=r.call(this,e,"uploadDriveResume","driveManualMethodErrorContainer","resumeDriveField"))._appKey=t,l._clientId=n,l._exportTpye=i,l._allowedFileExtensions=a,l._driveFileNameId=s,l._driveLinkNameContainerId="driveLinkNameContainer",l._drivePickerAnotherId="drivePickerAnother",l}return t=o,(n=[{key:"prepare",value:function(){this._appendGoogleDriveContainer(),this._appendHiddenInput(),this._attachEvents()}},{key:"_buildDictionaryFromData",value:function(e){var t=document.getElementById(e),n=ze(Ke(o.prototype),"_getCommonDictionaryFromData",this).call(this,e),i={chooseAnotherFile:t.dataset.chooseanotherfile,fromDrive:t.dataset.fromdrive};return Ye(Ye({},n),i)}},{key:"_appendHiddenInput",value:function(){this._getForm().append(pjQuery("<input/>",{type:"hidden",name:this._driveFileNameId,id:this._driveFileNameId}))}},{key:"_appendGoogleDriveContainer",value:function(){var e=this._buildRequiredFieldLabel(this._dictionary.fromDrive,this._driveFileNameId),t=this._buildAnotherFileButtonContainer(this._driveLinkNameContainerId,this._drivePickerAnotherId);this._appendFieldContainerToForm(e,t,this._dictionary.fromDrive)}},{key:"_attachEvents",value:function(){var e=this,t=this._getManualMethodButton();t.click((function(t){t.preventDefault(),e._initDrivePicker(e._id)})),this._enableKeyboardClickForAccessibility(t);var n=pjQuery("#"+this._drivePickerAnotherId);n.click((function(t){t.preventDefault(),e._initDrivePicker(e._drivePickerAnotherId)})),this._enableKeyboardClickForAccessibility(n),this._getUploadButton().click((function(t){t.preventDefault(),e._isGoogleDriveFileAvailable()?(e._setResumeRegistrationFileMode("drive"),e._submitForm()):(e._getUploadButtonContainer().hide(),e._showErrorContainer())}))}},{key:"_isGoogleDriveFileAvailable",value:function(){return!!pjQuery("#driveFileId").val()}},{key:"_initDrivePicker",value:function(e){this._showCurrentManualMethodContainerAndHideMoreManualMethods();var t=this;Be.createFilePicker({apiKey:this._appKey,clientId:this._clientId,buttonEl:document.getElementById(e),onSelect:function(e){var n=e.title;e&&e.id&&(t.addFileDataToDownload(e),pjQuery("#"+t._drivePickerAnotherId).show(),t._getUploadButtonContainer().show(),t._hideErrorContainer()),pjQuery("#"+t._driveFileNameId).val(n),pjQuery("#"+t._driveLinkNameContainerId).text(e.title),t._getUploadButton().focus()},onCancel:function(){pjQuery("#"+t._driveLinkId).val()?(t._getUploadButtonContainer().show(),t._getUploadButton().focus()):(t._getUploadButtonContainer().hide(),t._showErrorContainer(),t._setResumeRegistrationFileMode(""),pjQuery("#"+t._drivePickerAnotherId).focus())},extensions:this._allowedFileExtensions}),pjQuery("#"+this._drivePickerAnotherId).focus()}},{key:"addFileDataToDownload",value:function(e){if(e&&e.id){var t=Be.getApi().auth.getToken().access_token,n=this._getForm();this.createInputIfNotExists({name:"driveFileId",id:"driveFileId",value:e.id,type:"hidden"}).appendTo(n),this.createInputIfNotExists({name:"driveAccessToken",id:"driveAccessToken",value:t,type:"hidden"}).appendTo(n)}}},{key:"createInputIfNotExists",value:function(e){var t=pjQuery("#"+e.id);return 0===t.length&&(t=pjQuery("<input>")),t.attr(e),t}}])&&He(t.prototype,n),i&&He(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(X);Ge.getInstance().addEventHandler(Ge.EVENT_LOAD_NAME,(function(){var e=document.querySelectorAll('a[data-registermethod="drive"]');e&&e.forEach((function(e){new Xe(e.id,e.dataset.appkey,e.dataset.clientid,e.dataset.exportmimetype,e.dataset.allowedmimetypes,e.dataset.filenameid).prepare()}))}),Ge.PRIORITY_MEDIUM);function et(e){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},et(e)}function tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function it(e,t){return it=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},it(e,t)}function rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=at(e);if(t){var r=at(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return ot(this,n)}}function ot(e,t){if(t&&("object"===et(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function at(e){return at=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},at(e)}if(!st)var st=n(5132);n(2678);var lt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&it(e,t)}(o,e);var t,n,i,r=rt(o);function o(){return tt(this,o),r.apply(this,arguments)}return t=o,(n=[{key:"prepare",value:function(){this._attachEvents()}},{key:"_attachEvents",value:function(){var e=this._getManualMethodButton();this._enableKeyboardClickForAccessibility(e)}}])&&nt(t.prototype,n),i&&nt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(X);st.getInstance().addEventHandler(st.EVENT_LOAD_NAME,(function(){var e=document.querySelectorAll('a[data-registermethod="later"]');e&&e.forEach((function(e){new lt(e.id).prepare()}))}),st.PRIORITY_MEDIUM);function ut(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}if(!ct)var ct=n(5132);var dt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"inject",value:function(e,t){var n=document.getElementById(t);(n=n.contentWindow||n.contentDocument.document||n.contentDocument).document.open(),n.document.write(e),n.document.close()}}])&&ut(t.prototype,n),i&&ut(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();ct.getInstance().addEventHandler(ct.EVENT_LOAD_NAME,(function(){var e=document.querySelectorAll('iframe[class="pCustomFrame"]');if(e){var t=new dt;e.forEach((function(e){t.inject(e.dataset.content,e.id)}))}}),ct.PRIORITY_MEDIUM);function pt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}if(!ht)var ht=n(5132);var ft=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"configureButtonClick",value:function(e){var t=document.getElementById("default-apply-button");t&&(t.onclick=window[e])}}])&&pt(t.prototype,n),i&&pt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),yt=ht.getInstance(),gt=new s.Z;yt.addEventHandler(ht.EVENT_LOAD_NAME,(function(){var e=gt.get("linkedinDefaultApplyButton");e&&(new ft).configureButtonClick(e.onclickmethod)}),ht.PRIORITY_MEDIUM);function _t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}if(!mt)var mt=n(5132);var vt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"formatWidth",value:function(e){for(var t=document.querySelectorAll('div.progress__bar[data-progress="'+e+'%"]'),n=0;n<t.length;n++)t[n].style.width=e+"%"}}])&&_t(t.prototype,n),i&&_t(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),bt=mt.getInstance(),Ft=new s.Z;bt.addEventHandler(mt.EVENT_LOAD_NAME,(function(){var e=Ft.getAllByDataValue("type","listProgressBarData");if(e){var t=new vt;e.forEach((function(e){t.formatWidth(e.dataset.progress)}))}}),mt.PRIORITY_MEDIUM);n(5657);function wt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}if(!It)var It=n(5132);var St=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"configureDelegateWidget",value:function(e){pjQuery("#delegateWidget").autocomplete({source:function(t,n){pjQuery.ajax({type:"POST",url:"/"+e+"/_portalUserApi?delegates=true",dataType:"json",cache:!1,xhrFields:{withCredentials:!0},data:JSON.stringify({key:t.term}),success:function(e){n(pjQuery.map(e,(function(e){return{label:e.longName,shortName:e.shortName,value:e.id}})))}})},minLength:2,select:function(e,t){return pjQuery("#delegateUserId").val(""),0!=t.item.value&&(pjQuery("#delegateWidget").val(t.item.label),pjQuery("#delegateUserId").val(t.item.value)),!1},focus:function(e,t){return pjQuery("#delegateUserId").val(""),0!=t.item.value&&(pjQuery("#delegateWidget").val(t.item.label),pjQuery("#delegateUserId").val(t.item.value)),!1}});var t=pjQuery("#delegateEnabled"),n=pjQuery("#delegateNotify");if(t.length&&n.length){var i=this;t.on("change",(function(){i._delegateEnableChecker(t,n)})),this._delegateEnableChecker(t,n)}}},{key:"_delegateEnableChecker",value:function(e,t){e.prop("checked")?t.attr("disabled",!1):(t.attr("disabled","disabled"),t.attr("checked",!1))}}])&&wt(t.prototype,n),i&&wt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Et=It.getInstance(),Tt=new s.Z;Et.addEventHandler(It.EVENT_LOAD_NAME,(function(){var e=Tt.get("portalsDelegateWidget");e&&(new St).configureDelegateWidget(e.portalurlpath)}),It.PRIORITY_HIGH);n(1659),n(9142),n(6170),n(1988),n(4792);function Pt(){}Pt.assertIsValid=function(e){if(!(e&&e instanceof Pt))throw new Error("invalidArgumentException: invalid value. It must be an instance of ValueBaseLegacy.")},Pt.prototype.getType=function(){throw new Error("notImplementedError")},Pt.prototype.toString=function(){throw new Error("notImplementedError")},Pt.prototype.isEmpty=function(){return!1};const Ot=Pt;function Ct(){Ot.call(this)}Ct.TYPE="FieldEmptyValueLegacy",Ct.prototype=Object.create(Ot.prototype),Ct.prototype.getType=function(){return Ct.TYPE},Ct.prototype.toString=function(){return""},Ct.prototype.isEmpty=function(){return!0};const Dt=Ct;function kt(){}kt.registerFieldDependency=function(e,t,n){PortalHtml.elementExists(e)&&PortalHtml.elementExists(t)&&(n!==kt.TYPE_DISPLAY&&n!==kt.TYPE_VALUES||(kt._existsFieldWithDependencies(t)||(kt._fieldsDependencies[t]=[]),-1===kt._fieldsDependencies[t].indexOf(e)&&(kt._fieldsDependencies[t][e]=[]),-1===kt._fieldsDependencies[t][e].indexOf(n)&&kt._fieldsDependencies[t][e].push(n)))},kt.getChildDependentFieldsOf=function(e){return kt._existsFieldWithDependencies(e)?kt._fieldsDependencies[e]:[]},kt._existsFieldWithDependencies=function(e){return e in kt._fieldsDependencies},kt.TYPE_DISPLAY="Display",kt.TYPE_VALUES="Values",kt._fieldsDependencies={};const jt=kt;function At(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}const xt=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._parentDependencyFieldId=t,this._operator=n,this._value=i}var t,n,i;return t=e,(n=[{key:"getParentDependencyFieldId",value:function(){return this._parentDependencyFieldId}},{key:"getOperator",value:function(){return this._operator}},{key:"getValue",value:function(){return this._value}}])&&At(t.prototype,n),i&&At(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Rt(){}Rt.isFieldRegistered=function(e){return e in Rt._fields},Rt.registerField=function(e,t){return!(Rt.isFieldRegistered(e)||!PortalHtml.elementExists(e))&&(Rt._fields[e]=t,!0)},Rt.getFieldValue=function(e){return Rt._getFieldOrDie(e).getValue()},Rt.getFieldValueByType=function(e,t){var n=Rt._getFieldOrDie(e).getValue();if(n.getType()!==t&&n.getType()!==Dt.TYPE)throw new Error("invalidValueError: field "+e+" returns "+n.getType()+" values");return n},Rt.getFieldValueForVisibilityCondition=function(e){return Rt._getFieldOrDie(e).getValueForVisibilityCondition()},Rt.setFieldValue=function(e,t){Rt._getFieldOrDie(e).setValue(t)},Rt.hasValue=function(e){var t=Rt.getField(e);if(null!==t)return t.hasValue();Rt._throwFieldNotRegisteredException(e)},Rt.cloneForNewTableRow=function(e,t,n){PortalString.isString(n)||(n="");var i=e+"-0"+n,r=e+"-"+t+n;if(null===Rt.getField(r)){var o=Rt.getField(i);null===o&&Rt._throwFieldNotRegisteredException(e),o.cloneForNewTableRow(r,t)}},Rt.isVisible=function(e){var t=Rt.getField(e);return null!==t&&t.isVisible()},Rt.setFieldVisibilityConditionFromParams=function(e,t,n,i){if(Rt.isFieldRegistered(e)){var r=Rt.getField(e),o=new xt(t,n,i);r.addVisibilityCondition(o)}},Rt.onFieldValueChange=function(e){if(Rt.isFieldRegistered(e)){var t,n,i,r=jt.getChildDependentFieldsOf(e);for(n in r)if(r.hasOwnProperty(n))for(t=0;t<r[n].length;t++)i=r[n][t],Rt._addFieldAsPendingToBeUpdated(n,i,e);var o=Rt._getFieldsPendingToBeUpdated(e);for(t=0;t<o.length;t++){n=o[t];var a=Rt.getField(n);null!==a&&(a.onRelatedFieldValueChange(e),Rt._removePendingToBeUpdatedField(n))}}},Rt.fieldAcceptsValueType=function(e,t){return Rt._getFieldOrDie(e).fieldAcceptsValueType(t)},Rt.isSomeFieldBeingUpdated=function(){for(var e in Rt._fields)if(Rt._fields.hasOwnProperty(e)&&Rt.getField(e).isBeingUpdated())return!0;return!1},Rt.getField=function(e){return Rt.isFieldRegistered(e)?Rt._fields[e]:null},Rt.dispatchBeforeSubmit=function(){for(var e in Rt._fields)Rt.getField(e).onBeforeSubmit()},Rt._throwFieldNotRegisteredException=function(e){throw new Error("tryToAccessNonRegisteredField: "+e)},Rt._addFieldAsPendingToBeUpdated=function(e,t,n){-1===Rt._fieldsPendingToBeUpdated.indexOf(e)?Rt._fieldsPendingToBeUpdated[e]={dependencyType:t,parentFieldId:n}:Rt._fieldsPendingToBeUpdated[e].dependencyType===jt.TYPE_DISPLAY&&t===jt.TYPE_VALUES&&(Rt._fieldsPendingToBeUpdated[e]={dependencyType:t,parentFieldId:n})},Rt._getFieldsPendingToBeUpdated=function(e){var t=[];for(var n in Rt._fieldsPendingToBeUpdated){if(Rt._fieldsPendingToBeUpdated.hasOwnProperty(n))Rt._fieldsPendingToBeUpdated[n].parentFieldId===e&&t.push(n)}return t},Rt._removePendingToBeUpdatedField=function(e){var t=Rt._fieldsPendingToBeUpdated.indexOf(e);t>-1&&Rt._fieldsPendingToBeUpdated.splice(t,1)},Rt._getFieldOrDie=function(e){var t=Rt.getField(e);if(null!==t)return t;Rt._throwFieldNotRegisteredException(e)},Rt._fieldsPendingToBeUpdated=[],Rt._fields={};const Vt=Rt;function Nt(e){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nt(e)}function Lt(){}Lt.evaluateForField=function(e,t){if(!t)return!1;for(var n=!0,i=t.length-1;i>=0;i--){var r=t[i],o=r.getParentDependencyFieldId(),a=Vt.getFieldValueForVisibilityCondition(o);if(!(n=Vt.isVisible(o)&&(a instanceof Array?this._evaluateArrayedValue(a,r.getValue(),r.getOperator()):this._evaluateValue(a,r.getValue(),r.getOperator()))))break}var s=e.isVisible();return n?!s&&(e.show(),!0):!!s&&(e.hide(),!0)},Lt._evaluateArrayedValue=function(e,t,n){return"all"===n||"=="===n?this._arrayEquals(e,t):"!="===n?!this._arrayEquals(e,t):"any"===n?this._arrayContainsAny(e,t):"none"===n?!this._arrayContainsAny(e,t):void 0},Lt._arrayContainsAny=function(e,t){for(var n=0;n<e.length;n++)for(var i=0;i<t.length;i++)if(Lt._parseValueForEvaluation(e[n])==Lt._parseValueForEvaluation(t[i]))return!0;return!1},Lt._arrayEquals=function(e,t){if(e.length<t.length)return!1;for(var n=!0,i=0;i<t.length;i++){for(var r=!1,o=0;o<e.length&&!r;o++)Lt._parseValueForEvaluation(t[i])==Lt._parseValueForEvaluation(e[o])&&(r=!0);n=r&&n}return n},Lt._evaluateValue=function(e,t,n){return e=Lt._parseValueForEvaluation(e),"=="===n?(null!==e||null===t)&&(e==t||!(e<t||e>t)):"!="===n?e!=t:"any"===n||"none"===n?this._evaluateArrayedValue([e],t,n):"isSet"===n?this._evaluateValueIsSet(e,t):"isEmpty"===n?!this._isValueSet(e):void 0},Lt._evaluateValueIsSet=function(e,t){return this._isWhenIsSetConditionValue(t)?this._isValueSet(e):this._isWhenIsNotSetConditionValue(t)?!this._isValueSet(e):void 0},Lt._isValueSet=function(e){return""!==e&&null!=e},Lt._isWhenIsSetConditionValue=function(e){return"1"===e},Lt._isWhenIsNotSetConditionValue=function(e){return"2"===e},Lt._parseValueForEvaluation=function(e){if(null===e)return null;if("string"==typeof e&&-1!==e.indexOf("JSNType")){var t=JSON.parse(e);return t.value&&t.value.id?t.value.id:null}return"object"===Nt(e)&&e.value?e.value.id:e};const Mt=Lt;function Bt(e){this._fieldId=e,this._visibilityConditions=[],this._isBeingUpdated=!1,this._shouldReupdateAfterCurrentUpdate=!1,this._nextUpdateParentFieldId=null}Bt.prototype.register=function(){Vt.registerField(this._fieldId,this)&&this._postRegister()},Bt.prototype.getType=function(){throw new Error("notImplementedError")},Bt.prototype.getValue=function(){throw new Error("notImplementedError")},Bt.prototype.getValueForVisibilityCondition=function(){throw new Error("notImplementedError")},Bt.prototype.setValue=function(e){throw new Error("notImplementedError")},Bt.prototype.hasValue=function(){return!this.getValue().isEmpty()},Bt.prototype._assertIsAllowedValueToSet=function(e){if(Ot.assertIsValid(e),!(this._getAllowedValueTypesToSet().indexOf(e.getType())>-1))throw new Error("invalidArgumentException: value to set must be an instance of: "+this._getAllowedValueTypesToSet().join(", "))},Bt.prototype._getAllowedValueTypesToSet=function(){throw new Error("notImplementedError")},Bt.prototype.isRequired=function(){return pjQuery("#fieldSpecContainer"+this._fieldId).find(".requiredField").length||pjQuery("#fieldSpecContainer"+this._fieldId).find(".formrequiredField").length||pjQuery("#fieldSpecContainer"+this._fieldId).find(".datasetrequiredField").length},Bt.prototype.isBeingUpdated=function(){return this._isBeingUpdated||this._shouldReupdateAfterCurrentUpdate},Bt.prototype.cloneForNewTableRow=function(e,t){for(var n=this._buildClonedFieldForNewTableRow(e,t),i=this._visibilityConditions.length-1;i>=0;i--)n.addVisibilityCondition(new xt(this._visibilityConditions[i].getParentDependencyFieldId().replace(/^((\d+-)+)\d+$/,"$1"+t),this._visibilityConditions[i].getOperator(),this._visibilityConditions[i].getValue()));n.register()},Bt.prototype.getFieldId=function(){return this._fieldId},Bt.prototype.addVisibilityCondition=function(e){null!==e&&(this._visibilityConditions.push(e),FieldsDependenciesLegacy.registerFieldDependency(this._fieldId,e.getParentDependencyFieldId(),FieldsDependenciesLegacy.TYPE_DISPLAY))},Bt.prototype.isVisible=function(){if(null===this._getFieldContainerElement())return!1;var e=this._getHiddenFieldIndicatorElement();return null===e||0==e.length},Bt.prototype.show=function(){var e=this._getFieldContainerElement();if(e){var t=this._getFieldElement();e.css("display",""),this._resetAttributes(t),this._removeHiddenElementIndicator()}},Bt.prototype.hide=function(){if(this.isVisible()){var e=this._getFieldContainerElement();if(e){e.css("display","none");var t=this._getFieldElement();this._hideElement(t),this._addHiddenElementIndicator()}}},Bt.prototype.onRelatedFieldValueChange=function(e){this._isBeingUpdated?(this._shouldReupdateAfterCurrentUpdate=!0,this._nextUpdateParentFieldId=e):(this._isBeingUpdated=!0,this._shouldReupdateAfterCurrentUpdate=!1,this._nextUpdateParentFieldId=null,this._updateFieldAfterParentFieldValueChange(e))},Bt.prototype.fieldAcceptsValueType=function(e){return this._getAllowedValueTypesToSet().indexOf(e)>-1},Bt.prototype._postRegister=function(){if(this._attachOnChangeListener(),this.hasValue()){var e=this._fieldId;pjQuery((function(){Vt.onFieldValueChange(e)}))}},Bt.prototype._updateFieldAfterParentFieldValueChange=function(e){var t=this._evaluateConditionalVisibilityAfterRelatedFieldValueChange();this._onFieldUpdated(t)},Bt.prototype._onFieldUpdated=function(e){if(e&&Vt.onFieldValueChange(this._fieldId),this._isBeingUpdated=!1,this._shouldReupdateAfterCurrentUpdate){this._shouldReupdateAfterCurrentUpdate=!1;var t=this._nextUpdateParentFieldId;this._nextUpdateParentFieldId=null,this.onRelatedFieldValueChange(t)}},Bt.prototype._evaluateConditionalVisibilityAfterRelatedFieldValueChange=function(){return Mt.evaluateForField(this,this._visibilityConditions)},Bt.prototype._buildClonedFieldForNewTableRow=function(e,t){throw new Error("notImplementedError")},Bt.prototype._resetAttributes=function(e){if(e){var t=e.attr("data-required");t&&(e.prop("required",t),e.attr("aria-required",t));var n=e.data("hiddentype");n&&(this._setElementType(e,n),e.removeAttr("data-hiddenType"));var i=e.attr("data-hiddenValue");i&&(e.val(i),i!==e.val()&&this._unsetOnHide(e),e.removeAttr("data-hiddenValue")),this._resetChildren(e)}},Bt.prototype._hideElement=function(e){if(e&&0!==e.length){e.removeAttr("required"),e.removeAttr("aria-required"),e.attr("data-hiddenType",e.prop("type")),this._setElementType(e,"hidden");var t=e.val();t&&e.attr("data-hiddenValue",t),this._unsetOnHide(e),this._hideChildren(e)}},Bt.prototype._unsetOnHide=function(e){e.val("")},Bt.prototype._hideChildren=function(e){var t=this;e.find("[data-parentid='"+e.attr("id")+"']").each((function(e,n){t._hideElement(pjQuery("#"+n.id))}))},Bt.prototype._resetChildren=function(e){var t=this;e.find("[data-parentid='"+e.attr("id")+"']").each((function(e,n){t._resetAttributes(pjQuery("#"+n.id))}))},Bt.prototype._addHiddenElementIndicator=function(){this._getFieldContainerElement().append('<input id="'+this._fieldId+'_hidden" name="'+this._fieldId+'_hidden" type="hidden" value="true" />')},Bt.prototype._removeHiddenElementIndicator=function(){pjQuery("#"+this._fieldId+"_hidden").remove()},Bt.prototype._setElementType=function(e,t){if(e.prop("type")!==t)switch(t){case"select-one":e[0].multiple=!1;break;case"select-multiple":e[0].multiple=!0;break;default:this._elementAllowsChangingType(e[0])&&e.prop("type",t)}},Bt.prototype._elementAllowsChangingType=function(e){var t=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"type");return t&&"function"==typeof t.set},Bt.prototype._attachOnChangeListener=function(){var e=this;pjQuery("#"+this._fieldId).on("change",(function(){Vt.onFieldValueChange(e.getFieldId())}))},Bt.prototype._getFieldElement=function(){return pjQuery("#"+this._fieldId)},Bt.prototype._getFieldContainerElement=function(){return pjQuery("#fieldSpecContainer"+this._fieldId)},Bt.prototype._getHiddenFieldIndicatorElement=function(){return pjQuery("#"+this._fieldId+"_hidden")},Bt.prototype._triggerEvent=function(e){e=e||"change",this._getFieldElement().trigger(e)},Bt.prototype.onBeforeSubmit=function(){};const Qt=Bt;function Ut(){}Ut.registerDatasource=function(e,t){Ut._isDatasourceRegistered(e)||(Ut._datasources[e]=t)},Ut.getForField=function(e){var t=Ut._getDatasource(e);if(null!==t)return t;throw new Error("tryToAccessNonRegisteredDatasource: "+e)},Ut.cloneDatasourceForNewTableRow=function(e,t,n){var i=Ut.getForField(e).cloneForNewTableRow(t,n);Ut.registerDatasource(t,i)},Ut._getDatasource=function(e){return Ut._isDatasourceRegistered(e)?Ut._datasources[e]:null},Ut._isDatasourceRegistered=function(e){return e in Ut._datasources},Ut._datasources={};const Yt=Ut;function Wt(e,t){if(Ot.call(this),!PortalString.isString(e))throw new Error("invalidValue: option ID must be a valid string");if(!PortalString.isString(t))throw new Error("invalidValue: option text must be a valid string");this._optionId=e,this._optionText=t}Wt.TYPE="FieldOptionValueLegacy",Wt.prototype=Object.create(Ot.prototype),Wt.prototype.getType=function(){return Wt.TYPE},Wt.prototype.toString=function(){return this._optionText},Wt.prototype.getOptionId=function(){return this._optionId},Wt.prototype.getOptionText=function(){return this._optionText};const Ht=Wt;function zt(e){if(Ot.call(this),!pjQuery.isArray(e)||e.length<=0)throw new Error("invalidValue: options must be a non-empty array");var t=this;e.forEach((function(e,n){t._assertIsValidOption(e)})),this._options=e}zt.buildOption=function(e,t){return{id:e,text:t}},zt.TYPE="FieldMultipleOptionsValueLegacy",zt.prototype=Object.create(Ot.prototype),zt.prototype.getType=function(){return zt.TYPE},zt.prototype.toString=function(){var e=[];return this._options.forEach((function(t,n){e.push(t.text)})),"["+e.join(",")+"]"},zt.prototype.getOptionsIds=function(){var e=[];return this._options.forEach((function(t,n){e.push(t.id)})),e},zt.prototype.getOptionsTexts=function(){var e=[];return this._options.forEach((function(t,n){e.push(t.text)})),e},zt.prototype._assertIsValidOption=function(e){var t=e.id,n=e.text;if(!PortalString.isString(t))throw new Error("invalidValue: option ID must be a valid string");if(!PortalString.isString(n))throw new Error("invalidValue: option text must be a valid string")};const qt=zt;function Jt(e){Qt.call(this,e),this._datasource=Yt.getForField(e),pjQuery.each(this._datasource.getParentDependenciesFieldsIds(),(function(t,n){jt.registerFieldDependency(e,n,jt.TYPE_VALUES)}))}Jt.prototype=Object.create(Qt.prototype),Jt.prototype._getOptionsPage=function(){throw new Error("notImplementedError")},Jt.prototype._getOptionsPageSize=function(){throw new Error("notImplementedError")},Jt.prototype._createWithNewOptions=function(e){throw new Error("notImplementedError")},Jt.prototype._updateFieldAfterParentFieldValueChange=function(e){if(this._datasource.isParentDependentField(e))this.isVisible()?(this._evaluateConditionalVisibilityAfterRelatedFieldValueChange(),this._datasource.fetchNewOptions(this._getSelectedOptionsIds(),this._getOptionsPage(),this._getOptionsPageSize(),this._getOnNewOptionsCallback())):(this._datasource.fetchNewOptions(this._getSelectedOptionsIds(),this._getOptionsPage(),this._getOptionsPageSize(),this._getOnNewOptionsCallback()),this._evaluateConditionalVisibilityAfterRelatedFieldValueChange());else{var t=this._evaluateConditionalVisibilityAfterRelatedFieldValueChange();this._onFieldUpdated(t)}},Jt.prototype._getOnNewOptionsCallback=function(){var e=this;return function(t,n){var i=[],r=[],o=function(e,t){e.map((function(e){-1===pjQuery.inArray(e.id,i)&&(r.push({id:e.id,name:e.name,isSelected:t}),i.push(e.id))}))};o(n,!0),o(t,!1);var a=1===r.length;e.isRequired()&&a&&(r[0].isSelected=!0);var s=e._getSelectedOptionsIds();e._createWithNewOptions(r);var l=e._getSelectedOptionsIds(),u=JSON.stringify(s)!==JSON.stringify(l);e._onFieldUpdated(u)}},Jt.prototype._cloneDatasourceForNewTableRow=function(e,t){Yt.cloneDatasourceForNewTableRow(this._fieldId,e,t)},Jt.prototype._getSelectedOptionsIds=function(){var e=this.getValue();if(e.isEmpty())return[];switch(e.getType()){case Ht.TYPE:return[PortalString.toInt(e.getOptionId())];case qt.TYPE:return e.getOptionsIds().map((function(e){return PortalString.toInt(e)}))}return[]},Jt.prototype._buildOptionHtmlId=function(e){return this._fieldId+"_"+e};const Zt=Jt;function $t(e){if(Ot.call(this),!PortalString.isString(e))throw new Error("invalidValue: value must be a valid string");this._value=e}$t.TYPE="FieldTextValueLegacy",$t.prototype=Object.create(Ot.prototype),$t.prototype.getType=function(){return $t.TYPE},$t.prototype.toString=function(){return this._value},$t.prototype.getValue=function(){return this._value};const Kt=$t;function Gt(e){if(Ot.call(this),!PortalString.isString(e))throw new Error("invalidValue: option ID must be a valid string");this._optionId=e}Gt.TYPE="FieldIdValueLegacy",Gt.prototype=Object.create(Ot.prototype),Gt.prototype.getType=function(){return Gt.TYPE},Gt.prototype.toString=function(){return this._optionId},Gt.prototype.getOptionId=function(){return this._optionId};const Xt=Gt;var en=n(4521),tn=n.n(en),nn=n(7760),rn=n.n(nn);function on(e,t,n,i,r,o,a,s,l,u,c){Zt.call(this,e),this._dropdownCssClass=t,this._placeholderText=n,this._minimumInputLength=i,this._ajaxDelayMs=r,this._visibleOptionsLimit=o,this._optionIdsToSearchLimit=a,this._dictionary=s,this._label=l,this._isRequired=u,this._isAccessible=c}on.TYPE="AutocompleteSelectFieldLegacy",on.register=function(e,t,n,i,r,o,a,s,l,u,c){new on(e,t,n,i,r,o,a,s,l,u,c).register()},on.prototype=Object.create(Zt.prototype),on.prototype._postRegister=function(){this._attachLazyPicker(),Zt.prototype._postRegister.call(this)},on.prototype._getAllowedValueTypesToSet=function(){return[Xt.TYPE,Kt.TYPE]},on.prototype.getType=function(){return on.TYPE},on.prototype.getValue=function(){var e=this._getFieldElement().select2("data");if(!e||0===e.length)return new Dt;var t=e[0].id,n=e[0].text;return null===t||""===t?new Dt:new Ht(t,n)},on.prototype.getValueForVisibilityCondition=function(){var e=this._getFieldElement().val();return null!==e&&""!==e||(e=null),e},on.prototype.setValue=function(e){switch(this._assertIsAllowedValueToSet(e),e.getType()){case Xt.TYPE:this._datasource.fetchOptionsById([e.getOptionId()],this._buildOnFieldOptionsRetrieveCallback());break;case Kt.TYPE:this._datasource.fetchOptionsByValue([e.getValue()],this._buildOnFieldOptionsRetrieveCallback());break;default:throw new Error("modeNotSupported")}},on.prototype._buildOnFieldOptionsRetrieveCallback=function(){var e=this;return function(t){t=e._markOptionsFoundAsSelected(t),e._createWithNewOptions(t),Vt.onFieldValueChange(e.getFieldId())}},on.prototype._markOptionsFoundAsSelected=function(e){return e&&Array.isArray(e)?(pjQuery.each(e,(function(t){e[t].isSelected=!0})),e):e},on.prototype._getOptionsPage=function(){return 1},on.prototype._getOptionsPageSize=function(){return 2},on.prototype._createWithNewOptions=function(e){var t=this;this._removeAllOptions();var n=[];pjQuery.each(e,(function(e,i){var r=pjQuery("<option></option>").attr("id",t._buildOptionHtmlId(i.id)).attr("value",i.id).attr("data-option-name",i.name).text(i.name);i.isSelected&&r.attr("selected","selected"),n.push(r.prop("outerHTML"))})),this._getFieldElement().append(n.join("")),this._getFieldElement().trigger("change.select2")},on.prototype._removeAllOptions=function(){this._getFieldElement().find("option:gt(0)").remove()},on.prototype._attachLazyPicker=function(){var e=this._getFieldElement();e.select2(this._getLazyPickerProperties());var t=this._getEventCallbacksForLazyPicker();if(t.length)for(var n in t)t.hasOwnProperty(n)&&e.on(t[n].eventName,t[n].eventCallback);var i=this;pjQuery((function(){setTimeout((function(){e.trigger("select2-"+i.getFieldId()+"-ready")}),10)}))},on.prototype._getLazyPickerProperties=function(){var e={placeholder:this._placeholderText,allowClear:!0,width:"100%",minimumInputLength:this._minimumInputLength,multiple:this._isMultiple(),containerCssClass:"select2Container"+this._fieldId,dropdownCssClass:this._dropdownCssClass,escapeMarkup:function(e){return e},dictionary:this._dictionary,label:this._label,fieldId:this._fieldId,isRequired:this._isRequired,isAccessible:this._isAccessible,closeOnSelect:!this._isMultiple()};if(this._datasource.isLocalDatasource())e.data=this._adaptDatasourceOptionsToSelect2LocalDataFormat(this._datasource.getOptions());else{var t=this,n=this._getCache();e.ajax={url:this._datasource.getOptionsSearchApiUrl(),type:"POST",delay:this._ajaxDelayMs,quietMillis:this._ajaxDelayMs,dataType:"json",data:this._getDataPayload.bind(this),transport:function(e,i,r){var o=t._generateCacheKey(e.data);return n.get(o).done(i).fail((function(){return pjQuery.ajax(e).done(i).done((function(e){n.set(o,e)})).fail(r)}))},processResults:function(e,n){return t._datasource.processLazyPickerAjaxResponseData(e)}}}return e},on.prototype._getEventCallbacksForLazyPicker=function(){return[this._buildEventCallback(on.ITEM_SELECTION_EVENT_NAME,(function(){pjQuery(this).focus()}))]},on.prototype._buildEventCallback=function(e,t){return{eventName:e,eventCallback:t}},on.prototype._adaptDatasourceOptionsToSelect2LocalDataFormat=function(e){return pjQuery.each(e,(function(t){e[t].hasOwnProperty("name")&&(e[t].text=e[t].name)})),e},on.prototype._isMultiple=function(){return!1},on.prototype._buildClonedFieldForNewTableRow=function(e,t){return this._cloneDatasourceForNewTableRow(e,t),new on(e,this._dropdownCssClass,this._placeholderText,this._minimumInputLength,this._ajaxDelayMs,this._visibleOptionsLimit,this._optionIdsToSearchLimit,pjQuery.extend(!0,{},this._dictionary),this._label,this._isRequired,this._isAccessible)},on.prototype._getDataPayload=function(e){var t=this._visibleOptionsLimit,n=e.searchIds;return n&&(n=n.split(","),t=this._optionIdsToSearchLimit),this._datasource.buildRequestDataFromParams(e.page||1,t,e.term,!1,n,null)},on.prototype._getCache=function(){return tn().getInstance()},on.prototype._generateCacheKey=function(e){return rn()(this._datasource.getOptionsSearchApiUrl()+JSON.stringify(e))},on.ITEM_SELECTION_EVENT_NAME="select2:select";const an=on;function sn(e){if(Ot.call(this),!pjQuery.isArray(e)||e.length<=0)throw new Error("invalidValue: options IDs must be a non-empty array");e.forEach((function(e,t){if(!PortalString.isString(e))throw new Error("invalidValue: option ID must be a valid string")})),this._optionsIds=e}sn.TYPE="FieldMultipleIdsValueLegacy",sn.prototype=Object.create(Ot.prototype),sn.prototype.getType=function(){return sn.TYPE},sn.prototype.toString=function(){return"["+this._optionsIds.join(",")+"]"},sn.prototype.getOptionsIds=function(){return this._optionsIds};const ln=sn;function un(e){if(Ot.call(this),!pjQuery.isArray(e)||e.length<=0)throw new Error("invalidValue: values must be a non-empty array");e.forEach((function(e,t){if(!PortalString.isString(e))throw new Error("invalidValue: inner values should be strings")})),this._values=e}un.TYPE="FieldMultipleTextsValueLegacy",un.prototype=Object.create(Ot.prototype),un.prototype.getType=function(){return un.TYPE},un.prototype.toString=function(){return"["+this._values.join(",")+"]"},un.prototype.getOptionsTexts=function(){return this._values};const cn=un;function dn(e,t,n,i,r,o,a,s,l,u,c){an.call(this,e,t,n,i,r,o,a,s,l,u,c)}dn.TYPE="AutocompleteMultipleSelectFieldLegacy",dn.register=function(e,t,n,i,r,o,a,s,l,u,c){new dn(e,t,n,i,r,o,a,s,l,u,c).register()},dn.prototype=Object.create(an.prototype),dn.prototype._getAllowedValueTypesToSet=function(){return[ln.TYPE,cn.TYPE]},dn.prototype.getType=function(){return dn.TYPE},dn.prototype.setValue=function(e){switch(this._assertIsAllowedValueToSet(e),e.getType()){case ln.TYPE:this._datasource.fetchOptionsById(e.getOptionsIds(),this._buildOnFieldOptionsRetrieveCallback());break;case cn.TYPE:this._datasource.fetchOptionsByValue(e.getOptionsTexts(),this._buildOnFieldOptionsRetrieveCallback());break;default:throw new Error("modeNotSupported")}},dn.prototype.getValue=function(){var e=this._getFieldElement().select2("data");if(null===e||0===e.length)return new Dt;var t=[];return e.forEach((function(e,n){var i=e.id,r=e.text;null!==i&&""!==i&&t.push(qt.buildOption(i,r))})),new qt(t)},dn.prototype._removeAllOptions=function(){this._getFieldElement().empty()},dn.prototype._isMultiple=function(){return!0},dn.prototype._buildClonedFieldForNewTableRow=function(e,t){return this._cloneDatasourceForNewTableRow(e,t),new dn(e,this._dropdownCssClass,this._placeholderText,this._minimumInputLength,this._ajaxDelayMs,this._visibleOptionsLimit,this._optionIdsToSearchLimit,pjQuery.extend(!0,{},this._dictionary),this._label,this._isRequired,this._isAccessible)};const pn=dn;function hn(e){if(Ot.call(this),"boolean"!=typeof e)throw new Error("invalidValue: value must be a valid boolean");this._isSelected=e}hn.TYPE="FieldBooleanValueLegacy",hn.prototype=Object.create(Ot.prototype),hn.prototype.getType=function(){return hn.TYPE},hn.prototype.toString=function(){return this._isSelected.toString()},hn.prototype.isSelected=function(){return this._isSelected};const fn=hn;function yn(e){Qt.call(this,e)}yn.TYPE="CheckboxFieldLegacy",yn.register=function(e){new yn(e).register()},yn.prototype=Object.create(Qt.prototype),yn.prototype.getType=function(){return yn.TYPE},yn.prototype._getAllowedValueTypesToSet=function(){return[fn.TYPE]},yn.prototype.getValue=function(){var e=this._getFieldElement().prop("checked");return new fn(!!e)},yn.prototype.getValueForVisibilityCondition=function(){return this._getFieldElement().prop("checked")?this._getFieldElement().val():null},yn.prototype.setValue=function(e){this._assertIsAllowedValueToSet(e),this._getFieldElement().prop("checked",e.isSelected()),this._triggerEvent("change")},yn.prototype._buildClonedFieldForNewTableRow=function(e,t){return new yn(e)};const gn=yn;function _n(e){Zt.call(this,e)}_n.TYPE="CheckboxListFieldLegacy",_n.register=function(e){new _n(e).register()},_n.prototype=Object.create(Zt.prototype),_n.prototype._getAllowedValueTypesToSet=function(){return[ln.TYPE,cn.TYPE]},_n.prototype.getType=function(){return _n.TYPE},_n.prototype.getValue=function(){var e=this._getSelectedElements();if(0===e.length)return new Dt;var t=[];return e.each((function(){t.push(qt.buildOption(pjQuery(this).val(),pjQuery(this).data("option-name").toString()))})),new qt(t)},_n.prototype.getValueForVisibilityCondition=function(){var e=[];return this._getSelectedElements().each((function(){e.push(pjQuery(this).val())})),e},_n.prototype.setValue=function(e){this._assertIsAllowedValueToSet(e);var t=pjQuery('input[type="checkbox"]',this._getFieldElement()),n=this;switch(e.getType()){case ln.TYPE:this._datasource.fetchOptionsById(e.getOptionsIds(),(function(e){t.filter((function(){return e.find((function(e){return e.id==pjQuery(this).val()}),this)})).prop("checked",!0),n._triggerEvent("change")}));break;case cn.TYPE:this._datasource.fetchOptionsByValue(e.getOptionsTexts(),(function(e){t.filter((function(){return e.find((function(e){return e.name==pjQuery(this).data("option-name")}),this)})).prop("checked",!0),n._triggerEvent("change")}));break;default:throw new Error("modeNotSupported")}},_n.prototype._getSelectedElements=function(){return this._getFieldElement().find("input:checked")},_n.prototype._getOptionsPage=function(){return null},_n.prototype._getOptionsPageSize=function(){return null},_n.prototype._createWithNewOptions=function(e){var t=this;this._removeAllOptions();var n=this._getFieldElement(),i=n.find(".CheckBoxListFormField_more"),r=n.find(".CheckBoxListFormField_hiddenOptions"),o=i.data("numOptionsToShow");e.forEach((function(e,i){var a=t._buildOptionHtmlId(e.id),s=pjQuery("<input />").attr("id",a).attr("type","checkbox").attr("name",t._fieldId+"[]").attr("value",e.id).attr("data-option-name",e.name);e.isSelected&&s.attr("checked","checked");var l=pjQuery("<label>").attr("for",a).append(s,e.name,pjQuery('<div class="cb" />'));!o||i<o?n.append(l):r.append(l)})),o&&e.length>o&&(i.css("display",""),r.css("display","none"))},_n.prototype._removeAllOptions=function(){this._getFieldElement().find("label, div.cb, div.cb-a11y").remove()},_n.prototype._buildClonedFieldForNewTableRow=function(e,t){return this._cloneDatasourceForNewTableRow(e,t),new _n(e)};const mn=_n;function vn(e){Qt.call(this,e),this._registerFieldDependenciesForDependentFields(e,this._getDepedentFieldsMetadata())}vn.register=function(e){new vn(e).register()},vn.prototype=Object.create(Qt.prototype),vn.prototype._getDepedentFieldsMetadata=function(){throw new Error("notImplementedError")},vn.prototype._registerFieldDependenciesForDependentFields=function(e,t){if(!t||!Array.isArray(t))throw new Error("invalidArgumentException: not an array");for(var n in t)t.hasOwnProperty(n)&&FieldsDependenciesLegacy.registerFieldDependency(e,t[n].id,FieldsDependenciesLegacy.TYPE_VALUES)},vn.prototype.onRelatedFieldValueChange=function(e){Qt.prototype.onRelatedFieldValueChange.call(this,e),FieldsLegacy.onFieldValueChange(this._fieldId)},vn.prototype.cloneForNewTableRow=function(e,t){this._cloneDependentFieldsForNewTableRow(e,t),this._cloneCurrentFieldForNewTableRow(e,t)},vn.prototype._cloneCurrentFieldForNewTableRow=function(e,t){Qt.prototype.cloneForNewTableRow.call(this,e,t)},vn.prototype._cloneDependentFieldsForNewTableRow=function(e,t){var n=this._getDepedentFieldsMetadata();for(var i in n)if(n.hasOwnProperty(i)){var r=FieldsLegacy.getField(n[i].id),o=e+n[i].suffix;r.cloneForNewTableRow(o,t)}},vn.prototype._createFieldMetadata=function(e,t){return{id:e,suffix:t}};const bn=vn;function Fn(e){this._assertIsValidPortalDateObject(e),Ot.call(this),this._date=e}Fn.TYPE="FieldDateValueLegacy",Fn.prototype=Object.create(Ot.prototype),Fn.prototype.getType=function(){return Fn.TYPE},Fn.prototype.toString=function(){return this._date.format()},Fn.prototype.getFormattedDateString=function(e){return this._date.format(e)},Fn.prototype.getPortalDate=function(){return this._date},Fn.prototype._assertIsValidPortalDateObject=function(e){if(!(e&&e instanceof PortalDate))throw new Error("invalidArgumentException: expected an instance of PortalDate")};const wn=Fn;function In(e){bn.call(this,e)}In.register=function(e){new In(e).register()},In.prototype=Object.create(bn.prototype),In.prototype._postRegister=function(){Vt.onFieldValueChange(this._fieldId),bn.prototype._postRegister.call(this)},In.prototype._getAllowedValueTypesToSet=function(){return[wn.TYPE]},In.prototype._createYearInput=function(e,t,n,i,r){var o=this,a=this._createSelectElement(e,"year",n,n),s=Yt.getForField(this._fieldId+"_year");return this._populateSelectElementFromDatasource(a,s,t),a.fnt=function(){var t=document.getElementById(e+"_month");t=t?t.value:void 0,o._updateDayInput(e,t,i,r)},a.addEventListener?a.addEventListener("change",a.fnt,!1):a.attachEvent("onchange",a.fnt),a},In.prototype._createMonthInput=function(e,t,n,i,r,o,a){var s=this,l=this._createSelectElement(e,"month",i),u=Yt.getForField(this._fieldId+"_month");return this._populateSelectElementFromDatasource(l,u,t),l.fnt=function(){s._updateDayInput(e,l.value,r,o)},l.addEventListener?l.addEventListener("change",l.fnt,!1):l.attachEvent("onchange",l.fnt),l},In.prototype._createDayInput=function(e,t,n,i,r,o,a,s){var l=this._createSelectElement(e,"day",r),u=Yt.getForField(this._fieldId+"_day");return this._populateSelectElementFromDatasource(l,u,t),l},In.prototype._updateDayInput=function(e,t,n,i){var r=document.getElementById(e+"_year");r=r?r.value:void 0;var o=this._clearSelectElementById(e+"_day"),a=Yt.getForField(this._fieldId+"_day").getOptions(),s=parseInt(a[1].id,10),l="0"!==t?this._getMaxDaysForInput(a,t,r):0;n&&r===n.getFullYear()&&t===(n.getMonth()+1).toString()&&(s=n.getDate()),i&&r===i.getFullYear()&&t.toString()===(i.getMonth()+1).toString()&&(l=i.getDate()),this._populateSelectElement(o,s,l,void 0,0,"--")},In.prototype._hideInput=function(e){var t;if(e){t=document.createElement("input"),e.getAttributeNames().filter((function(e){return-1===["data-hiddenType","data-required"].indexOf(e)})).forEach((function(n){t.setAttribute(n,e.getAttribute(n))})),t.type="hidden";var n=e.parentNode;n.removeChild(e),n.appendChild(t)}return t},In.prototype._populateSelectElement=function(e,t,n,i,r,o){if(e){e.appendChild(this._createOptionElement(0,r,(function(e){return o})));for(var a=t;a<=n;++a)e.appendChild(this._createOptionElement(a,r,i))}},In.prototype._populateSelectElementFromDatasource=function(e,t,n){if(e)for(var i=t.getOptions(),r=0;r<i.length;++r){var o=i[r];e.appendChild(this._createOptionElement(parseInt(o.id,10),n,(function(e){return o.name})))}},In.prototype._createSelectElement=function(e,t,n){var i=document.createElement("select");return i.setAttribute("id",e+"_"+t),i.setAttribute("name",e+"_"+t),i.setAttribute("class",t+"Input"),i.setAttribute("tabindex",n),i},In.prototype._createOptionElement=function(e,t,n){var i=document.createElement("option");return i.setAttribute("value",0===e?"":e),i.innerHTML=n?n(e):e,e===t&&i.setAttribute("selected","selected"),i},In.prototype._getMaxDaysForInput=function(e,t,n){return e.length<31?parseInt(e[e.length-1].id,10):this._getDaysForMonthAndYear(t,n)},In.prototype._getDaysForMonthAndYear=function(e,t){var n=!1;e=e?PortalString.toInt(e):1,t=t?PortalString.toInt(t):1;return e>7&&(e-=7,n=!0),2!==e||n?1===e||(e-2)%2==1?31:30:t%4==0?29:28},In.prototype._clearSelectElementById=function(e){var t=document.getElementById(e);if(t)for(;t.hasChildNodes();)t.removeChild(t.firstChild);return t},In.prototype._normalize=function(e){return PortalString.zeroPad(e,2)},In.prototype._cloneDatasourceForNewTableRow=function(e,t,n){Yt.cloneDatasourceForNewTableRow(this._fieldId+"_"+e,t+"_"+e,n)};const Sn=In;n(4324);function En(e,t,n,i,r,o,a){this._tabIndex=t,this._minDate=n,this._maxDate=i,this._accessibleLabelsDictionary=r,this._isAccessible=o,this._year=this._month=this._day=0,this._yearInput=this._monthInput=this._dayInput=null,this.isRequired=a,Sn.call(this,e)}En.TYPE="FullDateFieldLegacy",En.register=function(e,t,n,i,r,o,a){new En(e,t,n,i,r,o,a).register()},En.prototype=Object.create(Sn.prototype),En.prototype._postRegister=function(){this._createWidget(),Sn.prototype._postRegister.call(this)},En.prototype.cloneForNewTableRow=function(e,t){this._cloneCurrentFieldForNewTableRow(e,t),this._cloneDependentFieldsForNewTableRow(e,t)},En.prototype.getType=function(){return En.TYPE},En.prototype.getValue=function(){var e=this._getFieldElement().val();if(!e)return new FieldEmptyValueLegacy;var t=e.split("-"),n=PortalString.toInt(t[0]),i=PortalString.toInt(t[1]),r=PortalString.toInt(t[2]);return new FieldFullDateValueLegacy(n,i,r)},En.prototype.getValueForVisibilityCondition=function(){var e=this._getFieldElement().val();return e||""},En.prototype.setValue=function(e){this._assertIsAllowedValueToSet(e),this._getFieldElement().val(e.getFormattedDateString("yyyy-MM-dd")),this._triggerEvent("change")},En.prototype.show=function(){var e=this._getFieldContainerElement(),t=this._getFieldElement();e&&t&&this._valueDiffersForElement(t)&&t.val(t.val()),Sn.prototype.show.call(this)},En.prototype.hide=function(){if(this.isVisible()){var e=this._getFieldElement();this._saveDateValueForField(e),Sn.prototype.hide.call(this)}},En.prototype._buildClonedFieldForNewTableRow=function(e,t){return this._cloneDatasourceForNewTableRow("day",e,t),this._cloneDatasourceForNewTableRow("month",e,t),this._cloneDatasourceForNewTableRow("year",e,t),new En(e,this._tabIndex,this._minDate,this._maxDate,this._accessibleLabelsDictionary,this._isAccessible)},En.prototype._valueDiffersForElement=function(e){var t=e.val(),n=this.getValue();return""!==t&&!n.isEmpty()&&n.getFormattedDateString("yyyy-MM-dd")!==t},En.prototype._saveDateValueForField=function(e){var t=this.getValue();if(!t.isEmpty()){var n=new Date(t.getFormattedDateString("yyyy-MM-dd")+"T00:00:00"),i=n.getFullYear(),r=this._addLeadingZeros(n.getMonth()+1),o=this._addLeadingZeros(n.getDate());e.val(i+"-"+r+"-"+o)}},En.prototype._addLeadingZeros=function(e){return e.toString().padStart(2,"0")},En.prototype._getDepedentFieldsMetadata=function(){return[]},En.prototype._createWidget=function(){var e=this;this._browserSupportsInputDate()||pjQuery((function(){e._createFallbackWidget()}))},En.prototype._browserSupportsInputDate=function(){return H5H.inputSupported("date")&&!(GLOBALS.BROWSER.name&&"Safari"==GLOBALS.BROWSER.name)},En.prototype._createFallbackWidget=function(){var e=this._hideInput(document.getElementById(this._fieldId));if(e){var t=new PortalDate(LuxonDateTime.fromFormat(this._minDate,"yyyy-MM-dd")).toDate(),n=new PortalDate(LuxonDateTime.fromFormat(this._maxDate,"yyyy-MM-dd")).toDate();this._initDefaultValues(e);var i=this._createInput(this._tabIndex,t,n);e.parentNode.appendChild(i)}},En.prototype._initDefaultValues=function(e){this._year=this._month=this._day=0;var t=e.value||e.getAttribute("data-hiddenValue");if(t){var n=t.split("-");this._year=PortalString.toInt(n[0]),this._month=PortalString.toInt(n[1]),this._day=PortalString.toInt(n[2])}},En.prototype._createInput=function(e,t,n){var i,r=this;return this._yearInput=this._createYearInput(this._fieldId,this._year,e,t,n),this._yearInput.onchange=function(){r._year=this.value,r._day=0,r._updateHiddenInputValue()},this._monthInput=this._createMonthInput(this._fieldId,this._month,this._year,e,t,n),this._monthInput.onchange=function(){r._month=this.value,r._day=0,r._updateHiddenInputValue()},this._dayInput=this._createDayInput(this._fieldId,this._day,this._month,this._year,e,t,n),this._dayInput.onchange=function(){r._day=this.value,r._updateHiddenInputValue()},this._isAccessible?(i=this._createWidgetWithLabelsFromInputs(this._yearInput,this._monthInput,this._dayInput),this._wrapFieldAsFieldSetWithLegend()):i=this._createWidgetWithoutLabelsFromInputs(this._yearInput,this._monthInput,this._dayInput),i},En.prototype._updateHiddenInputValue=function(){document.getElementById(this._fieldId).value=this._year>0||this._month>0||this._day>0?this._year+"-"+this._normalize(this._month)+"-"+this._normalize(this._day):"",Vt.onFieldValueChange(this._fieldId)},En.prototype._createWidgetWithLabelsFromInputs=function(e,t,n){var i=document.createElement("div"),r=document.createElement("div");r.className="FullDate_YearWrapper",r.appendChild(this._createLabelFor(e.id,this._accessibleLabelsDictionary.yearLabel)),r.appendChild(e);var o=document.createElement("div");o.className="FullDate_MonthWrapper",o.appendChild(this._createLabelFor(t.id,this._accessibleLabelsDictionary.monthLabel)),o.appendChild(t);var a=document.createElement("div");return a.className="FullDate_DayWrapper",a.appendChild(this._createLabelFor(n.id,this._accessibleLabelsDictionary.dayLabel)),a.appendChild(n),i.appendChild(r),i.appendChild(o),i.appendChild(a),i},En.prototype._createLabelFor=function(e,t){var n=document.createElement("label");return n.setAttribute("for",e),n.setAttribute("class","screenReaderVisibility"),n.innerHTML=t,n},En.prototype._createWidgetWithoutLabelsFromInputs=function(e,t,n){var i=document.createElement("div");return i.appendChild(e),i.appendChild(t),i.appendChild(n),i},En.prototype._wrapFieldAsFieldSetWithLegend=function(){var e=pjQuery("#"+this._fieldId+"-accessibleContainer");e.children().appendTo(pjQuery("<fieldset/>").insertBefore(e)),e.remove();var t=this;pjQuery("#"+this._fieldId+"-label").replaceWith((function(){var e=this.textContent;e&&t.isRequired&&(e=e.substring(0,e.length-2),e+=pjQuery("<div/>",{}).append(pjQuery("<span/>",{"aria-hidden":!0,class:"labelRequiredIcon",text:" *"})).html());return pjQuery("<div/>",{}).append(pjQuery("<legend/>",{id:this.id,html:e})).html()}))},En.prototype._resetDayInput=function(e){this._day=0;var t=this.monthInput.parentNode;t.removeChild(this._dayInput),this._dayInput=this._createDayInput(this._fieldId,this._day,this._month,this._year,e),t.appendChild(this._dayInput);var n=this;this._dayInput.onchange=function(){n._day=this.value,n._updateHiddenInputValue()}};const Tn=En;function Pn(e){Qt.call(this,e)}Pn.TYPE="GenericFieldLegacy",Pn.register=function(e){new Pn(e).register()},Pn.prototype=Object.create(Qt.prototype),Pn.prototype.getType=function(){return Pn.TYPE},Pn.prototype._buildClonedFieldForNewTableRow=function(e,t){return new Pn(e)},Pn.prototype._postRegister=function(){};const On=Pn;function Cn(e){Qt.call(this,e)}Cn.TYPE="InputFieldLegacy",Cn.register=function(e){new Cn(e).register()},Cn.prototype=Object.create(Qt.prototype),Cn.prototype._getAllowedValueTypesToSet=function(){return[Kt.TYPE]},Cn.prototype.getType=function(){return Cn.TYPE},Cn.prototype.getValue=function(){var e=this._getFieldElement().val();return e?new Kt(e):new Dt},Cn.prototype.getValueForVisibilityCondition=function(){return this._getFieldElement().val()},Cn.prototype.setValue=function(e){this._assertIsAllowedValueToSet(e),this._getFieldElement().val(e.getValue()),this._triggerEvent("input")},Cn.prototype._buildClonedFieldForNewTableRow=function(e,t){return new Cn(e)},Cn.prototype._attachOnChangeListener=function(){var e=this;pjQuery("#"+this._fieldId).on("input",(function(){this.onkeyup=null,Vt.onFieldValueChange(e.getFieldId())}))};const Dn=Cn;function kn(e,t,n){this._setCountry(e),this._setState(t),this._setCity(n),Ot.call(this)}kn.TYPE="FieldLocationValueLegacy",kn.prototype=Object.create(Ot.prototype),kn.prototype.getType=function(){return kn.TYPE},kn.prototype.toString=function(){return JSON.stringify({country:this._country.toString(),state:this._state.toString(),city:this._city.toString()})},kn.prototype.getCountry=function(){return this._country},kn.prototype.getState=function(){return this._state},kn.prototype.getCity=function(){return this._city},kn.prototype._setCountry=function(e){Ot.assertIsValid(e),this._country=e},kn.prototype._setState=function(e){Ot.assertIsValid(e),this._state=e},kn.prototype._setCity=function(e){Ot.assertIsValid(e),this._city=e};const jn=kn;function An(e){bn.call(this,e)}An.TYPE="LocationFieldLegacy",An.register=function(e){new An(e).register()},An.prototype=Object.create(bn.prototype),An.prototype._getAllowedValueTypesToSet=function(){return[jn.TYPE]},An.prototype.getType=function(){return An.TYPE},An.prototype.getValue=function(){var e=Vt.getFieldValue(this._getCountryId()),t=Vt.getFieldValue(this._getStateId()),n=Vt.getFieldValue(this._getCityId());return e.isEmpty()||t.isEmpty()||n.isEmpty()?new Dt:new jn(e,t,n)},An.prototype.getValueForVisibilityCondition=function(){return[pjQuery("#"+this._getCountryId()+" option:selected").text(),pjQuery("#"+this._getStateId()).is("select")?pjQuery("#"+this._getStateId()+" option:selected").text():pjQuery("#"+this._getStateId()).val(),pjQuery("#"+this._getCityId()).val()]},An.prototype.setValue=function(e){this._assertIsAllowedValueToSet(e),Vt.setFieldValue(this._getCountryId(),e.getCountry()),Vt.setFieldValue(this._getStateId(),e.getState()),Vt.setFieldValue(this._getCityId(),e.getCity())},An.prototype._buildClonedFieldForNewTableRow=function(e,t){return new An(e)},An.prototype._getDepedentFieldsMetadata=function(){return[this._createFieldMetadata(this._getCountryId(),this._getCountrySuffix()),this._createFieldMetadata(this._getStateId(),this._getStateSuffix()),this._createFieldMetadata(this._getCityId(),this._getCitySuffix())]},An.prototype._getCountryId=function(){return this.getFieldId()+this._getCountrySuffix()},An.prototype._getStateId=function(){return this.getFieldId()+this._getStateSuffix()},An.prototype._getCityId=function(){return this.getFieldId()+this._getCitySuffix()},An.prototype._getCountrySuffix=function(){return"_location_country"},An.prototype._getStateSuffix=function(){return"_location_state"},An.prototype._getCitySuffix=function(){return"_location_city"},An.prototype._attachOnChangeListener=function(){};const xn=An;function Rn(e){Zt.call(this,e)}Rn.TYPE="MultipleSelectFieldLegacy",Rn.register=function(e){new Rn(e).register()},Rn.prototype=Object.create(Zt.prototype),Rn.prototype._getAllowedValueTypesToSet=function(){return[ln.TYPE,cn.TYPE]},Rn.prototype.getType=function(){return Rn.TYPE},Rn.prototype.getValue=function(){var e=this._getSelectedElements();if(0===e.length)return new Dt;var t=[];return e.each((function(){t.push(qt.buildOption(pjQuery(this).val(),pjQuery(this).data("option-name").toString()))})),new qt(t)},Rn.prototype.getValueForVisibilityCondition=function(){var e=[];return this._getSelectedElements().each((function(){e.push(pjQuery(this).val())})),e},Rn.prototype.setValue=function(e){this._assertIsAllowedValueToSet(e);var t=pjQuery("option",this._getFieldElement()),n=this;switch(e.getType()){case ln.TYPE:this._datasource.fetchOptionsById(e.getOptionsIds(),(function(e){t.filter((function(){return e.find((function(e){return e.id==pjQuery(this).val()}),this)})).prop("selected",!0),n._triggerEvent("change")}));break;case cn.TYPE:this._datasource.fetchOptionsByValue(e.getOptionsTexts(),(function(e){t.filter((function(){return e.find((function(e){return e.name==pjQuery(this).data("option-name")}),this)})).prop("selected",!0),n._triggerEvent("change")}));break;default:throw new Error("modeNotSupported")}},Rn.prototype._getSelectedElements=function(){return this._getFieldElement().find("option:selected")},Rn.prototype._getOptionsPage=function(){return null},Rn.prototype._getOptionsPageSize=function(){return null},Rn.prototype._createWithNewOptions=function(e){var t=this;this._removeAllOptions();var n=[];pjQuery.each(e,(function(e,i){var r=pjQuery("<option></option>").attr("id",t._buildOptionHtmlId(i.id)).attr("value",i.id).attr("data-option-name",i.name).text(i.name);i.isSelected&&r.attr("selected","selected"),n.push(r.prop("outerHTML"))})),this._getFieldElement().append(n.join(""))},Rn.prototype._removeAllOptions=function(){this._getFieldElement().find("option").remove()},Rn.prototype._buildClonedFieldForNewTableRow=function(e,t){return this._cloneDatasourceForNewTableRow(e,t),new Rn(e)};const Vn=Rn;function Nn(e){this._assertIsValidNumberValue(e),Ot.call(this),this._value=e}Nn.TYPE="FieldNumberValueLegacy",Nn.prototype=Object.create(Ot.prototype),Nn.prototype.getType=function(){return Nn.TYPE},Nn.prototype.toString=function(){return this._value.toString()},Nn.prototype.getValue=function(){return this._value},Nn.prototype._assertIsValidNumberValue=function(e){if(!PortalNumber.isNumber(e))throw new Error("invalidArgumentException: expected number value")};const Ln=Nn;function Mn(e){Dn.call(this,e)}Mn.TYPE="NumberFieldLegacy",Mn.register=function(e){new Mn(e).register()},Mn.prototype=Object.create(Dn.prototype),Mn.prototype._getAllowedValueTypesToSet=function(){return[Ln.TYPE]},Mn.prototype.getType=function(){return Mn.TYPE},Mn.prototype.getValue=function(){var e=this._getFieldElement().val();return e?new Ln(PortalString.toFloat(e)):new Dt},Mn.prototype.setValue=function(e){this._assertIsAllowedValueToSet(e),this._getFieldElement().val(e.getValue()),this._triggerEvent("input")},Mn.prototype._buildClonedFieldForNewTableRow=function(e,t){return new Mn(e)};const Bn=Mn;function Qn(e){Zt.call(this,e)}Qn.TYPE="RadioButtonListFieldLegacy",Qn.register=function(e){new Qn(e).register()},Qn.prototype=Object.create(Zt.prototype),Qn.prototype._getAllowedValueTypesToSet=function(){return[Xt.TYPE,Kt.TYPE]},Qn.prototype.getType=function(){return Qn.TYPE},Qn.prototype.getValue=function(){var e=this._getSelectedElements();if(0===e.length)return new FieldEmptyValueLegacy;var t=null,n=null;return e.each((function(){t=pjQuery(this).val(),n=pjQuery(this).data("option-name").toString()})),new Ht(t,n)},Qn.prototype.getValueForVisibilityCondition=function(){var e=[];return this._getSelectedElements().each((function(){e.push(pjQuery(this).val())})),e},Qn.prototype.setValue=function(e){this._assertIsAllowedValueToSet(e);var t=pjQuery('input[type="radio"]',this._getFieldElement());switch(e.getType()){case Xt.TYPE:this._datasource.fetchOptionsById([e.getOptionId()],(function(e){t.filter((function(){return e.find((function(e){return e.id==pjQuery(this).val()}),this)})).prop("checked",!0).trigger("change")}));break;case Kt.TYPE:this._datasource.fetchOptionsByValue([e.getValue()],(function(e){t.filter((function(){return e.find((function(e){return e.name==pjQuery(this).data("option-name")}),this)})).prop("checked",!0).trigger("change")}));break;default:throw new Error("modeNotSupported")}},Qn.prototype._getSelectedElements=function(){return this._getFieldElement().find("input:checked")},Qn.prototype._attachOnChangeListener=function(){var e=this;pjQuery("#"+this._fieldId).on("change","input",(function(){Vt.onFieldValueChange(e.getFieldId())}))},Qn.prototype._getOptionsPage=function(){return null},Qn.prototype._getOptionsPageSize=function(){return null},Qn.prototype._createWithNewOptions=function(e){var t=this;this._removeAllOptions();var n=this._getFieldElement();e.forEach((function(e){var i=pjQuery("<input />").attr("id",t._buildOptionHtmlId(e.id)).attr("type","radio").attr("name",t._fieldId).attr("value",e.id).attr("data-option-name",e.name);e.isSelected&&i.attr("checked","checked");var r=pjQuery("<label>").attr("for",t._buildOptionHtmlId(e.id)).append(i,e.name,pjQuery('<div class="cb" />'));n.append(r)})),this._attachOnChangeListener()},Qn.prototype._removeAllOptions=function(){this._getFieldElement().find("label, div.cb").remove()},Qn.prototype._buildClonedFieldForNewTableRow=function(e,t){return this._cloneDatasourceForNewTableRow(e,t),new Qn(e)};const Un=Qn;function Yn(e,t){Zt.call(this,e),this._notSelectedOptionValue=t}Yn.TYPE="SelectFieldLegacy",Yn.register=function(e,t){new Yn(e,t).register()},Yn.prototype=Object.create(Zt.prototype),Yn.prototype._getAllowedValueTypesToSet=function(){return[Xt.TYPE,Kt.TYPE]},Yn.prototype.getType=function(){return Yn.TYPE},Yn.prototype.getValue=function(){var e=this._getFieldElement().val();return e==this._notSelectedOptionValue?new Dt:new Ht(e,pjQuery("#"+this._fieldId+" option:selected").text())},Yn.prototype.getValueForVisibilityCondition=function(){var e=this._getFieldElement().val();return e!=this._notSelectedOptionValue?e:null},Yn.prototype.setValue=function(e){this._assertIsAllowedValueToSet(e);var t=pjQuery("option",this._getFieldElement()),n=this;switch(e.getType()){case Xt.TYPE:this._datasource.fetchOptionsById([e.getOptionId()],(function(e){t.filter((function(){return e.find((function(e){return e.id==pjQuery(this).val()}),this)})).prop("selected",!0),n._triggerEvent("change")}));break;case Kt.TYPE:this._datasource.fetchOptionsByValue([e.getValue()],(function(e){t.filter((function(){return e.find((function(e){return e.name==pjQuery(this).text()}),this)})).prop("selected",!0),n._triggerEvent("change")}));break;default:throw new Error("modeNotSupported")}},Yn.prototype._unsetOnHide=function(e){e.val(this._notSelectedOptionValue)},Yn.prototype._getOptionsPage=function(){return null},Yn.prototype._getOptionsPageSize=function(){return null},Yn.prototype._createWithNewOptions=function(e){var t=this;this._removeAllOptions();var n=[];pjQuery.each(e,(function(e,i){var r=pjQuery("<option></option>").attr("id",t._buildOptionHtmlId(i.id)).attr("value",i.id).attr("data-option-name",i.name).text(i.name);i.isSelected&&r.attr("selected","selected"),n.push(r.prop("outerHTML"))})),this._getFieldElement().append(n.join(""))},Yn.prototype._removeAllOptions=function(){this._getFieldElement().find("option:gt(0)").remove()},Yn.prototype._buildClonedFieldForNewTableRow=function(e,t){return this._cloneDatasourceForNewTableRow(e,t),new Yn(e,this._notSelectedOptionValue)};const Wn=Yn;function Hn(e,t,n){this._setHours(e),this._setMinutes(t),this._setSeconds(n),Ot.call(this)}Hn.TYPE="FieldTimeValueLegacy",Hn.prototype=Object.create(Ot.prototype),Hn.prototype.getType=function(){return Hn.TYPE},Hn.prototype.toString=function(){return PortalString.zeroPad(this._hours.toString(),2)+":"+PortalString.zeroPad(this._minutes.toString(),2)+":"+PortalString.zeroPad(this._seconds.toString(),2)},Hn.prototype.getHours=function(){return this._hours},Hn.prototype.getMinutes=function(){return this._minutes},Hn.prototype.getSeconds=function(){return this._seconds},Hn.prototype._setHours=function(e){if(!PortalNumber.isNumber(e)||e<0||e>23)throw new Error("invalidArgumentException: Hours should be between 0 and 23");this._hours=e},Hn.prototype._setMinutes=function(e){if(!PortalNumber.isNumber(e)||e<0||e>59)throw new Error("invalidArgumentException: Minutes should be between 0 and 59");this._minutes=e},Hn.prototype._setSeconds=function(e){if(!PortalNumber.isNumber(e)||e<0||e>59)throw new Error("invalidArgumentException: Seconds should be between 0 and 59");this._seconds=e};const zn=Hn;function qn(e){Wn.call(this,e,"-1")}qn.TYPE="SimpleTimeFieldLegacy",qn.register=function(e){new qn(e).register()},qn.prototype=Object.create(Wn.prototype),qn.prototype.getType=function(){return qn.TYPE},qn.prototype.getValue=function(){var e=this._getFieldElement().val();return e==this._notSelectedOptionValue?new Dt:new zn(PortalString.toInt(e),0,0)},qn.prototype.getValueForVisibilityCondition=function(){var e=this._getFieldElement().val();return[e=e!=this._notSelectedOptionValue?e:null,0,0]},qn.prototype._buildClonedFieldForNewTableRow=function(e,t){return this._cloneDatasourceForNewTableRow(e,t),new qn(e)};const Jn=qn;function Zn(e,t){bn.call(this,e),this.shouldUseMilitaryTimeFormat=t}Zn.TYPE="TimeFieldLegacy",Zn.register=function(e,t){new Zn(e,t).register()},Zn.prototype=Object.create(bn.prototype),Zn.prototype.getType=function(){return Zn.TYPE},Zn.prototype._getAllowedValueTypesToSet=function(){return[zn.TYPE]},Zn.prototype.setValue=function(e){this._assertIsAllowedValueToSet(e);var t=e.getHours(),n=null;this.shouldUseMilitaryTimeFormat||(n=t>=12?"PM":"AM",t>12?t-=12:0===t&&(t=12)),Vt.setFieldValue(this._getHoursId(),new Xt(t.toString())),Vt.setFieldValue(this._getMinutesId(),new Xt(e.getMinutes().toString())),n&&Vt.setFieldValue(this._getAMPMId(),new Kt(n))},Zn.prototype.getValue=function(){return Vt.hasValue(this._getHoursId())&&Vt.hasValue(this._getMinutesId())?new zn(this._getHoursFieldValue(),this._getMinutesFieldValue(),0):new Dt},Zn.prototype.getValueForVisibilityCondition=function(){return[this._getHoursFieldValue(),this._getMinutesFieldValue(),0]},Zn.prototype._getHoursFieldValue=function(){var e=Vt.getFieldValueByType(this._getHoursId(),Ht.TYPE);if(e.isEmpty())return 0;var t=PortalString.toInt(e.getOptionId());return isNaN(t)?0:(t=PortalString.toInt(t,10),this.shouldUseMilitaryTimeFormat?t:this._adaptHoursToAMPMFormat(t))},Zn.prototype._adaptHoursToAMPMFormat=function(e){var t=Vt.getFieldValueByType(this._getAMPMId(),Ht.TYPE);if(t.isEmpty())return e;var n=t.getOptionText();return"PM"===n&&12!==e?e+=12:"AM"===n&&12===e&&(e=0),e},Zn.prototype._getMinutesFieldValue=function(){var e=Vt.getFieldValueByType(this._getMinutesId(),Ht.TYPE);return e.isEmpty()?0:PortalString.toInt(e.getOptionId())||0},Zn.prototype._buildClonedFieldForNewTableRow=function(e,t){return new Zn(e,this.shouldUseMilitaryTimeFormat)},Zn.prototype._getDepedentFieldsMetadata=function(){var e=[this._createFieldMetadata(this._getHoursId(),this._getHoursSuffix()),this._createFieldMetadata(this._getMinutesId(),this._getMinutesSuffix())];return this.shouldUseMilitaryTimeFormat||e.push(this._createFieldMetadata(this._getAMPMId(),this._getAMPMSuffix())),e},Zn.prototype._getHoursId=function(){return this.getFieldId()+this._getHoursSuffix()},Zn.prototype._getMinutesId=function(){return this.getFieldId()+this._getMinutesSuffix()},Zn.prototype._getAMPMId=function(){return this.getFieldId()+this._getAMPMSuffix()},Zn.prototype._getHoursSuffix=function(){return"_hours"},Zn.prototype._getMinutesSuffix=function(){return"_minutes"},Zn.prototype._getAMPMSuffix=function(){return"_ampm"};const $n=Zn;function Kn(e,t,n,i,r,o,a,s,l,u,c,d,p,h,f,y,g,_,m,v){this.fieldId=e,this.dropdownCssClass=t,this.placeholderText=n,this.minimumInputLength=i,this.isMultiple=r,this.ajaxDelayMs=o,this.visibleOptionsLimit=a,this.optionsSearchApiUrl=s,this.dictionary=l,this.label=u,this.isRequired=c,this.isAccessible=d,this.requestedDataFieldId=p,this.jobId=h,this.contactOrJobIdEdit=f,this.wizardId=y,this.wizardFormId=g,this.schemaFieldId=_,this.optionFormatJson=m,this.alphabeticalOrder=v||!1}Kn.prototype.attachToFieldAndRefreshOptions=function(e){var t=this;pjQuery("#"+e).select2({placeholder:t.placeholderText,allowClear:!0,width:"100%",minimumInputLength:t.minimumInputLength,multiple:t.isMultiple,containerCssClass:"select2Container"+e,dropdownCssClass:t.dropdownCssClass,escapeMarkup:function(e){return e},dictionary:t.dictionary,label:t.label,fieldId:t.fieldId,isRequired:t.isRequired,isAccessible:t.isAccessible,ajax:{url:t.optionsSearchApiUrl,type:"POST",delay:t.ajaxDelayMs,quietMillis:t.ajaxDelayMs,dataType:"json",data:function(n){return t._buildAjaxRequestData(e,n)},processResults:function(e,n){return t._processAjaxResponseData(e,n)}}}),pjQuery("#"+e).on("select2:select",(function(e){pjQuery(this).focus()})),pjQuery("#"+e).trigger("select2-"+e+"-ready")},Kn.prototype._buildAjaxRequestData=function(e,t){var n={searchText:t.term,ids:t.searchIds,fieldId:this.requestedDataFieldId,jobId:this.jobId,page:t.page||1,limit:this.visibleOptionsLimit,wizardFormId:this.wizardFormId,optionFormat:this.optionFormatJson,schemaFieldId:this.schemaFieldId,alphabeticalOrder:this.alphabeticalOrder},i=this.wizardId;i&&(n.wizardId=i);var r=this.contactOrJobIdEdit;return r&&(n.contactOrJobIdEdit=r),JSON.stringify(n)},Kn.prototype._processAjaxResponseData=function(e,t){var n=e.results?e.results:e;Array.isArray(n)||(n=[n]);for(var i=0,r=n.length;i<r;i++)n[i].value&&(n[i]=n[i].value);var o=!!e.more&&e.more;return t.page=t.page||1,{results:n.map((function(e){return{id:e.id,text:e.name,children:e.children?e.children.map((function(e){return{id:e.id,text:e.name,category:e.category}})):null}})),pagination:{more:o}}};const Gn=Kn;function Xn(){}Xn.registerJobTemplateAutocompletableWidgetLazyPicker=function(e,t,n,i,r,o,a,s,l,u,c,d,p,h,f,y,g,_,m,v){Xn._lazyPickers[e]=new JobTemplateAutocompletableWidgetLazyPickerLegacy(e,t,n,i,r,o,a,s,l,u,c,d,p,h,f,y,g,_,m,v)},Xn.refreshLazyPickerOptions=function(e){Xn.refreshLazyPickerOptionsUsingOtherLazyPickerConfigAsSource(e,e)},Xn.refreshLazyPickerOptionsUsingOtherLazyPickerConfigAsSource=function(e,t){var n=Xn._getLazyPicker(e);null!==n&&n.attachToFieldAndRefreshOptions(t)},Xn._getLazyPicker=function(e){return Xn._isLazyPickerRegistered(e)?Xn._lazyPickers[e]:null},Xn._isLazyPickerRegistered=function(e){return e in Xn._lazyPickers},Xn._lazyPickers={};const ei=Xn;function ti(e,t,n){if(!PortalNumber.isNumber(n))throw new Error("invalidValue: day must be a valid integer");if(!PortalNumber.isNumber(t))throw new Error("invalidValue: month must be a valid integer");if(!PortalNumber.isNumber(e))throw new Error("invalidValue: year must be a valid integer");var i=PortalDate.fromParams(e,t,n);this._assertIsValidPortalDateObject(i),wn.call(this,i),this._day=n,this._month=t,this._year=e}ti.TYPE="FieldFullDateValueLegacy",ti.prototype=Object.create(wn.prototype),ti.prototype.getType=function(){return ti.TYPE},ti.prototype.toString=function(){return this.getFormattedDateString("yyyy-MM-dd")},ti.prototype.getDay=function(){return this._day},ti.prototype.getMonth=function(){return this._month},ti.prototype.getYear=function(){return this._year};const ni=ti;var ii=n(4521);const ri=function e(){if(e.prototype._singletonInstance)return e.prototype._singletonInstance;e.prototype._singletonInstance=this,this.run=function(e,t,n){var i=ii.getInstance(),r=i.buildKey(e,t);i.get(r).fail((function(){var o=pjQuery.ajax({type:"POST",url:e,dataType:"json",data:t});i.set(r,o),o.done(n)})).done((function(e){e.done(n)}))}};function oi(e,t){this._fieldId=e,this._portalUrlPath=t,this._datasourcesCallRunner=new ri}oi.prototype.isLocalDatasource=function(){return!1},oi.prototype.getOptions=function(){return[]},oi.prototype.fetchNewOptions=function(e,t,n,i){throw new Error("notImplementedError")},oi.prototype.fetchOptionsById=function(e,t){throw new Error("notImplementedError")},oi.prototype.fetchOptionsByValue=function(e,t){throw new Error("notImplementedError")},oi.prototype.getParentDependenciesFieldsIds=function(){throw new Error("notImplementedError")},oi.prototype.isParentDependentField=function(e){throw new Error("notImplementedError")},oi.prototype.cloneForNewTableRow=function(e,t){throw new Error("notImplementedError")},oi.prototype.getOptionsSearchApiUrl=function(){throw new Error("notImplementedError")},oi.prototype.buildRequestDataFromParams=function(e,t,n,i,r,o){throw new Error("notImplementedError")},oi.prototype.processLazyPickerAjaxResponseData=function(e){throw new Error("notImplementedError")},oi.prototype._fetchOptions=function(e,t){var n=this._getDatasourcesCallRunnerOnSuccessCallback(t);this._datasourcesCallRunner.run(this.getOptionsSearchApiUrl(),e,n)},oi.prototype._getDatasourcesCallRunnerOnSuccessCallback=function(e){return function(t){var n=t.hasOwnProperty("results")?t.results:[],i=t.hasOwnProperty("currentOptionsFoundInResults")?t.currentOptionsFoundInResults:[];e(n,i)}},oi.prototype._getFieldId=function(){return this._fieldId};const ai=oi;function si(e,t,n,i,r){ai.call(this,e,r),this._datasetFilters=i||[],this._optionFormatComponents=t,this._schemaFieldIdToUseForIndirectFiltering=n}si.prototype=Object.create(ai.prototype),si.prototype._shouldIgnoreFilterIfNoValueIsSelected=function(){throw new Error("notImplemented")},si.prototype.getParentDependenciesFieldsIds=function(){var e=[];return pjQuery.each(this._datasetFilters,(function(t,n){"field"===n.type&&e.push(n.parentDependencyFieldId)})),e},si.prototype.isParentDependentField=function(e){var t=!1;return pjQuery.each(this._datasetFilters,(function(n,i){if("field"===i.type&&i.parentDependencyFieldId===e)return t=!0,!1})),t},si.prototype.fetchNewOptions=function(e,t,n,i){var r=this.buildRequestDataFromParams(t,n,null,null,null,e);this._fetchOptions(r,i)},si.prototype.fetchOptionsById=function(e,t){if(0!==e.length){var n=this.buildRequestDataFromParams(null,null,null,null,e,null);this._fetchOptions(n,t)}else t([])},si.prototype.fetchOptionsByValue=function(e,t){if(0!==e.length){var n=this.buildRequestDataFromParams(null,null,e,!0,null,null);this._fetchOptions(n,t)}else t([])},si.prototype._buildClonedFiltersForNewTableRow=function(e,t){for(var n=[],i=this._fieldId.split("-"),r=0;r<this._datasetFilters.length;r++){var o=pjQuery.extend(!0,{},this._datasetFilters[r]);if("field"===o.type&&o.parentDependencyFieldId.indexOf("-")>0){var a=o.parentDependencyFieldId.split("-");a[0]===i[0]&&(a[a.length-1]=t,o.parentDependencyFieldId=a.join("-"))}n.push(o)}return n},si.prototype._buildFiltersWithCurrentFieldsValues=function(){for(var e=[],t=0;t<this._datasetFilters.length;t++){var n=pjQuery.extend(!0,{},this._datasetFilters[t]);if("field"===n.type){var i=n.parentDependencyFieldId;if(!Vt.isFieldRegistered(i))continue;var r=Vt.getFieldValue(i);if(this._shouldIgnoreFilterIfNoValueIsSelected()&&r.isEmpty())continue;switch(r.getType()){case Dt.TYPE:n.value=[];break;case Ht.TYPE:n.value=PortalString.toInt(r.getOptionId());break;case qt.TYPE:n.value=r.getOptionsIds().map((function(e){return PortalString.toInt(e)}));break;default:throw new Error("invalidValue: dataset filtering requires a field with options to filter by")}n.type="fixed"}e.push(n)}return e};const li=si;function ui(e,t,n,i,r,o){this._datasetSchemaSpecId=o,li.call(this,e,t,n,i,r)}ui.register=function(e,t,n,i,r,o){var a=new ui(e,t,n,i,r,o);Yt.registerDatasource(e,a)},ui.prototype=Object.create(li.prototype),ui.prototype._shouldIgnoreFilterIfNoValueIsSelected=function(){return!1},ui.prototype.cloneForNewTableRow=function(e,t){var n=this._buildClonedFiltersForNewTableRow(e,t);return new ui(e,pjQuery.extend(!0,[],this._optionFormatComponents),this._schemaFieldIdToUseForIndirectFiltering,n,this._portalUrlPath,this._datasetSchemaSpecId)},ui.prototype.getOptionsSearchApiUrl=function(){return this._portalUrlPath+"/_portalDatasetOptionsSearchApi"},ui.prototype.buildRequestDataFromParams=function(e,t,n,i,r,o){for(var a=this._buildFiltersWithCurrentFieldsValues(),s=[],l=0;l<a.length;++l)s.push({operator:a[l].operator,datasetSpecIdFilter:a[l].datasetSpecIdFilter||null,schemaFieldNumberFilter:a[l].schemaFieldNumberFilter||null,value:a[l].value||null,type:a[l].type});var u=this._optionFormatComponents,c=[];for(l=0;l<u.length;++l)c.push({type:u[l].type,order:u[l].order,fieldNumberOrText:u[l].fieldNumberOrText});var d={datasetSchemaSpecId:this._datasetSchemaSpecId,schemaFieldIdToUseForIndirectFiltering:this._schemaFieldIdToUseForIndirectFiltering||null,filters:s,optionFormatComponents:c,searchIds:r||null,currentOptionsIds:o||[],page:e||null,limit:t||null,searchText:n||null,exactMatch:i||!1};return JSON.stringify(d)},ui.prototype.processLazyPickerAjaxResponseData=function(e){return{results:e.results.map((function(e){return{id:e.id,text:e.name}})),pagination:{more:!!e.more&&e.more}}};const ci=ui;function di(e,t,n,i,r,o){this._datasetSchemaFieldId=o,li.call(this,e,t,n,i,r)}di.register=function(e,t,n,i,r,o){var a=new di(e,t,n,i,r,o);Yt.registerDatasource(e,a)},di.prototype=Object.create(li.prototype),di.prototype._shouldIgnoreFilterIfNoValueIsSelected=function(){return!0},di.prototype.cloneForNewTableRow=function(e,t){var n=this._buildClonedFiltersForNewTableRow(e,t);return new di(e,pjQuery.extend(!0,[],this._optionFormatComponents),this._schemaFieldIdToUseForIndirectFiltering,n,this._portalUrlPath,this._datasetSchemaFieldId)},di.prototype.getOptionsSearchApiUrl=function(){return this._portalUrlPath+"/_portalDatasetSingleColumnOptionsSearchApi"},di.prototype.buildRequestDataFromParams=function(e,t,n,i,r,o){var a=this._buildFiltersWithCurrentFieldsValues().map((function(e){return{operator:e.operator,datasetSpecIdFilter:e.datasetSpecIdFilter||null,schemaFieldNumberFilter:e.schemaFieldNumberFilter||null,value:e.value||null,type:e.type}})),s=this._optionFormatComponents.map((function(e){return{type:e.type,order:e.order,fieldNumberOrText:e.fieldNumberOrText}}));return JSON.stringify({datasetFieldSchemaFieldId:this._datasetSchemaFieldId,schemaFieldIdToUseForIndirectFiltering:this._schemaFieldIdToUseForIndirectFiltering||null,filters:a,optionFormatComponents:s,searchIds:r||null,currentOptionsIds:o||[],page:e||null,limit:t||null,searchText:n||null,exactMatch:i||!1})},di.prototype.processLazyPickerAjaxResponseData=function(e){return{results:e.results.map((function(e){return{id:e.id,text:e.name}})),pagination:{more:!!e.more&&e.more}}};const pi=di;n(533);function hi(e,t){this._setOptions(t),ai.call(this,e)}hi.register=function(e,t){var n=new hi(e,t);Yt.registerDatasource(e,n)},hi.prototype=Object.create(ai.prototype),hi.prototype.isLocalDatasource=function(){return!0},hi.prototype.getOptions=function(){return this._options},hi.prototype.getParentDependenciesFieldsIds=function(){return[]},hi.prototype.isParentDependentField=function(e){return!1},hi.prototype.fetchNewOptions=function(e,t,n,i){var r=[],o=[];if(this._options.forEach((function(t){PortalArray.contains(t.id,e)&&o.push(t),r.push(t)})),null!==t&&null!==n){var a=(t-1)*n;r=r.slice(a,a+n)}i(r,o)},hi.prototype.fetchOptionsById=function(e,t){var n=[];e.forEach((function(e){this._options.forEach((function(t){return t.id==e&&(n.push(t),!0)}))}),this),t(n)},hi.prototype.fetchOptionsByValue=function(e,t){var n=[];e.forEach((function(e){this._options.forEach((function(t){return t.name==e&&(n.push(t),!0)}))}),this),t(n)},hi.prototype.cloneForNewTableRow=function(e,t){return new hi(e,this._options)},hi.prototype._setOptions=function(e){this._options=[],e&&Array.isArray(e)&&e.forEach((function(e){e.hasOwnProperty("id")&&e.hasOwnProperty("name")&&this._options.push({id:e.id,name:e.name})}),this)};const fi=hi;function yi(e){fi.call(this,e)}yi.register=function(e){var t=new yi(e);Yt.registerDatasource(e,t)},yi.prototype=Object.create(fi.prototype),yi.prototype.getParentDependenciesFieldsIds=function(){return[]},yi.prototype.isParentDependentField=function(e){return!1},yi.prototype.fetchNewOptions=function(e,t,n,i){return[]},yi.prototype.fetchOptionsById=function(e,t){var n=[];e.forEach((function(e){n.push({id:e})}),this),t(n)},yi.prototype.fetchOptionsByValue=function(e,t){var n=[];e.forEach((function(e){n.push({name:e})}),this),t(n)},yi.prototype.cloneForNewTableRow=function(e,t){return new yi(e)};const gi=yi;function _i(e,t,n,i,r,o,a,s){ai.call(this,e,t),this._jobId=n,this._contactOrJobIdEdit=i,this._wizardId=r,this._wizardFormId=o,this._schemaFieldId=a,this._optionFormatJson=s}_i.register=function(e,t,n,i,r,o,a,s){var l=new _i(e,t,n,i,r,o,a,s);Yt.registerDatasource(e,l)},_i.prototype=Object.create(ai.prototype),_i.prototype.cloneForNewTableRow=function(e,t){return new _i(e,this._portalUrlPath,this._jobId,this._contactOrJobIdEdit,this._wizardId,this._includeDisabledUsers,this._wizardFormId,this._schemaFieldId,this._optionFormatJson)},_i.prototype.getOptionsSearchApiUrl=function(){return this._portalUrlPath+"/_portalOptionSearchApi"},_i.prototype.getParentDependenciesFieldsIds=function(){return[]},_i.prototype.isParentDependentField=function(e){return!1},_i.prototype.fetchNewOptions=function(e,t,n,i){var r=this.buildRequestDataFromParams(t,n,null,null,null,e),o=this;this._fetchOptions(r,(function(e){var t=o._buildApiAdaptedResults(e);i(t)}))},_i.prototype.fetchOptionsById=function(e,t){if(0!==e.length){var n=this.buildRequestDataFromParams(null,null,null,null,e,null),i=this;this._fetchOptions(n,(function(e){var n=i._buildApiAdaptedResults(e);t(n)}))}else t([])},_i.prototype.fetchOptionsByValue=function(e,t){if(0!==e.length){var n=this.buildRequestDataFromParams(null,null,e[0],!0,null,null),i=this;this._fetchOptions(n,(function(e){var n=i._buildApiAdaptedResults(e);t(n)}))}else t([])},_i.prototype.buildRequestDataFromParams=function(e,t,n,i,r,o){var a={searchText:n,exactTextMatch:i,ids:r,fieldId:this._fieldId,jobId:this._jobId,page:e||1,limit:t,wizardFormId:this._wizardFormId,optionFormat:this._optionFormatJson,schemaFieldId:this._schemaFieldId,currentSelectedOptionsIds:o},s=this._wizardId;s&&(a.wizardId=s);var l=this._contactOrJobIdEdit;return l&&(a.contactOrJobIdEdit=l),JSON.stringify(a)},_i.prototype.processLazyPickerAjaxResponseData=function(e){return{results:e.results.map((function(e){return{id:e.id,text:e.name,children:e.children?e.children.map((function(e){return{id:e.id,text:e.name}})):null}})),pagination:{more:e.more}}},_i.prototype._buildApiAdaptedResults=function(e){var t=[];return pjQuery.each(e,(function(e,n){n.children?pjQuery.each(n.children,(function(e,n){t.push({id:n.id,name:n.name})})):t.push({id:n.id,name:n.name})})),t};const mi=_i;function vi(e,t,n,i){ai.call(this,t,i),this._schemaFieldId=e,this._fieldId=t,this._isSearchMode=n}vi.register=function(e,t,n,i){var r=new vi(e,t,n,i);Yt.registerDatasource(t,r)},vi.prototype=Object.create(ai.prototype),vi.prototype.cloneForNewTableRow=function(e,t){return new vi(this._schemaFieldId,e,this._isSearchMode,this._portalUrlPath)},vi.prototype.getOptionsSearchApiUrl=function(){return this._portalUrlPath+"/_portalUserSearch"},vi.prototype.getParentDependenciesFieldsIds=function(){return[]},vi.prototype.isParentDependentField=function(e){return!1},vi.prototype.fetchNewOptions=function(e,t,n,i){var r=this.buildRequestDataFromParams(t,n,null,null,null,e);this._fetchOptions(r,i)},vi.prototype.fetchOptionsById=function(e,t){if(0!==e.length){var n=this.buildRequestDataFromParams(null,null,null,null,e,null);this._fetchOptions(n,(function(e){t(e)}))}else t([])},vi.prototype.fetchOptionsByValue=function(e,t){throw new Error("notSupportedError: currently is not possible to set an option by value.")},vi.prototype.buildRequestDataFromParams=function(e,t,n,i,r,o){var a={schemaFieldId:this._schemaFieldId,key:n||"",searchIds:r||null,currentOptionsIds:o||[],isSearchMode:this._isSearchMode};return JSON.stringify(a)},vi.prototype.processLazyPickerAjaxResponseData=function(e){return{results:e.results.map((function(e){return{id:e.id,text:e.name}})),pagination:{more:!!e.more&&e.more}}};const bi=vi;n(6065),n.g.CookieConsentPopupService=r(),n.g.MassiveActionService=a(),n.g.ApiCacheLegacy=n(4521),n(6888),n.g.md5=n(7760),n.g.AutocompleteSelectFieldLegacy=an,n.g.AutocompleteMultipleSelectFieldLegacy=pn,n.g.CheckboxFieldLegacy=gn,n.g.CheckboxListFieldLegacy=mn,n.g.CompoundFieldBaseLegacy=bn,n.g.DateFieldBaseLegacy=Sn,n.g.FieldBaseLegacy=Qt,n.g.FieldsDependenciesLegacy=jt,n.g.FieldsLegacy=Vt,n.g.FullDateFieldLegacy=Tn,n.g.GenericFieldLegacy=On,n.g.InputFieldLegacy=Dn,n.g.LocationFieldLegacy=xn,n.g.MultipleSelectFieldLegacy=Vn,n.g.NumberFieldLegacy=Bn,n.g.OptionsFieldBaseLegacy=Zt,n.g.RadioButtonListFieldLegacy=Un,n.g.SelectFieldLegacy=Wn,n.g.SimpleTimeFieldLegacy=Jn,n.g.TimeFieldLegacy=$n,n.g.VisibilityEvaluatorLegacy=Mt,n.g.JobTemplateAutocompletableWidgetLazyPickerLegacy=Gn,n.g.LazyPickersLegacy=ei,n.g.FieldBooleanValueLegacy=fn,n.g.FieldDateValueLegacy=wn,n.g.FieldEmptyValueLegacy=Dt,n.g.FieldFullDateValueLegacy=ni,n.g.FieldIdValueLegacy=Xt,n.g.FieldLocationValueLegacy=jn,n.g.FieldMultipleIdsValueLegacy=ln,n.g.FieldMultipleOptionsValueLegacy=qt,n.g.FieldMultipleTextsValueLegacy=cn,n.g.FieldNumberValueLegacy=Ln,n.g.FieldOptionValueLegacy=Ht,n.g.FieldTextValueLegacy=Kt,n.g.FieldTimeValueLegacy=zn,n.g.ValueBaseLegacy=Ot,n.g.DatasourcesCallRunnerLegacy=ri,n.g.DatasetFieldOptionsDatasourceLegacy=ci,n.g.DatasetOptionsDatasourceBaseLegacy=li,n.g.DatasetSingleColumnFieldOptionsDatasourceLegacy=pi,n.g.DatasourcesLegacy=Yt,n.g.DummyDatasourceLegacy=gi,n.g.GeneralOptionsDatasourceLegacy=mi,n.g.LocalDatasourceLegacy=fi,n.g.OptionsDatasourceBaseLegacy=ai,n.g.UsersDatasourceLegacy=bi},7760:function(e,t,n){var i;n(3263),n(2890),n(5985),n(2834),n(6392),n(6064),n(5996),n(5794),function(r){"use strict";function o(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function a(e,t,n,i,r,a){return o(function(e,t){return e<<t|e>>>32-t}(o(o(t,e),o(i,a)),r),n)}function s(e,t,n,i,r,o,s){return a(t&n|~t&i,e,t,r,o,s)}function l(e,t,n,i,r,o,s){return a(t&i|n&~i,e,t,r,o,s)}function u(e,t,n,i,r,o,s){return a(t^n^i,e,t,r,o,s)}function c(e,t,n,i,r,o,s){return a(n^(t|~i),e,t,r,o,s)}function d(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var n,i,r,a,d,p=1732584193,h=-271733879,f=-1732584194,y=271733878;for(n=0;n<e.length;n+=16)i=p,r=h,a=f,d=y,p=s(p,h,f,y,e[n],7,-680876936),y=s(y,p,h,f,e[n+1],12,-389564586),f=s(f,y,p,h,e[n+2],17,606105819),h=s(h,f,y,p,e[n+3],22,-1044525330),p=s(p,h,f,y,e[n+4],7,-176418897),y=s(y,p,h,f,e[n+5],12,1200080426),f=s(f,y,p,h,e[n+6],17,-1473231341),h=s(h,f,y,p,e[n+7],22,-45705983),p=s(p,h,f,y,e[n+8],7,1770035416),y=s(y,p,h,f,e[n+9],12,-1958414417),f=s(f,y,p,h,e[n+10],17,-42063),h=s(h,f,y,p,e[n+11],22,-1990404162),p=s(p,h,f,y,e[n+12],7,1804603682),y=s(y,p,h,f,e[n+13],12,-40341101),f=s(f,y,p,h,e[n+14],17,-1502002290),p=l(p,h=s(h,f,y,p,e[n+15],22,1236535329),f,y,e[n+1],5,-165796510),y=l(y,p,h,f,e[n+6],9,-1069501632),f=l(f,y,p,h,e[n+11],14,643717713),h=l(h,f,y,p,e[n],20,-373897302),p=l(p,h,f,y,e[n+5],5,-701558691),y=l(y,p,h,f,e[n+10],9,38016083),f=l(f,y,p,h,e[n+15],14,-660478335),h=l(h,f,y,p,e[n+4],20,-405537848),p=l(p,h,f,y,e[n+9],5,568446438),y=l(y,p,h,f,e[n+14],9,-1019803690),f=l(f,y,p,h,e[n+3],14,-187363961),h=l(h,f,y,p,e[n+8],20,1163531501),p=l(p,h,f,y,e[n+13],5,-1444681467),y=l(y,p,h,f,e[n+2],9,-51403784),f=l(f,y,p,h,e[n+7],14,1735328473),p=u(p,h=l(h,f,y,p,e[n+12],20,-1926607734),f,y,e[n+5],4,-378558),y=u(y,p,h,f,e[n+8],11,-2022574463),f=u(f,y,p,h,e[n+11],16,1839030562),h=u(h,f,y,p,e[n+14],23,-35309556),p=u(p,h,f,y,e[n+1],4,-1530992060),y=u(y,p,h,f,e[n+4],11,1272893353),f=u(f,y,p,h,e[n+7],16,-155497632),h=u(h,f,y,p,e[n+10],23,-1094730640),p=u(p,h,f,y,e[n+13],4,681279174),y=u(y,p,h,f,e[n],11,-358537222),f=u(f,y,p,h,e[n+3],16,-722521979),h=u(h,f,y,p,e[n+6],23,76029189),p=u(p,h,f,y,e[n+9],4,-640364487),y=u(y,p,h,f,e[n+12],11,-421815835),f=u(f,y,p,h,e[n+15],16,530742520),p=c(p,h=u(h,f,y,p,e[n+2],23,-995338651),f,y,e[n],6,-198630844),y=c(y,p,h,f,e[n+7],10,1126891415),f=c(f,y,p,h,e[n+14],15,-1416354905),h=c(h,f,y,p,e[n+5],21,-57434055),p=c(p,h,f,y,e[n+12],6,1700485571),y=c(y,p,h,f,e[n+3],10,-1894986606),f=c(f,y,p,h,e[n+10],15,-1051523),h=c(h,f,y,p,e[n+1],21,-2054922799),p=c(p,h,f,y,e[n+8],6,1873313359),y=c(y,p,h,f,e[n+15],10,-30611744),f=c(f,y,p,h,e[n+6],15,-1560198380),h=c(h,f,y,p,e[n+13],21,1309151649),p=c(p,h,f,y,e[n+4],6,-145523070),y=c(y,p,h,f,e[n+11],10,-1120210379),f=c(f,y,p,h,e[n+2],15,718787259),h=c(h,f,y,p,e[n+9],21,-343485551),p=o(p,i),h=o(h,r),f=o(f,a),y=o(y,d);return[p,h,f,y]}function p(e){var t,n="",i=32*e.length;for(t=0;t<i;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function h(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var i=8*e.length;for(t=0;t<i;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function f(e){var t,n,i="0123456789abcdef",r="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),r+=i.charAt(t>>>4&15)+i.charAt(15&t);return r}function y(e){return unescape(encodeURIComponent(e))}function g(e){return function(e){return p(d(h(e),8*e.length))}(y(e))}function _(e,t){return function(e,t){var n,i,r=h(e),o=[],a=[];for(o[15]=a[15]=void 0,r.length>16&&(r=d(r,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^r[n],a[n]=1549556828^r[n];return i=d(o.concat(h(t)),512+8*t.length),p(d(a.concat(i),640))}(y(e),y(t))}function m(e,t,n){return t?n?_(t,e):function(e,t){return f(_(e,t))}(t,e):n?g(e):function(e){return f(g(e))}(e)}void 0===(i=function(){return m}.call(t,n,t,e))||(e.exports=i)}()},1605:(e,t,n)=>{n(5657);var i=n(9368),r=n(3939);function o(){this._actionsFactory=new i,this._requestConfigFactory=new r}o.prototype.getListSelectedIds=function(e){return this._assertIsAValidList(e),pjQuery(this._getListSelectorString(e)+":checked").map((function(){return pjQuery(this).data("record-id")})).get()},o.prototype.getRequestConfigFactory=function(){return this._requestConfigFactory},o.prototype.getActionsFactory=function(){return this._actionsFactory},o.prototype._assertIsAValidList=function(e){if(!e)throw"invalidArgumentException: list ID not provided.";if(0===pjQuery(this._getListSelectorString(e)).length)throw"invalidList: No selector was found for the list with ID: "+e},o.prototype._getListSelectorString=function(e){return'[data-selector-type="massiveAction"][data-list-id="'+e+'"]'},e.exports=o},6388:e=>{MassiveActionActionBase=function(){},MassiveActionActionBase.prototype.getName=function(){throw"notImplementedException"},MassiveActionActionBase.prototype.getRequestObject=function(){throw"notImplementedException"},e.exports=MassiveActionActionBase},9368:(e,t,n)=>{var i=n(969),r=n(7231);MassiveActionActionFactory=function(){},MassiveActionActionFactory.prototype.buildWorkflowForPeopleStepUpdateAction=function(e,t,n){return new i(e,t,n)},MassiveActionActionFactory.prototype.buildWorkflowForJobsStepUpdateAction=function(e,t){return new r(e,t)},e.exports=MassiveActionActionFactory},7231:(e,t,n)=>{n(6381);var i=n(6388);MassiveActionWorkflowForJobsStepUpdateAction=function(e,t){this._setOriginWorkflowStepId(e),this._setDestinationWorkflowStepId(t),i.call(this)},MassiveActionWorkflowForJobsStepUpdateAction.prototype=Object.create(i.prototype),MassiveActionWorkflowForJobsStepUpdateAction.prototype.getName=function(){return"workflowForJobsStepUpdate"},MassiveActionWorkflowForJobsStepUpdateAction.prototype.getRequestObject=function(){return{name:this.getName(),params:{originWorkflowStepId:this._originWorkflowStepId,destinationWorkflowStepId:this._destinationWorkflowStepId}}},MassiveActionWorkflowForJobsStepUpdateAction.prototype._setOriginWorkflowStepId=function(e){this._originWorkflowStepId=e},MassiveActionWorkflowForJobsStepUpdateAction.prototype._setDestinationWorkflowStepId=function(e){if(!e)throw"invalidArgumentException: the destination workflow step ID must be defined.";this._destinationWorkflowStepId=e},e.exports=MassiveActionWorkflowForJobsStepUpdateAction},969:(e,t,n)=>{n(6381);var i=n(6388);MassiveActionWorkflowForPeopleStepUpdateAction=function(e,t,n){this._setOriginWorkflowStepId(e),this._setDestinationWorkflowStepId(t),this._setJobId(n),i.call(this)},MassiveActionWorkflowForPeopleStepUpdateAction.prototype=Object.create(i.prototype),MassiveActionWorkflowForPeopleStepUpdateAction.prototype.getName=function(){return"workflowForPeopleStepUpdate"},MassiveActionWorkflowForPeopleStepUpdateAction.prototype.getRequestObject=function(){return{name:this.getName(),params:{originWorkflowStepId:this._originWorkflowStepId,destinationWorkflowStepId:this._destinationWorkflowStepId,jobId:this._jobId}}},MassiveActionWorkflowForPeopleStepUpdateAction.prototype._setOriginWorkflowStepId=function(e){this._originWorkflowStepId=e},MassiveActionWorkflowForPeopleStepUpdateAction.prototype._setDestinationWorkflowStepId=function(e){if(!e)throw"invalidArgumentException: the destination workflow step ID must be defined.";this._destinationWorkflowStepId=e},MassiveActionWorkflowForPeopleStepUpdateAction.prototype._setJobId=function(e){this._jobId=e},e.exports=MassiveActionWorkflowForPeopleStepUpdateAction},3939:(e,t,n)=>{var i=n(4768);MassiveActionRequestConfigFactory=function(){},MassiveActionRequestConfigFactory.prototype.MassiveActionRecordsSubsetRequestConfig=i,MassiveActionRequestConfigFactory.prototype.buildRecordsSubsetRequestConfig=function(e,t,n){return new i(e,t,n)},e.exports=MassiveActionRequestConfigFactory},4768:(e,t,n)=>{n(6381),n(1659);var i=n(5269);function r(e,t,n){this._setRecordIds(e),i.call(this,t,n)}r.prototype=Object.create(i.prototype),r.prototype._getName=function(){return"recordsSubset"},r.prototype._getExtraTaskDataForRequestObject=function(){return{recordIds:this._recordIds}},r.prototype._setRecordIds=function(e){e&&Array.isArray(e)||(e=[]),this._recordIds=e},e.exports=r},5269:(e,t,n)=>{n(1659);var i=n(6388);function r(e,t){this._setActions(e),this._setListId(t)}r.prototype.getEncodedRequestData=function(){return this._encodeObject(this._getRequestObject())},r.prototype._getName=function(){throw"notImplementedException"},r.prototype._getExtraTaskDataForRequestObject=function(){return{}},r.prototype._setActions=function(e){if(!e||!Array.isArray(e)||0==e.length)throw"invalidArgumentException: at least one action must be defined.";for(var t in this._actions=[],e)e.hasOwnProperty(t)&&this._addAction(e[t])},r.prototype._addAction=function(e){if(!(e&&e instanceof i))throw'invalidArgumentException: object not defined or not an instance of "MassiveActionActionBase"';this._actions.push(e.getRequestObject())},r.prototype._setListId=function(e){this._listId=e||null},r.prototype._getRequestObject=function(){return{task:{name:this._getName(),listId:this._listId,actions:this._actions,extraData:this._getExtraTaskDataForRequestObject()}}},r.prototype._encodeObject=function(e){return encodeURIComponent(JSON.stringify(e))},e.exports=r},8600:(e,t,n)=>{"use strict";n(6194);n(4264).Z.getEventManager().attachToLoadEvent((function(){function e(e,t){var n=function(e,t){var n=e.getAttribute("data-width"),i=e.getAttribute("data-height"),r=e.getAttribute("data-lang"),o=e.getAttribute("data-is-moderator"),a=e.getAttribute("data-user-jwt"),s=function(e,t,n,i){var r=["microphone","camera","fullscreen","fodeviceselection","hangup","chat","settings","filmstrip","stats","shortcuts","tileview","raisehand","select-background"];return e||r.push("desktop"),t&&(r.push("mute-everyone"),r.push("mute-video-everyone"),r.push("videoquality"),n&&r.push("recording"),i&&r.push("participants-pane")),r}(t,o,"1"===e.getAttribute("data-recording-enabled"),"1"===e.getAttribute("data-participants-pane-enabled")),l={roomName:e.getAttribute("data-room-name"),parentNode:e,userInfo:{email:e.getAttribute("data-user-name")+(t?"@mobile":""),displayName:e.getAttribute("data-display-name")},configOverwrite:{prejoinPageEnabled:"1"===e.getAttribute("data-prejoin-page-enabled"),toolbarButtons:s},interfaceConfigOverwrite:{TOOLBAR_BUTTONS:s},toggleLobby:"1"===e.getAttribute("data-use-lobby-enabled")};return o&&a&&(l.jwt=a),n&&(l.width=n),i&&(l.height=i),r&&(l.configOverwrite.defaultLanguage=r),l}(t,e),i=new JitsiMeetExternalAPI(t.getAttribute("data-jitsi-domain"),n);i.executeCommand("subject","‎"),i.executeCommand("localSubject","‎");var r=t.getAttribute("data-hangup-callback");r&&i.addListener("readyToClose",(function(){window[r]()})),i.addListener("participantRoleChanged",(function(e){"moderator"===e.role&&(n.toggleLobby&&n.jwt&&i.executeCommand("toggleLobby",!0),i.executeCommand("subject","‎")),i.executeCommand("localSubject","‎")}))}!function(){for(var t=/\b(iPhone|iPad|iPod|Android)\b/i.test(navigator.userAgent),n=document.body.getElementsByClassName("rtcPortalExtension"),i=0;i<n.length;++i)e(t,n[i])}()}))},539:(e,t,n)=>{"use strict";n(533),n(2179),n(8586),n(2834),n(6194),n(4072),n(1313),n(3460);var i=n(7578),r=n(6479),o=(0,i.wT)("TimeslotsFreeTimePicker",i.$L);o.prototype.init=function(e,t,n,i,r,o,a){this.container=e,this.selectedDate=t,this.previousMonth=t.getMonth(),this.daysWithFreeTime=n,this.freeTimesForSelectedDate=i,this.slotDuration=r,this.relatedUserId=o,this.timezoneOffset=a,this.drawUI(),this.container&&this.container.appendChild(this.element)},o.prototype.drawUI=function(){this.element=this.e("div",{class:"FreeTimePicker"},[this.e("table",{class:"FreeTimePickerTable",cellPadding:0,cellSpacing:0},[this.e("tbody",null,[this.e("tr",null,[this.e("td",{class:"FreeTimePickerTableCell"},[this.datePicker=(0,i.WN)(new s(this.selectedDate,this.daysWithFreeTime),{onselectdate:this.caller("onSelectDate")})]),this.e("td",{class:"FreeTimePickerTableCell"},[this.timeSelector=new c(this.selectedDate,this.freeTimesForSelectedDate)])])])])])},o.prototype.onScheduleAppointmentClick=function(e){this.cancelEvent(e)},o.prototype.onSelectDate=function(e){this.selectedDate=e.date;var t=TimeSlotApiHelper.portalBaseUrl?TimeSlotApiHelper.getFreeTime(this.selectedDate):getFreeTime(this.selectedDate),n=this,i=new Date(this.selectedDate),r=new Date(this.selectedDate);r.setHours(23),r.setSeconds(59),r.setMinutes(59),t.done((function(e){for(var t=[],o=0;o<e.length;++o){var a=new Date(1e3*e[o].targetDate.timestamp);a>=i&&a<=r&&t.push({targetDate:a,slot:e[o]})}n.freeTimesForSelectedDate=t,n.datePicker.setDate(n.selectedDate),n.timeSelector.setDate(n.selectedDate,n.freeTimesForSelectedDate)}))};var a=(0,i.wT)("Toolbar",i.$L);a.prototype.init=function(e){this.content=e,this.drawUI()},a.prototype.drawUI=function(){this.element=this.e("div",{class:"FreeTimePickerToolbar"},[this.content])};var s=(0,i.wT)("DatePicker",i.$L);s.prototype.init=function(e,t){this.baseCssClassName="DatePicker",this.selectedDate=e,this.daysWithFreeTime=t,this.drawUI()},s.prototype.setDate=function(e){this.selectedDate=e,this.updateData()},s.prototype.drawUI=function(){this.element=this.e("tr",{class:"DatePicker"},[new a(this.e("div",null,[this.title=this.e("span"),this.e("a",{class:"DatePickerToolbarButton",href:"#",onclick:this.caller("onNextClick")},[">"]),this.e("a",{class:"DatePickerToolbarButton",href:"#",onclick:this.caller("onPrevClick")},["<"])])),this.e("div",{class:"DatePickerContent"},[this.e("table",{cellPadding:0,cellSpacing:0},[this.headersContainer=this.e("thead",null,this.getHeaders()),this.createWeeksTbody()])])]),this.updateData()},s.prototype.getHeaders=function(){return[this.e("tr",null,[this.e("th",null,[r.Z.shortDayOfWeekNames[0].charAt(0).toUpperCase()+r.Z.shortDayOfWeekNames[0].slice(1)]),this.e("th",null,[r.Z.shortDayOfWeekNames[1].charAt(0).toUpperCase()+r.Z.shortDayOfWeekNames[1].slice(1)]),this.e("th",null,[r.Z.shortDayOfWeekNames[2].charAt(0).toUpperCase()+r.Z.shortDayOfWeekNames[2].slice(1)]),this.e("th",null,[r.Z.shortDayOfWeekNames[3].charAt(0).toUpperCase()+r.Z.shortDayOfWeekNames[3].slice(1)]),this.e("th",null,[r.Z.shortDayOfWeekNames[4].charAt(0).toUpperCase()+r.Z.shortDayOfWeekNames[4].slice(1)]),this.e("th",null,[r.Z.shortDayOfWeekNames[5].charAt(0).toUpperCase()+r.Z.shortDayOfWeekNames[5].slice(1)]),this.e("th",null,[r.Z.shortDayOfWeekNames[6].charAt(0).toUpperCase()+r.Z.shortDayOfWeekNames[6].slice(1)])])]},s.prototype.createWeeksTbody=function(){function e(e){t.ondayheaderclick&&t.ondayheaderclick(e)}var t=this;this.weeks=[];for(var n,r=this.e("tbody"),o=0;o<=5;++o)(n=(0,i.WN)(new l(this,this.baseCssClassName),{onselectdate:this.caller("onSelectDate")})).ondayheaderclick=e,this.weeks.push(n),this.appendChild(r,n);return r},s.prototype.toTitleCase=function(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))},s.prototype.updateData=function(){this.removeAllChildren(this.title),this.appendChild(this.title,this.toTitleCase(r.Z.getDayAndMonthFormat(this.selectedDate)));for(var e=this.selectedDate.getFullYear(),t=this.selectedDate.getMonth(),n=r.Z.getLastDayInMonth(this.selectedDate),i=1-function(e){return(e=new Date(e.getFullYear(),e.getMonth(),1)).getDay()}(this.selectedDate),o=(s=new Date).getFullYear(),a=s.getMonth(),s=s.getDate(),l=!1,u=0;u<6;++u){this.weeks[u].element.style.display=i>n?"none":"";for(var c=0;c<7;++c){var d=new Date(e,t,i);this.weeks[u].days[c].setDay(d),this.setHasClass(this.weeks[u].days[c].element,this.baseCssClassName+"Past",i<=0||i>n),!l&&i+1>=n&&(l=!0),this.setHasClass(this.weeks[u].days[c].element,this.baseCssClassName+"Today",d.getDate()==s&&d.getFullYear()==o&&d.getMonth()==a),this.setHasClass(this.weeks[u].days[c].element,this.baseCssClassName+"Selected",this.selectedDate.getDate()==d.getDate()&&this.selectedDate.getFullYear()==d.getFullYear()&&this.selectedDate.getMonth()==d.getMonth()),this.setHasClass(this.weeks[u].days[c].element,this.baseCssClassName+"HasFreeTime",this.dateHasFreeTime(d)),++i}}},s.prototype.dateHasFreeTime=function(e){for(var t=0;t<this.daysWithFreeTime.length;++t)if(this.daysWithFreeTime[t].getDate()==e.getDate()&&this.daysWithFreeTime[t].getFullYear()==e.getFullYear()&&this.daysWithFreeTime[t].getMonth()==e.getMonth())return!0;return!1},s.prototype.onPrevClick=function(e){this.cancelEvent(e),this.changeDate(-1)},s.prototype.onNextClick=function(e){this.cancelEvent(e),this.changeDate(1)},s.prototype.changeDate=function(e){var t=new i.uW,n=new Date(this.selectedDate.getFullYear(),this.selectedDate.getMonth()+2*e,0);t.date=new Date(this.selectedDate.getFullYear(),this.selectedDate.getMonth()+e,this.selectedDate.getDate()>n.getDate()?n.getDate():this.selectedDate.getDate());var r=TimeSlotApiHelper.portalBaseUrl?TimeSlotApiHelper.getSlotDays(t.date):getSlotDays(t.date),o=this;r.done((function(e){for(var n=e.days,i=[],r=0;r<=n.length;++r)i.push(new Date(t.date.getFullYear(),t.date.getMonth(),n[r]));o.daysWithFreeTime=i,o.dispatchEvent("selectdate",t)}))},s.prototype.onSelectDate=function(e){this.dispatchEvent("selectdate",e)};var l=(0,i.wT)("DatePickerWeek",i.$L);l.prototype.init=function(e,t){var n=this;function r(e){n.ondayheaderclick&&n.ondayheaderclick(e)}this.monthView=e,this.baseCssClassName=t,this.days=[],this.element=this.e("tr",{class:this.baseCssClassName+"WeekHeader"});for(var o=0;o<7;++o){var a;(a=(0,i.WN)(new u(this.monthView,this.baseCssClassName),{onselectdate:this.dispatcher("selectdate")})).onheaderclick=r,this.days.push(a),this.appendChild(this.element,a)}return this.widget};var u=(0,i.wT)("DatePickerCell",i.$L);u.prototype.init=function(e,t){this.monthView=e,this.baseCssClassName=t,this.element=this.e("td",{class:this.baseCssClassName+"DayHeaderTd"},[this.e("div",{class:"tdContainer"},[this.e("div",{class:this.baseCssClassName+"DayHeader",onclick:this.caller("onHeaderClick")},[this.dayText=document.createTextNode("")])])])},u.prototype.setDay=function(e){this.date=e,this.dayText.nodeValue=e.getDate()},u.prototype.onHeaderClick=function(){var e=new i.uW;e.date=this.date,this.dispatchEvent("selectdate",e)};var c=(0,i.wT)("TimeSelector",i.$L);c.prototype.init=function(e,t,n){this.selectedDate=e,this.freeTimes=t,this.maxColumns=3,this.timezoneOffset=n,this.drawUI()},c.prototype.setDate=function(e,t){this.selectedDate=e,this.freeTimes=t,this.updateData()},c.prototype.drawUI=function(){this.element=this.element=this.e("div",{class:"TimeSelector"},[new a(this.e("div",null,["Availability for ",this.selectedDateTextContainer=this.e("span")])),this.e("div",{class:"TimeSelectorContent"},[this.checkboxsContainer=this.e("table",{class:"TimeSelectorTable",cellPadding:0,cellSpacing:0})])]),this.updateData()},c.prototype.getCheckboxs=function(){for(var e=parseInt(this.freeTimes.length/this.maxColumns)+1,t=e<2?1:e<4?2:3,n=(parseInt(this.freeTimes.length/t),[]),i=0;i<this.freeTimes.length;++i){for(var r=[],o=0;o<t&&i<this.freeTimes.length;++o)r.push(this.e("td",{class:"TimeSelectorCell"},[new d(this.freeTimes[i],this.timezoneOffset)])),++i;n.push(this.e("tr",null,r)),--i}return this.e("tbody",null,n)},c.prototype.updateData=function(){this.removeAllChildren(this.selectedDateTextContainer),this.appendChild(this.selectedDateTextContainer,this.toTitleCase(r.Z.getLongDateFormat(this.selectedDate))),this.removeAllChildren(this.checkboxsContainer),this.appendChild(this.checkboxsContainer,this.getCheckboxs())},c.prototype.toTitleCase=function(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))};var d=(0,i.wT)("TimeSelectorOption",i.$L);d.prototype.init=function(e,t){var n=e.targetDate;this.startDate=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),0),this.endDate=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes()+e.slot.slotInMinutes,0),this.slot=e.slot,this.timezoneOffset=t,this.drawUI()},d.prototype.getValueForCheckbox=function(){return JSON.stringify({slotPartitionNumber:Object.keys(this.slot.availablePartitionNumbers)[0],targetDate:{date:this.startDate.getTime()/1e3,hasTime:!0},timeSlotId:this.slot.appUserTimeSlotId,title:"Event for timeslot id "+this.slot.appUserTimeSlotId,contactIdAssignee:null,durationInSeconds:60*this.slot.slotInMinutes,relatedObjects:{addedItems:[],removedItems:[]},typeId:2,timezoneOffset:this.timezoneOffset})},d.prototype.drawUI=function(){var e="";""!==this.slot.location&&null!==this.slot.location&&(e=" ("+this.slot.location+")"),this.element=this.e("label",null,[this.input=this.e("input",{type:"radio",name:"selectedTimeSlot",onchange:this.caller("onChange")}),r.Z.getOnlyTimeFromDate(this.startDate)," - ",r.Z.getOnlyTimeFromDate(this.endDate),this.e("span",{class:"timeSlotLocation"},[e])]),this.input.value=this.getValueForCheckbox()},d.prototype.onChange=function(){var e=this.input.checked;this.setHasClass(this.element,"TimeSelectorTimeSelected",e);var t=new i.uW;t.date=this.date,this.dispatchEvent("selecttime",t)};const p=o;var h=!1,f={load:function(e,t,n){f.portalBaseUrl=e,f.companiesSelector=n,f.selectedCompanySelector=n+" option:selected",","==t.slice(-1)&&(t=t.slice(0,-1)),f.entityIds=t},getFreeTime:function(e){return pjQuery.ajax({contentType:"application/json",data:'{ "year":'+e.getFullYear()+', "month":'+(e.getMonth()+1)+', "day": '+e.getDate()+', "entityIds": [ '+f._getEntityIds()+' ], "timezoneOffset": '+e.getTimezoneOffset()+"}",dataType:"json",type:"POST",url:f.portalBaseUrl+"/_timeSlotApi?action=2"})},getSlotDays:function(e){return pjQuery.ajax({contentType:"application/json",data:'{ "year":'+e.getFullYear()+', "month":'+(e.getMonth()+1)+', "entityIds": [ '+f._getEntityIds()+' ], "timezoneOffset": '+e.getTimezoneOffset()+"}",dataType:"json",type:"POST",url:f.portalBaseUrl+"/_timeSlotApi?action=1"})},getSlotDaysAndTodaysFreeTime:function(e,t,n){var i=new Date,r=e||i.getFullYear(),o=t||i.getMonth(),a=n||null;pjQuery.ajax({contentType:"application/json",data:'{ "year":'+r+', "month":'+(o+1)+', "day":'+a+', "entityIds": [ '+f._getEntityIds()+' ], "timezoneOffset": '+i.getTimezoneOffset()+"}",dataType:"json",success:function(e){for(var t=[],n=0;n<=e.days.length;++n)t.push(new Date(r,e.month-1,e.days[n]));var o=[],a=new Date;a.setFullYear(e.year,e.month-1,e.day),a.setHours(23,59,59,999);for(n=0;n<e.times.length;++n)i.getTime()<=1e3*e.times[n].targetDate.timestamp&&a.getTime()>=1e3*e.times[n].targetDate.timestamp&&o.push({targetDate:new Date(1e3*e.times[n].targetDate.timestamp),slot:e.times[n]});h||(h=!0,pjQuery(f.companiesSelector+" option").filter((function(){return-1==pjQuery.inArray(this.value,["0","-1"])})).remove(),pjQuery.each(e.companies,(function(e,t){pjQuery(f.companiesSelector).append(pjQuery("<option></option>").attr("value",t.entityId).text(t.entityName))}))),new p(document.getElementById("freeTimePickerContainer"),new Date(e.year,e.month-1,e.day?e.day:(new Date).getDate()),t,o,30,1,(new Date).getTimezoneOffset())},type:"POST",url:f.portalBaseUrl+"/_timeSlotApi?action=4"})},_getEntityIds:function(){var e=f.entityIds;return""!=e&&f.companiesSelector?e=f.entityIds+","+pjQuery(f.selectedCompanySelector).val():f.companiesSelector&&(e=pjQuery(f.selectedCompanySelector).val()),e}};const y=f;n.g.TimeSlotApiHelper=y},5462:(e,t,n)=>{"use strict";var i=n(7760),r=n.n(i);function o(){this._initialize()}o.prototype.get=function(e){var t=pjQuery.Deferred();return this.cache[e]?t.resolve(this.cache[e]):t.reject(null),t.promise()},o.prototype.set=function(e,t){var n=pjQuery.Deferred();return this.cache[e]=t,n.resolve(!0),n.promise()},o.prototype.clear=function(e){var t=pjQuery.Deferred();return this.cache.hasOwnProperty(e)?(delete this.cache[e],t.resolve(!0)):t.reject(null),t.promise()},o.prototype.purge=function(){var e=pjQuery.Deferred();return this._initialize(),e.resolve(!0),e.promise()},o.prototype.buildKey=function(e,t){return t=t||{},r()(e+JSON.stringify(t))},o.prototype._initialize=function(){this.cache={}},o.getInstance=function(){return o._instance||(o._instance=new o),o._instance};const a=o;n(7609),n(2834),n(6194),n(8387),n(4954);var s=function(){};s.setWizardValidationAccessible=function(e){var t="";pjQuery("body").find(".errorMessage").each((function(e,n){var i=pjQuery(this),r=i.text(),o=i.attr("data-fieldLabel");if(o&&r){var a=r.split(")")[1].substr(1);t+=o+": "+a+" "}})),t&&(pjQuery("#liveErrorsContainer").append("<p>"+e+" "+t+"</p>"),setTimeout((function(){s.cleanDuplicatedNotices(),s.appendToWizardFormVisibleNoticeOfFieldErrors(e)}),1e3))},s.cleanDuplicatedNotices=function(){pjQuery("div.alert--error").remove(),pjQuery("div.message--error").remove()},s.appendToWizardFormVisibleNoticeOfFieldErrors=function(e){pjQuery("form").each((function(){pjQuery(this).find(':input[name ="entityData"]').length>0&&pjQuery(this).prepend(pjQuery("<div/>",{class:"alert alert--error","aria-hidden":"true"}).append([pjQuery("<i/>",{class:"fa fa-exclamation-circle"}),e]))}))};const l=s;n(6381),n(4072),n(3488),n(4792),n(6040),n(2179),n(5657),n(854),n(6064),n(1573),n(6751),n(5996),n(5794),n(7390),n(1988);function u(){}u.assertIsValid=function(e){if(!(e&&e instanceof u))throw new Error("invalidArgumentException: invalid value. It must be an instance of ValueBase.")},u.prototype.getType=function(){throw new Error("notImplementedError")},u.prototype.toString=function(){throw new Error("notImplementedError")},u.prototype.isEmpty=function(){return!1};const c=u;function d(){c.call(this)}d.TYPE="FieldEmptyValue",d.prototype=Object.create(c.prototype),d.prototype.getType=function(){return d.TYPE},d.prototype.toString=function(){return""},d.prototype.isEmpty=function(){return!0};const p=d;function h(){}h.registerFieldDependency=function(e,t,n){PortalHtml.elementExists(e)&&PortalHtml.elementExists(t)&&(n!==h.TYPE_DISPLAY&&n!==h.TYPE_VALUES||(h._existsFieldWithDependencies(t)||(h._fieldsDependencies[t]=[]),-1===h._fieldsDependencies[t].indexOf(e)&&(h._fieldsDependencies[t][e]=[]),-1===h._fieldsDependencies[t][e].indexOf(n)&&h._fieldsDependencies[t][e].push(n)))},h.getChildDependentFieldsOf=function(e){return h._existsFieldWithDependencies(e)?h._fieldsDependencies[e]:[]},h._existsFieldWithDependencies=function(e){return e in h._fieldsDependencies},h.TYPE_DISPLAY="Display",h.TYPE_VALUES="Values",h._fieldsDependencies={};const f=h;n(4049);function y(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var g=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._parentDependencyFieldId=t,this._operator=n,this._value=i}var t,n,i;return t=e,(n=[{key:"getParentDependencyFieldId",value:function(){return this._parentDependencyFieldId}},{key:"getOperator",value:function(){return this._operator}},{key:"getValue",value:function(){return this._value}}])&&y(t.prototype,n),i&&y(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();const _=g;function m(){}m.isFieldRegistered=function(e){return e in m._fields},m.registerField=function(e,t){return!(m.isFieldRegistered(e)||!PortalHtml.elementExists(e))&&(m._fields[e]=t,!0)},m.getFieldValue=function(e){return m._getFieldOrDie(e).getValue()},m.getFieldValueByType=function(e,t){var n=m._getFieldOrDie(e).getValue();if(n.getType()!==t&&n.getType()!==p.TYPE)throw new Error("invalidValueError: field "+e+" returns "+n.getType()+" values");return n},m.getFieldValueForCondition=function(e){return m._getFieldOrDie(e).getValueForCondition()},m.setFieldValue=function(e,t){m._getFieldOrDie(e).setValue(t)},m.hasValue=function(e){var t=m.getField(e);if(null!==t)return t.hasValue();m._throwFieldNotRegisteredException(e)},m.cloneForNewTableRow=function(e,t,n){PortalString.isString(n)||(n="");var i=e+"-0"+n,r=e+"-"+t+n;if(null===m.getField(r)){var o=m.getField(i);null===o&&m._throwFieldNotRegisteredException(e),o.cloneForNewTableRow(r,t)}},m.isVisible=function(e){var t=m.getField(e);return null!==t&&t.isVisible()},m.setFieldVisibilityConditionFromParams=function(e,t,n,i){if(m.isFieldRegistered(e)){var r=m.getField(e),o=new _(t,n,i);r.addVisibilityCondition(o)}},m.onFieldValueChange=function(e){if(m.isFieldRegistered(e)){var t,n,i,r=f.getChildDependentFieldsOf(e);for(n in r)if(r.hasOwnProperty(n))for(t=0;t<r[n].length;t++)i=r[n][t],m._addFieldAsPendingToBeUpdated(n,i,e);var o=m._getFieldsPendingToBeUpdated(e);for(t=0;t<o.length;t++){n=o[t];var a=m.getField(n);null!==a&&(a.onRelatedFieldValueChange(e),m._removePendingToBeUpdatedField(n))}}},m.fieldAcceptsValueType=function(e,t){return m._getFieldOrDie(e).fieldAcceptsValueType(t)},m.isSomeFieldBeingUpdated=function(){for(var e in m._fields)if(m._fields.hasOwnProperty(e)&&m.getField(e).isBeingUpdated())return!0;return!1},m.getField=function(e){return m.isFieldRegistered(e)?m._fields[e]:null},m.dispatchBeforeSubmitAutoPartialSave=function(){var e=Object.values(m._fields).map((function(e){return e.onBeforeSubmitAutoPartialSave()}));return Promise.allSettled(e)},m._throwFieldNotRegisteredException=function(e){throw new Error("tryToAccessNonRegisteredField: "+e)},m._addFieldAsPendingToBeUpdated=function(e,t,n){-1===m._fieldsPendingToBeUpdated.indexOf(e)?m._fieldsPendingToBeUpdated[e]={dependencyType:t,parentFieldId:n}:m._fieldsPendingToBeUpdated[e].dependencyType===f.TYPE_DISPLAY&&t===f.TYPE_VALUES&&(m._fieldsPendingToBeUpdated[e]={dependencyType:t,parentFieldId:n})},m._getFieldsPendingToBeUpdated=function(e){var t=[];for(var n in m._fieldsPendingToBeUpdated){if(m._fieldsPendingToBeUpdated.hasOwnProperty(n))m._fieldsPendingToBeUpdated[n].parentFieldId===e&&t.push(n)}return t},m._removePendingToBeUpdatedField=function(e){var t=m._fieldsPendingToBeUpdated.indexOf(e);t>-1&&m._fieldsPendingToBeUpdated.splice(t,1)},m._getFieldOrDie=function(e){var t=m.getField(e);if(null!==t)return t;m._throwFieldNotRegisteredException(e)},m._fieldsPendingToBeUpdated=[],m._fields={};const v=m;n(9142),n(9100),n(1688),n(942),n(6926),n(8045),n(3755),n(2890),n(5985),n(6392),n(6740),n(1659),n(6370),n(50),n(3886);function b(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function F(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=F((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));w(I,"EQUAL","=="),w(I,"NOT_EQUAL","!="),w(I,"ANY","any"),w(I,"ALL","all"),w(I,"NONE","none"),w(I,"IS_ATTACHED","isAttached"),w(I,"IS_SET","isSet"),w(I,"IS_COMPLETED","isCompleted"),w(I,"IS_EMPTY","isEmpty"),w(I,"TIME_SLOT_SELECTED","timeSlotSelected"),w(I,"NO_TIME_SLOT_SELECTED","noTimeSlotSelected");const S=I;function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function T(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var P=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"areFieldConditionsSatisfied",value:function(e){var t=this;return!!e&&e.every((function(e){return t._isFieldConditionSatisfied(e)}))}},{key:"_isFieldConditionSatisfied",value:function(e){var t=e.getParentDependencyFieldId();try{var n=v.getFieldValueForCondition(t);return Array.isArray(n)?this._evaluateArrayedValue(n,e.getValue(),e.getOperator()):this._evaluateSimpleValue(n,e.getValue(),e.getOperator())}catch(e){return!1}}},{key:"_evaluateArrayedValue",value:function(e,t,n){switch(n){case S.ALL:case S.EQUAL:return this._arrayEquals(e,t);case S.NOT_EQUAL:return!this._arrayEquals(e,t);case S.ANY:return this._arrayContainsAny(e,t);case S.NONE:return!this._arrayContainsAny(e,t);default:return!1}}},{key:"_arrayContainsAny",value:function(e,t){var n=this;return e.some((function(e){return t.some((function(t){return n._parseValueForEvaluation(t)==n._parseValueForEvaluation(e)}))}))}},{key:"_arrayEquals",value:function(e,t){var n=this;return!(e.length<t.length)&&t.every((function(t){return e.some((function(e){return n._parseValueForEvaluation(t)==n._parseValueForEvaluation(e)}))}))}},{key:"_evaluateSimpleValue",value:function(e,t,n){switch(e=this._parseValueForEvaluation(e),t=null===t?"":t,n){case S.EQUAL:return this._evaluateSimpleEqual(e,t);case S.NOT_EQUAL:return e!=t;case S.ANY:case S.NONE:return this._evaluateArrayedValue([e],t,n);case S.IS_SET:case S.IS_ATTACHED:return this._evaluateValueIsSetOrFileIsAttached(e,t);case S.IS_EMPTY:return!this._isValueSetOrFileAttached(e);case S.TIME_SLOT_SELECTED:case S.NO_TIME_SLOT_SELECTED:return this._evaluateTimeSlotFieldValue(e,n);default:return!1}}},{key:"_evaluateSimpleEqual",value:function(e,t){return!(null===e&&null!==t||e!=t&&(e<t||e>t))}},{key:"_evaluateTimeSlotFieldValue",value:function(e,t){return e&&t===S.TIME_SLOT_SELECTED||!e&&t===S.NO_TIME_SLOT_SELECTED}},{key:"_evaluateValueIsSetOrFileIsAttached",value:function(e,t){return this._isSetOrIsAttachedConditionValue(t)?this._isValueSetOrFileAttached(e):!this._isValueSetOrFileAttached(e)}},{key:"_isValueSetOrFileAttached",value:function(e){return""!==e&&null!=e}},{key:"_isSetOrIsAttachedConditionValue",value:function(e){return 1===e||"1"===e}},{key:"_parseValueForEvaluation",value:function(e){return null===e?null:"string"==typeof e&&e.includes("JSNType")?(null===(t=JSON.parse(e).value)||void 0===t?void 0:t.id)||null:"object"===E(e)&&e.value?e.value.id:e;var t}}])&&T(t.prototype,n),i&&T(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();const O=P;function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function j(){return j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=A(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},j.apply(this,arguments)}function A(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=N(e)););return e}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=N(e);if(t){var r=N(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return V(this,n)}}function V(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}const L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(o,e);var t,n,i,r=R(o);function o(){return D(this,o),r.apply(this,arguments)}return t=o,(n=[{key:"_isFieldConditionSatisfied",value:function(e){return v.isVisible(e.getParentDependencyFieldId())&&j(N(o.prototype),"_isFieldConditionSatisfied",this).call(this,e)}}])&&k(t.prototype,n),i&&k(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(O);function M(){}M.registerValidator=function(e,t){M._isValidatorRegistered(e)||(M._validators[e]=[]),M._validators[e].push(t)},M.getForField=function(e){var t=M.__getValidators(e);return null!==t?t:[]},M.cloneValidatorForNewTableRow=function(e,t,n){for(var i=M.getForField(e),r=0;r<i.length;r++){var o=i[r].cloneForNewTableRow(t,n);M.registerValidator(t,o)}},M.__getValidators=function(e){return M._isValidatorRegistered(e)?M._validators[e]:null},M._isValidatorRegistered=function(e){return e in M._validators},M._validators={};const B=M;function Q(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function U(e,t,n){return t&&Q(e.prototype,t),n&&Q(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=U((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));Y(W,"DISPLAY_CONDITIONALLY","DisplayConditionally"),Y(W,"SECTION_COLLAPSIBLE","SectionCollapsible");const H=W;function z(e,t){this._fieldId=e,this._fieldSettings=t||{},this._visibilityConditions=[],this._isBeingUpdated=!1,this._shouldReupdateAfterCurrentUpdate=!1,this._nextUpdateParentFieldId=null,this._visibilityConditionsEvaluator=new L}z.prototype.register=function(){v.registerField(this._fieldId,this)&&this._postRegister()},z.prototype.getType=function(){throw new Error("notImplementedError")},z.prototype.getValue=function(){throw new Error("notImplementedError")},z.prototype.getValueForCondition=function(){throw new Error("notImplementedError")},z.prototype.setValue=function(e){throw new Error("notImplementedError")},z.prototype.hasValue=function(){return!this.getValue().isEmpty()},z.prototype.getLabel=function(){var e=pjQuery("#"+this._fieldId+"-label").text();return e&&this.isRequired()?e.replace(/\s\*$/,""):e},z.prototype._assertIsAllowedValueToSet=function(e){if(c.assertIsValid(e),!(this._getAllowedValueTypesToSet().indexOf(e.getType())>-1))throw new Error("invalidArgumentException: value to set must be an instance of: "+this._getAllowedValueTypesToSet().join(", "))},z.prototype._getAllowedValueTypesToSet=function(){throw new Error("notImplementedError")},z.prototype.isRequired=function(){return pjQuery("#fieldSpecContainer"+this._fieldId).find(".requiredField").length||pjQuery("#fieldSpecContainer"+this._fieldId).find(".formrequiredField").length||pjQuery("#fieldSpecContainer"+this._fieldId).find(".datasetrequiredField").length},z.prototype.isValid=function(){for(var e=B.getForField(this._fieldId),t=0;t<e.length;t++){var n=e[t];if(!n.isValid())return this._addValidationErrorIfNeeded(n.getValidationErrorText()),!1}return this._removeValidationErrorIfNeeded(),!0},z.prototype.getFieldSettings=function(){return this._fieldSettings},z.prototype.getSetting=function(e){return this._fieldSettings.hasOwnProperty(e)?this._fieldSettings[e]:null},z.prototype._addValidationErrorIfNeeded=function(e){if(pjQuery("#"+this._fieldId+"-errorMessage").length)pjQuery("#"+this._fieldId+"-errorMessage").text(e),pjQuery("#"+this._fieldId+"-errorMessage").prepend(pjQuery("<span/>",{"aria-hidden":"true",class:"errorMessageIcon",text:"(!) "}));else{var t=pjQuery("<span/>",{id:this._fieldId+"-errorMessage",class:"errorMessage",role:"alert","aria-live":"assertive","data-fieldlabel":pjQuery("#"+this._fieldId+"-label").text(),text:e}).prepend(pjQuery("<span/>",{"aria-hidden":"true",class:"errorMessageIcon",text:"(!) "}));pjQuery("#"+this._fieldId).parent().append(t)}},z.prototype._removeValidationErrorIfNeeded=function(){pjQuery("#"+this._fieldId+"-errorMessage").length&&pjQuery("#"+this._fieldId+"-errorMessage").remove()},z.prototype.isBeingUpdated=function(){return this._isBeingUpdated||this._shouldReupdateAfterCurrentUpdate},z.prototype.cloneForNewTableRow=function(e,t){for(var n=this._buildClonedFieldForNewTableRow(e,t),i=this._visibilityConditions.length-1;i>=0;i--)n.addVisibilityCondition(new _(this._visibilityConditions[i].getParentDependencyFieldId().replace(/^((\d+-)+)\d+$/,"$1"+t),this._visibilityConditions[i].getOperator(),this._visibilityConditions[i].getValue()));B.cloneValidatorForNewTableRow(this._fieldId,e,t),n.register()},z.prototype.getFieldId=function(){return this._fieldId},z.prototype.addVisibilityCondition=function(e){null!==e&&(this._visibilityConditions.push(e),f.registerFieldDependency(this._fieldId,e.getParentDependencyFieldId(),f.TYPE_DISPLAY))},z.prototype.isVisible=function(){var e=this._getFieldContainerElement();return null!==e&&!e.attr("hidden")},z.prototype.show=function(){var e=this._getFieldContainerElement();if(e){var t=this._getFieldElement();e.attr("hidden",!1),this._resetAttributes(t),this._shouldHaveHiddenElementIndicator()&&this._removeHiddenElementIndicator()}},z.prototype.hide=function(){if(this.isVisible()){var e=this._getFieldContainerElement();if(e){e.attr("hidden",!0);var t=this._getFieldElement();this._hideElement(t),this._shouldHaveHiddenElementIndicator()&&this._addHiddenElementIndicator()}}},z.prototype.focus=function(){pjQuery("#"+this._fieldId).focus()},z.prototype.onRelatedFieldValueChange=function(e){this._isBeingUpdated?(this._shouldReupdateAfterCurrentUpdate=!0,this._nextUpdateParentFieldId=e):(this._isBeingUpdated=!0,this._shouldReupdateAfterCurrentUpdate=!1,this._nextUpdateParentFieldId=null,this._updateFieldAfterParentFieldValueChange(e))},z.prototype.fieldAcceptsValueType=function(e){return this._getAllowedValueTypesToSet().indexOf(e)>-1},z.prototype._postRegister=function(){if(this._attachOnChangeListener(),this.hasValue()){var e=this._fieldId;pjQuery((function(){v.onFieldValueChange(e)}))}this._buildVisibilityStatus()},z.prototype._updateFieldAfterParentFieldValueChange=function(e){var t=this._updateFieldVisibilityAfterParentFieldValueChange();this._onFieldUpdated(t)},z.prototype._onFieldUpdated=function(e){if(e&&v.onFieldValueChange(this._fieldId),this._isBeingUpdated=!1,this._shouldReupdateAfterCurrentUpdate){this._shouldReupdateAfterCurrentUpdate=!1;var t=this._nextUpdateParentFieldId;this._nextUpdateParentFieldId=null,this.onRelatedFieldValueChange(t)}},z.prototype._updateFieldVisibilityAfterParentFieldValueChange=function(){var e=this._visibilityConditionsEvaluator.areFieldConditionsSatisfied(this._visibilityConditions),t=this.isVisible();return this.setVisibilityStatusByType(H.DISPLAY_CONDITIONALLY,e),t!==this.isVisible()},z.prototype._buildClonedFieldForNewTableRow=function(e,t){throw new Error("notImplementedError")},z.prototype._resetAttributes=function(e){if(e){var t=e.attr("data-required");t&&(e.prop("required",t),e.attr("aria-required",t));var n=e.data("hiddentype");n&&(this._setElementType(e,n),this._toggleAttributesMetadata(e),e.removeAttr("data-hiddenType"));var i=e.attr("data-hiddenValue");i&&(e.val(i),i!==e.val()&&this._unsetOnHide(e),e.removeAttr("data-hiddenValue")),this._resetChildren(e)}},z.prototype._hideElement=function(e){if(e&&0!==e.length){e.removeAttr("required"),e.removeAttr("aria-required"),e.attr("data-hiddenType",e.prop("type")),this._setElementType(e,"hidden");var t=e.val();t&&e.attr("data-hiddenValue",t),this._toggleAttributesMetadata(e),this._unsetOnHide(e),this._hideChildren(e)}},z.prototype._unsetOnHide=function(e){e.val("")},z.prototype._hideChildren=function(e){var t=this;e.find("[data-parentid='"+e.attr("id")+"']").each((function(e,n){t._hideElement(pjQuery("#"+n.id))}))},z.prototype._resetChildren=function(e){var t=this;e.find("[data-parentid='"+e.attr("id")+"']").each((function(e,n){t._resetAttributes(pjQuery("#"+n.id))}))},z.prototype._addHiddenElementIndicator=function(){this._getFieldContainerElement().append('<input id="'+this._fieldId+'_hidden" name="'+this._fieldId+'_hidden" type="hidden" value="true" />')},z.prototype._removeHiddenElementIndicator=function(){pjQuery("#"+this._fieldId+"_hidden").remove()},z.prototype._shouldHaveHiddenElementIndicator=function(){return!0},z.prototype._setElementType=function(e,t){if(e.prop("type")!==t)switch(t){case"select-one":e[0].multiple=!1;break;case"select-multiple":e[0].multiple=!0;break;default:this._elementAllowsChangingType(e[0])&&e.prop("type",t)}},z.prototype._elementAllowsChangingType=function(e){var t=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"type");return t&&"function"==typeof t.set},z.prototype._attachOnChangeListener=function(){var e=this;pjQuery("#"+this._fieldId).on("change",(function(){v.onFieldValueChange(e.getFieldId())}))},z.prototype._getFieldElement=function(){return pjQuery("#"+this._fieldId)},z.prototype._getFieldContainerElement=function(){return pjQuery("#fieldSpecContainer"+this._fieldId)},z.prototype._shouldShowField=function(){for(var e in this.visibilityStatus)if(!this.visibilityStatus[e])return!1;return!0},z.prototype._buildVisibilityStatus=function(){var e=this._getFieldContainerElement();this.visibilityStatus=[],this.visibilityStatus[H.DISPLAY_CONDITIONALLY]="1"!==e.attr("data-displayConditionallyHidden"),this.visibilityStatus[H.SECTION_COLLAPSIBLE]="1"!==e.attr("data-sectionCollapsibleHidden"),e.removeAttr("data-displayConditionallyHidden"),e.removeAttr("data-sectionCollapsibleHidden"),this._changeVisibilityIfNeeded()},z.prototype.setVisibilityStatusByType=function(e,t){void 0!==this.visibilityStatus&&(this.visibilityStatus[e]=t,this._changeVisibilityIfNeeded())},z.prototype._changeVisibilityIfNeeded=function(){!this.isVisible()&&this._shouldShowField()?this.show():this.isVisible()&&!this._shouldShowField()&&this.hide()},z.prototype._triggerEvent=function(e){e=e||"change",this._getFieldElement().trigger(e)},z.prototype._toggleAttributesMetadata=function(e){var t=["placeholder","min","max"];this.isVisible()?t.forEach((function(t){void 0!==e.attr("data-"+t)&&(e.attr(t,e.attr("data-"+t)),e.removeAttr("data-"+t))})):t.forEach((function(t){void 0!==e.attr(t)&&(e.attr("data-"+t,e.attr(t)),e.removeAttr(t))}))},z.prototype.onBeforeSubmitAutoPartialSave=function(){return Promise.resolve()},z.prototype.onFormStepVisibilityChange=function(){};const q=z;function J(e){if(c.call(this),!PortalString.isString(e))throw new Error("invalidValue: value must be a valid string");this._value=e}J.TYPE="FieldTextValue",J.prototype=Object.create(c.prototype),J.prototype.getType=function(){return J.TYPE},J.prototype.toString=function(){return this._value},J.prototype.getValue=function(){return this._value};const Z=J;function $(e){c.call(this),this._value=e}$.TYPE="FieldNumberValue",$.prototype=Object.create(c.prototype),$.prototype.getType=function(){return $.TYPE},$.prototype.toString=function(){return this._value.toString()},$.prototype.getValue=function(){return this._value};const K=$;function G(e,t,n){q.call(this,e,t),this._formula=n||this.getSetting("formula"),this._currentValue=null,this._parentsFieldsIdsInFormula=[]}G.TYPE="ArithmeticField",G.prototype=Object.create(q.prototype),G.prototype._postRegister=function(){this._setNewFormula(this._formula),q.prototype._postRegister.call(this)},G.prototype._getAllowedValueTypesToSet=function(){return[Z.TYPE]},G.prototype.getType=function(){return G.TYPE},G.prototype.getValue=function(){return null!==this._currentValue?new K(this._currentValue):new p},G.prototype.getValueForCondition=function(){return this._currentValue},G.prototype.setValue=function(e){this._assertIsAllowedValueToSet(e),this._setNewFormula(e.getValue()),this._reevaluateFormula()},G.prototype._buildClonedFieldForNewTableRow=function(e,t){var n=this._replaceRowIndexInFormula(this._formula,t);return new G(e,this.getFieldSettings(),n)},G.prototype._updateFieldAfterParentFieldValueChange=function(e){this._reevaluateFormula(),q.prototype._updateFieldAfterParentFieldValueChange.call(this,e)},G.prototype._setNewFormula=function(e){this._formula=e,this._getFieldElement().attr("data-formula",e),this._reevaluateFormulaDependentFields()},G.prototype._reevaluateFormula=function(){this._currentValue=this._recalculateFieldValue(),this._getFieldElement().text(this._currentValue),v.onFieldValueChange(this._fieldId)},G.prototype._reevaluateFormulaDependentFields=function(){var e,t=/\{([\d-]+)\}/,n=this._formula;for(this._parentsFieldsIdsInFormula=[];e=t.exec(n);){var i=e[0],r=e[1];this._parentsFieldsIdsInFormula.push(r),f.registerFieldDependency(this._fieldId,r,f.TYPE_VALUES),n=n.replace(i,"")}},G.prototype._replaceRowIndexInFormula=function(e,t){for(var n,i=e,r=/\{([\d-]+)-\d\}/;n=r.exec(e);){var o=n[0],a=n[1],s=new RegExp(a+"-\\d","g"),l=a+"-"+t;i=i.replace(s,l),e=e.replace(o,"")}return i},G.prototype._recalculateFieldValue=function(){var e=this,t=this._formula;return pjQuery.each(this._parentsFieldsIdsInFormula,(function(n,i){var r=e._getNumericFieldValueById(i);t=t.replace("{"+i+"}",r)})),math.evaluate(t)||null},G.prototype._getNumericFieldValueById=function(e){var t=v.getFieldValue(e);if(t.isEmpty())return 0;var n=parseFloat(t.toString());return isNaN(n)?0:n};const X=G;n(9146),n(8860),n(6170);function ee(e){if(c.call(this),!PortalString.isString(e))throw new Error("invalidValue: option ID must be a valid string");this._optionId=e}ee.TYPE="FieldIdValue",ee.prototype=Object.create(c.prototype),ee.prototype.getType=function(){return ee.TYPE},ee.prototype.toString=function(){return this._optionId},ee.prototype.getOptionId=function(){return this._optionId};const te=ee;function ne(e,t){if(c.call(this),"string"!=typeof e)throw new Error("invalidValue: option ID must be a valid string");if("string"!=typeof t)throw new Error("invalidValue: option text must be a valid string");this._optionId=e,this._optionText=t}ne.TYPE="FieldOptionValue",ne.prototype=Object.create(c.prototype),ne.prototype.getType=function(){return ne.TYPE},ne.prototype.toString=function(){return this._optionText},ne.prototype.getOptionId=function(){return this._optionId},ne.prototype.getOptionText=function(){return this._optionText};const ie=ne;function re(e){if(c.call(this),!pjQuery.isArray(e)||e.length<=0)throw new Error("invalidValue: options must be a non-empty array");var t=this;e.forEach((function(e,n){t._assertIsValidOption(e)})),this._options=e}re.buildOption=function(e,t){return{id:e,text:t}},re.TYPE="FieldMultipleOptionsValue",re.prototype=Object.create(c.prototype),re.prototype.getType=function(){return re.TYPE},re.prototype.toString=function(){var e=[];return this._options.forEach((function(t,n){e.push(t.text)})),"["+e.join(",")+"]"},re.prototype.getOptionsIds=function(){var e=[];return this._options.forEach((function(t,n){e.push(t.id)})),e},re.prototype.getOptionsTexts=function(){var e=[];return this._options.forEach((function(t,n){e.push(t.text)})),e},re.prototype._assertIsValidOption=function(e){var t=e.id,n=e.text;if(!PortalString.isString(t))throw new Error("invalidValue: option ID must be a valid string");if(!PortalString.isString(n))throw new Error("invalidValue: option text must be a valid string")};const oe=re;function ae(){}ae.registerDatasource=function(e,t){ae._isDatasourceRegistered(e)||(ae._datasources[e]=t)},ae.getForField=function(e){var t=ae._getDatasource(e);if(null!==t)return t;throw new Error("tryToAccessNonRegisteredDatasource: "+e)},ae.cloneDatasourceForNewTableRow=function(e,t,n){var i=ae.getForField(e).cloneForNewTableRow(t,n);ae.registerDatasource(t,i)},ae._getDatasource=function(e){return ae._isDatasourceRegistered(e)?ae._datasources[e]:null},ae._isDatasourceRegistered=function(e){return e in ae._datasources},ae._datasources={};const se=ae;function le(e,t){q.call(this,e,t),this._datasource=se.getForField(e),pjQuery.each(this._datasource.getParentDependenciesFieldsIds(),(function(t,n){f.registerFieldDependency(e,n,f.TYPE_VALUES)}))}le.prototype=Object.create(q.prototype),le.prototype._postRegister=function(){this._isPrePopulateEnabled()&&this._prePopulateIfOnlyOneOption(),q.prototype._postRegister.call(this)},le.prototype._getOptionsPage=function(){throw new Error("notImplementedError")},le.prototype._getOptionsPageSize=function(){throw new Error("notImplementedError")},le.prototype._createWithNewOptions=function(e){throw new Error("notImplementedError")},le.prototype._isPrePopulateEnabled=function(){throw new Error("notImplementedError")},le.prototype._prePopulateIfOnlyOneOption=function(){throw new Error("notImplementedError")},le.prototype._updateFieldAfterParentFieldValueChange=function(e){if(this._datasource.isParentDependentField(e))this.isVisible()?(this._updateFieldVisibilityAfterParentFieldValueChange(),this._datasource.fetchNewOptions(this._getSelectedOptionsIds(),this._getOptionsPage(),this._getOptionsPageSize(),this._getOnNewOptionsCallback())):(this._datasource.fetchNewOptions(this._getSelectedOptionsIds(),this._getOptionsPage(),this._getOptionsPageSize(),this._getOnNewOptionsCallback()),this._updateFieldVisibilityAfterParentFieldValueChange());else{var t=this._updateFieldVisibilityAfterParentFieldValueChange();this._onFieldUpdated(t)}},le.prototype._getOnNewOptionsCallback=function(){var e=this;return function(t,n){var i=[],r=[],o=function(e,t){e.map((function(e){-1===pjQuery.inArray(e.id,i)&&(r.push({id:e.id,name:e.name,isSelected:t}),i.push(e.id))}))};o(n,!0),o(t,!1);var a=1===r.length;(e.isRequired()||e._isPrePopulateEnabled())&&a&&(r[0].isSelected=!0);var s=e._getSelectedOptionsIds();e._createWithNewOptions(r);var l=e._getSelectedOptionsIds(),u=JSON.stringify(s)!==JSON.stringify(l);e._onFieldUpdated(u)}},le.prototype._getOnPrePopulateOptionsCallback=function(){var e=this;return function(t){1===t.length&&e.setValue(new te(t[0].id.toString()))}},le.prototype._cloneDatasourceForNewTableRow=function(e,t){se.cloneDatasourceForNewTableRow(this._fieldId,e,t)},le.prototype._getSelectedOptionsIds=function(){var e=this.getValue();if(e.isEmpty())return[];switch(e.getType()){case ie.TYPE:return[PortalString.toInt(e.getOptionId())];case oe.TYPE:return e.getOptionsIds().map((function(e){return PortalString.toInt(e)}))}return[]},le.prototype._buildOptionHtmlId=function(e){return this._fieldId+"_"+e};const ue=le;var ce=n(2e3);function de(e,t){ue.call(this,e,t),this._dropdownCssClass=this.getSetting("dropdownCssClass"),this._placeholderText=this.getSetting("placeholderText"),this._minimumInputLength=this.getSetting("minimumInputLength")||0,this._ajaxDelayMs=this.getSetting("ajaxDelayMs"),this._visibleOptionsLimit=this.getSetting("visibleOptionsLimit")||100,this._optionIdsToSearchLimit=this.getSetting("optionIdsToSearchLimit"),this._dictionary=this.getSetting("dictionary"),this._label=this.getSetting("label")||"",this._isRequired=this.getSetting("isRequired")||!1,this._isAccessible=this.getSetting("isAccessible")}de.TYPE="AutocompleteSelectField",de.prototype=Object.create(ue.prototype),de.prototype._postRegister=function(){this._attachLazyPicker(),ue.prototype._postRegister.call(this)},de.prototype._getAllowedValueTypesToSet=function(){return[te.TYPE,Z.TYPE]},de.prototype.getType=function(){return de.TYPE},de.prototype.getValue=function(){var e=this._getFieldElement().select2("data");if(!e||0===e.length)return new p;var t=e[0].id,n=e[0].text;return null===t||""===t?new p:new ie(t,n)},de.prototype.getValueForCondition=function(){var e=this._getFieldElement().val();return null!==e&&""!==e||(e=null),e},de.prototype.setValue=function(e){switch(this._assertIsAllowedValueToSet(e),e.getType()){case te.TYPE:this._datasource.fetchOptionsById([e.getOptionId()],this._buildOnFieldOptionsRetrieveCallback());break;case Z.TYPE:this._datasource.fetchOptionsByValue([e.getValue()],this._buildOnFieldOptionsRetrieveCallback());break;default:throw new Error("modeNotSupported")}},de.prototype._buildOnFieldOptionsRetrieveCallback=function(){var e=this;return function(t){t=e._markOptionsFoundAsSelected(t),e._createWithNewOptions(t),v.onFieldValueChange(e.getFieldId())}},de.prototype._markOptionsFoundAsSelected=function(e){return e&&Array.isArray(e)?(pjQuery.each(e,(function(t){e[t].isSelected=!0})),e):e},de.prototype._getOptionsPage=function(){return 1},de.prototype._getOptionsPageSize=function(){return 2},de.prototype._createWithNewOptions=function(e){var t=this;this._removeAllOptions();var n=[];pjQuery.each(e,(function(e,i){var r=pjQuery("<option></option>").attr("id",t._buildOptionHtmlId(i.id)).attr("value",i.id).attr("data-option-name",i.name).text(i.name);i.isSelected&&r.attr("selected","selected"),n.push(r.prop("outerHTML"))})),this._getFieldElement().append(n.join("")),this._getFieldElement().trigger("change.select2")},de.prototype._removeAllOptions=function(){this._getFieldElement().find("option:gt(0)").remove()},de.prototype._attachLazyPicker=function(){var e=this._getFieldElement();e.select2(this._getLazyPickerProperties());var t=this._getEventCallbacksForLazyPicker();if(t.length)for(var n in t)t.hasOwnProperty(n)&&e.on(t[n].eventName,t[n].eventCallback);var i=this;pjQuery((function(){setTimeout((function(){e.trigger("select2-"+i.getFieldId()+"-ready")}),10)}))},de.prototype._getLazyPickerProperties=function(){var e=new ce.Z,t={placeholder:this._placeholderText,allowClear:!0,width:"100%",minimumInputLength:this._minimumInputLength,multiple:this._isMultiple(),containerCssClass:"select2Container"+this._fieldId,dropdownCssClass:this._dropdownCssClass,escapeMarkup:function(e){return e},dictionary:this._dictionary,label:this._label,fieldId:this._fieldId,isRequired:this._isRequired,isAccessible:this._isAccessible,closeOnSelect:!this._isMultiple(),dropdownParent:e.get("avature.portal.mobile")?document.getElementById("ui-widget_"+this._fieldId):null};if(this._datasource.isLocalDatasource())t.data=this._adaptDatasourceOptionsToSelect2LocalDataFormat(this._datasource.getOptions());else{var n=this,i=this._getCache();t.ajax={url:this._datasource.getOptionsSearchApiUrl(),type:"POST",delay:this._ajaxDelayMs,quietMillis:this._ajaxDelayMs,dataType:"json",data:this._getDataPayload.bind(this),transport:function(e,t,r){var o=n._generateCacheKey(e.data);return i.get(o).done(t).fail((function(){return pjQuery.ajax(e).done(t).done((function(e){i.set(o,e)})).fail(r)}))},processResults:function(e,t){return n._datasource.processLazyPickerAjaxResponseData(e)}}}return t},de.prototype._getEventCallbacksForLazyPicker=function(){return[this._buildEventCallback(de.ITEM_SELECTION_EVENT_NAME,(function(){pjQuery(this).focus()}))]},de.prototype._buildEventCallback=function(e,t){return{eventName:e,eventCallback:t}},de.prototype._adaptDatasourceOptionsToSelect2LocalDataFormat=function(e){return pjQuery.each(e,(function(t){e[t].hasOwnProperty("name")&&(e[t].text=e[t].name)})),e},de.prototype._isMultiple=function(){return!1},de.prototype._buildClonedFieldForNewTableRow=function(e,t){return this._cloneDatasourceForNewTableRow(e,t),new de(e,this.getFieldSettings())},de.prototype._getDataPayload=function(e){var t=this._visibleOptionsLimit,n=e.searchIds;return n&&(n=n.split(","),t=this._optionIdsToSearchLimit),this._datasource.buildRequestDataFromParams(e.page||1,t,e.term,!1,n,null)},de.prototype._getCache=function(){return a.getInstance()},de.prototype._generateCacheKey=function(e){return r()(this._datasource.getOptionsSearchApiUrl()+JSON.stringify(e))},de.ITEM_SELECTION_EVENT_NAME="select2:select",de.prototype._isPrePopulateEnabled=function(){return"1"===pjQuery("#"+this.getFieldId()).parent().attr("data-prePopulate")},de.prototype._prePopulateIfOnlyOneOption=function(){this._datasource.fetchNewOptions(this._getSelectedOptionsIds(),this._getOptionsPage(),this._getOptionsPageSize(),this._getOnPrePopulateOptionsCallback())};const pe=de;function he(e){if(c.call(this),!pjQuery.isArray(e)||e.length<=0)throw new Error("invalidValue: options IDs must be a non-empty array");e.forEach((function(e,t){if(!PortalString.isString(e))throw new Error("invalidValue: option ID must be a valid string")})),this._optionsIds=e}he.TYPE="FieldMultipleIdsValue",he.prototype=Object.create(c.prototype),he.prototype.getType=function(){return he.TYPE},he.prototype.toString=function(){return"["+this._optionsIds.join(",")+"]"},he.prototype.getOptionsIds=function(){return this._optionsIds};const fe=he;function ye(e){if(c.call(this),!pjQuery.isArray(e)||e.length<=0)throw new Error("invalidValue: values must be a non-empty array");e.forEach((function(e,t){if(!PortalString.isString(e))throw new Error("invalidValue: inner values should be strings")})),this._values=e}ye.TYPE="FieldMultipleTextsValue",ye.prototype=Object.create(c.prototype),ye.prototype.getType=function(){return ye.TYPE},ye.prototype.toString=function(){return"["+this._values.join(",")+"]"},ye.prototype.getOptionsTexts=function(){return this._values};const ge=ye;function _e(e,t){pe.call(this,e,t)}_e.TYPE="AutocompleteMultipleSelectField",_e.prototype=Object.create(pe.prototype),_e.prototype._getAllowedValueTypesToSet=function(){return[fe.TYPE,ge.TYPE]},_e.prototype.getType=function(){return _e.TYPE},_e.prototype.setValue=function(e){switch(this._assertIsAllowedValueToSet(e),e.getType()){case fe.TYPE:this._datasource.fetchOptionsById(e.getOptionsIds(),this._buildOnFieldOptionsRetrieveCallback());break;case ge.TYPE:this._datasource.fetchOptionsByValue(e.getOptionsTexts(),this._buildOnFieldOptionsRetrieveCallback());break;default:throw new Error("modeNotSupported")}},_e.prototype.getValue=function(){var e=this._getFieldElement().select2("data");if(null===e||0===e.length)return new p;var t=[];return e.forEach((function(e,n){var i=e.id,r=e.text;null!==i&&""!==i&&t.push(oe.buildOption(i,r))})),new oe(t)},_e.prototype._removeAllOptions=function(){this._getFieldElement().empty()},_e.prototype._isMultiple=function(){return!0},_e.prototype._buildClonedFieldForNewTableRow=function(e,t){return this._cloneDatasourceForNewTableRow(e,t),new _e(e,this.getFieldSettings())};const me=_e;n(8225),n(1313);function ve(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var be=null,Fe=!1;const we=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!Fe)throw new Error("Constructor is private. Use getInstance() instead");this._actions=[]}var t,n,i;return t=e,i=[{key:"getInstance",value:function(){return be||(Fe=!0,be=new e,Fe=!1),be}}],(n=[{key:"addAction",value:function(e){this._actions.push(e)}},{key:"resolve",value:function(){this._actions.forEach((function(e){return e()}))}}])&&ve(t.prototype,n),i&&ve(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function Se(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ee(){return Ee="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=Te(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Ee.apply(this,arguments)}function Te(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=De(e)););return e}function Pe(e,t){return Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Pe(e,t)}function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=De(e);if(t){var r=De(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Ce(this,n)}}function Ce(e,t){if(t&&("object"===Ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function De(e){return De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},De(e)}var ke,je,Ae,xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pe(e,t)}(o,e);var t,n,i,r=Oe(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,e,t))._disableButtonConditions=new Map,n._disableButtonConditionsEvaluator=new O,n._buttonsData=n.getSetting("buttonsData"),n._addEventToFormPrevious(),n._addEventToFormNext(),n._configureButtons(),n}return t=o,(n=[{key:"getType",value:function(){return o.TYPE}},{key:"getValue",value:function(){return new p}},{key:"getValueForCondition",value:function(){return null}},{key:"_postRegister",value:function(){this._buildVisibilityStatus(),this._emptyAutoCompleteFieldsWithClearButton()}},{key:"_updateFieldAfterParentFieldValueChange",value:function(){var e=this;Ee(De(o.prototype),"_updateFieldAfterParentFieldValueChange",this).call(this),this._buttonsData.forEach((function(t){return e._evaluateButtonConditions(t.buttonId)}))}},{key:"_addEventToFormPrevious",value:function(){var e=this;pjQuery("#"+this.getFieldId()+"-formPrevious").click((function(){return e._getFormField().goToPreviousField()}))}},{key:"_addEventToFormNext",value:function(){var e=this;pjQuery("#"+this.getFieldId()+"-formNext").click((function(){return e._getFormField().goToNextField()}))}},{key:"_getFormField",value:function(){var e=pjQuery(".shownFieldByField").attr("id");return Fields.getField(e)}},{key:"_configureButtons",value:function(){if(this._buttonsData)for(var e=0;e<this._buttonsData.length;e++){var t=this._buttonsData[e];this._addWorkflowStepIdsIfNeeded(t),this._removeRequiredIfHidden(t),this._addAutomaticActionIfNeeded(t),this._prepareDisableButtonConditions(t)}}},{key:"_addWorkflowStepIdsIfNeeded",value:function(e){if(e.workflowStepUpdateIds)for(var t=document.getElementsByClassName(e.buttonType),n=0;n<t.length;n++){var i=t[n];parseInt(i.dataset.buttonid,10)===e.buttonId&&i.addEventListener("click",(function(t){var n=document.getElementsByName("workflowStatusId");if(n.length<1)for(var i=document.getElementsByTagName("form"),r=0;r<i.length;r++){var o=i[r],a=document.createElement("input");a.type="hidden",a.id="workflowStatusId",a.name="workflowStatusId",a.value=e.workflowStepUpdateIds,o.append(a)}else n[0].value=e.workflowStepUpdateIds}))}}},{key:"_removeRequiredIfHidden",value:function(e){for(var t=document.getElementsByClassName(e.buttonType),n=0;n<t.length;n++){var i=t[n];parseInt(i.dataset.buttonid,10)===e.buttonId&&i.addEventListener("click",(function(e){for(var t=document.querySelector("body").querySelectorAll('[type="hidden"]:not(script)[required]'),n=0;n<t.length;n++)t[n].removeAttribute("required")}))}}},{key:"_addAutomaticActionIfNeeded",value:function(e){if(e.isAutomaticAction){var t=document.querySelectorAll("."+e.buttonType+'[data-buttonid="'+e.buttonId+'"]');t&&t.length&&t[0].click()}}},{key:"_emptyAutoCompleteFieldsWithClearButton",value:function(){var e=document.getElementById(this.getFieldId()).closest("form"),t=e.getElementsByClassName("clearButton")[0],n=e.querySelectorAll("select.AutoCompleteField");t&&n.length&&t.addEventListener("click",(function(e){n.forEach((function(e){e.value=null,e.dispatchEvent(new Event("change"))}))}))}},{key:"_prepareDisableButtonConditions",value:function(e){var t=this;we.getInstance().addAction((function(){t._registerDisableButtonConditions(e),t._evaluateButtonConditions(e.buttonId)}))}},{key:"_registerDisableButtonConditions",value:function(e){var t=this,n=[];e.disableButtonConditions.forEach((function(e){var i=new _(e.richFieldId,e.operator,e.value);f.registerFieldDependency(t._fieldId,i.getParentDependencyFieldId(),f.TYPE_VALUES),n.push(i)})),this._disableButtonConditions.set(e.buttonId,n)}},{key:"_evaluateButtonConditions",value:function(e){var t=this._disableButtonConditions.get(e),n=t.length>0&&this._disableButtonConditionsEvaluator.areFieldConditionsSatisfied(t),i=document.querySelector('[data-buttonid="'+e+'"]');i&&(i.disabled=n)}}])&&Se(t.prototype,n),i&&Se(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(q);Ae="ButtonBarField",(je="TYPE")in(ke=xe)?Object.defineProperty(ke,je,{value:Ae,enumerable:!0,configurable:!0,writable:!0}):ke[je]=Ae;const Re=xe;function Ve(e){if(c.call(this),"boolean"!=typeof e)throw new Error("invalidValue: value must be a valid boolean");this._isSelected=e}Ve.TYPE="FieldBooleanValue",Ve.prototype=Object.create(c.prototype),Ve.prototype.getType=function(){return Ve.TYPE},Ve.prototype.toString=function(){return this._isSelected.toString()},Ve.prototype.isSelected=function(){return this._isSelected};const Ne=Ve;function Le(e,t){q.call(this,e,t)}Le.TYPE="CheckboxField",Le.prototype=Object.create(q.prototype),Le.prototype.getType=function(){return Le.TYPE},Le.prototype._getAllowedValueTypesToSet=function(){return[Ne.TYPE]},Le.prototype.getValue=function(){var e=this._getFieldElement().prop("checked");return new Ne(!!e)},Le.prototype.getValueForCondition=function(){return this._getFieldElement().prop("checked")?this._getFieldElement().val():null},Le.prototype.setValue=function(e){this._assertIsAllowedValueToSet(e),this._getFieldElement().prop("checked",e.isSelected()),this._triggerEvent("change")},Le.prototype._buildClonedFieldForNewTableRow=function(e,t){return new Le(e,this.getFieldSettings())};const Me=Le;n(8586);function Be(e,t){ue.call(this,e,t)}Be.TYPE="CheckboxListField",Be.prototype=Object.create(ue.prototype),Be.prototype._postRegister=function(){ue.prototype._postRegister.call(this),this._addClickToShowMoreLinkIfNeeded()},Be.prototype._addClickToShowMoreLinkIfNeeded=function(){var e=document.getElementById("showHiddenElements_"+this._fieldId);e&&(e.onclick=function(e){return this.nextSibling.style.display="inline",this.style.display="none",!1})},Be.prototype._getAllowedValueTypesToSet=function(){return[fe.TYPE,ge.TYPE]},Be.prototype.getType=function(){return Be.TYPE},Be.prototype.getValue=function(){var e=this._getSelectedElements();if(0===e.length)return new p;var t=[];return e.each((function(){t.push(oe.buildOption(pjQuery(this).val(),pjQuery(this).data("option-name").toString()))})),new oe(t)},Be.prototype.getValueForCondition=function(){var e=[];return this._getSelectedElements().each((function(){e.push(pjQuery(this).val())})),e},Be.prototype.setValue=function(e){this._assertIsAllowedValueToSet(e);var t=pjQuery('input[type="checkbox"]',this._getFieldElement()),n=this;switch(e.getType()){case fe.TYPE:this._datasource.fetchOptionsById(e.getOptionsIds(),(function(e){t.filter((function(){return e.find((function(e){return e.id==pjQuery(this).val()}),this)})).prop("checked",!0),n._triggerEvent("change")}));break;case ge.TYPE:this._datasource.fetchOptionsByValue(e.getOptionsTexts(),(function(e){t.filter((function(){return e.find((function(e){return e.name==pjQuery(this).data("option-name")}),this)})).prop("checked",!0),n._triggerEvent("change")}));break;default:throw new Error("modeNotSupported")}},Be.prototype._getSelectedElements=function(){return this._getFieldElement().find("input:checked")},Be.prototype._getOptionsPage=function(){return null},Be.prototype._getOptionsPageSize=function(){return null},Be.prototype._createWithNewOptions=function(e){var t=this;this._removeAllOptions();var n=this._getFieldElement(),i=n.find(".CheckBoxListFormField_more"),r=n.find(".CheckBoxListFormField_hiddenOptions"),o=i.data("numOptionsToShow");e.forEach((function(e,i){var a=t._buildOptionHtmlId(e.id),s=pjQuery("<input />").attr("id",a).attr("type","checkbox").attr("name",t._fieldId+"[]").attr("value",e.id).attr("data-option-name",e.name);e.isSelected&&s.attr("checked","checked");var l=pjQuery("<label>").attr("for",a).append(s,e.name,pjQuery('<div class="cb" />'));!o||i<o?n.append(l):r.append(l)})),o&&e.length>o&&(i.css("display",""),r.css("display","none"))},Be.prototype._removeAllOptions=function(){this._getFieldElement().find("label, div.cb, div.cb-a11y").remove()},Be.prototype._buildClonedFieldForNewTableRow=function(e,t){return this._cloneDatasourceForNewTableRow(e,t),pjQuery("#"+e).find(".CheckBoxListFormField_more").attr("id","showHiddenElements_"+e),new Be(e,this.getFieldSettings())},Be.prototype._isPrePopulateEnabled=function(){return!1},Be.prototype._prePopulateIfOnlyOneOption=function(){};const Qe=Be;function Ue(e,t){q.call(this,e,t),this._registerFieldDependenciesForDependentFields(e,this._getDepedentFieldsMetadata())}Ue.prototype=Object.create(q.prototype),Ue.prototype._getDepedentFieldsMetadata=function(){throw new Error("notImplementedError")},Ue.prototype._registerFieldDependenciesForDependentFields=function(e,t){if(!t||!Array.isArray(t))throw new Error("invalidArgumentException: not an array");for(var n in t)t.hasOwnProperty(n)&&f.registerFieldDependency(e,t[n].id,f.TYPE_VALUES)},Ue.prototype.onRelatedFieldValueChange=function(e){q.prototype.onRelatedFieldValueChange.call(this,e),v.onFieldValueChange(this._fieldId)},Ue.prototype.cloneForNewTableRow=function(e,t){this._cloneDependentFieldsForNewTableRow(e,t),this._cloneCurrentFieldForNewTableRow(e,t)},Ue.prototype._cloneCurrentFieldForNewTableRow=function(e,t){q.prototype.cloneForNewTableRow.call(this,e,t)},Ue.prototype._cloneDependentFieldsForNewTableRow=function(e,t){var n=this._getDepedentFieldsMetadata();for(var i in n)if(n.hasOwnProperty(i)){var r=v.getField(n[i].id),o=e+n[i].suffix;r.cloneForNewTableRow(o,t)}},Ue.prototype._createFieldMetadata=function(e,t){return{id:e,suffix:t}};const Ye=Ue;function We(e){this._assertIsValidPortalDateObject(e),c.call(this),this._date=e}We.TYPE="FieldDateValue",We.prototype=Object.create(c.prototype),We.prototype.getType=function(){return We.TYPE},We.prototype.toString=function(){return this._date.format()},We.prototype.getFormattedDateString=function(e){return this._date.format(e)},We.prototype.getPortalDate=function(){return this._date},We.prototype._assertIsValidPortalDateObject=function(e){if(!(e&&e instanceof PortalDate))throw new Error("invalidArgumentException: expected an instance of PortalDate")};const He=We;function ze(e,t){Ye.call(this,e,t)}ze.prototype=Object.create(Ye.prototype),ze.prototype._postRegister=function(){v.onFieldValueChange(this._fieldId),Ye.prototype._postRegister.call(this)},ze.prototype._getAllowedValueTypesToSet=function(){return[He.TYPE]},ze.prototype._createYearInput=function(e,t,n,i,r){var o=this,a=this._createSelectElement(e,"year",n,n),s=se.getForField(this._fieldId+"_year");return this._populateSelectElementFromDatasource(a,s,t),a.fnt=function(){var t=document.getElementById(e+"_month");t=t?t.value:void 0,o._updateDayInputIfNeeded(e,t,i,r)},a.addEventListener?a.addEventListener("change",a.fnt,!1):a.attachEvent("onchange",a.fnt),a},ze.prototype._createMonthInput=function(e,t,n,i,r,o,a){var s=this,l=this._createSelectElement(e,"month",i),u=se.getForField(this._fieldId+"_month");return this._populateSelectElementFromDatasource(l,u,t),l.fnt=function(){s._updateDayInputIfNeeded(e,l.value,r,o)},l.addEventListener?l.addEventListener("change",l.fnt,!1):l.attachEvent("onchange",l.fnt),l},ze.prototype._createDayInput=function(e,t,n,i,r,o,a,s){var l=this._createSelectElement(e,"day",r),u=se.getForField(this._fieldId+"_day");return this._populateSelectElementFromDatasource(l,u,t),l},ze.prototype._updateDayInputIfNeeded=function(e,t,n,i){if(document.getElementById(e+"_day")){var r=document.getElementById(e+"_year");r=r?r.value:void 0;var o=this._clearSelectElementById(e+"_day"),a=se.getForField(this._fieldId+"_day").getOptions(),s=parseInt(a[1].id,10),l="0"!==t?this._getMaxDaysForInput(a,t,r):0;n&&r===n.getFullYear()&&t===(n.getMonth()+1).toString()&&(s=n.getDate()),i&&r===i.getFullYear()&&t.toString()===(i.getMonth()+1).toString()&&(l=i.getDate()),this._populateSelectElement(o,s,l,void 0,0,"--")}},ze.prototype._hideInput=function(e){var t;if(e){t=document.createElement("input"),e.getAttributeNames().filter((function(e){return-1===["data-hiddentype","data-required"].indexOf(e)})).forEach((function(n){t.setAttribute(n,e.getAttribute(n))})),t.type="hidden";var n=e.parentNode;n.removeChild(e),n.appendChild(t)}return t},ze.prototype._populateSelectElement=function(e,t,n,i,r,o){if(e){e.appendChild(this._createOptionElement(0,r,(function(e){return o})));for(var a=t;a<=n;++a)e.appendChild(this._createOptionElement(a,r,i))}},ze.prototype._populateSelectElementFromDatasource=function(e,t,n){if(e)for(var i=t.getOptions(),r=0;r<i.length;++r){var o=i[r];e.appendChild(this._createOptionElement(parseInt(o.id,10),n,(function(e){return o.name})))}},ze.prototype._createSelectElement=function(e,t,n){var i=document.createElement("select");return i.setAttribute("id",e+"_"+t),i.setAttribute("name",e+"_"+t),i.setAttribute("class",t+"Input"),i.setAttribute("tabindex",n),this.isRequired()&&i.setAttribute("aria-required","true"),i},ze.prototype._createOptionElement=function(e,t,n){var i=document.createElement("option");return i.setAttribute("value",0===e?"":e),i.innerHTML=n?n(e):e,e===t&&i.setAttribute("selected","selected"),i},ze.prototype._getMaxDaysForInput=function(e,t,n){return e.length<31?parseInt(e[e.length-1].id,10):this._getDaysForMonthAndYear(t,n)},ze.prototype._getDaysForMonthAndYear=function(e,t){var n=!1;e=e?PortalString.toInt(e):1,t=t?PortalString.toInt(t):1;return e>7&&(e-=7,n=!0),2!==e||n?1===e||(e-2)%2==1?31:30:t%4==0?29:28},ze.prototype._clearSelectElementById=function(e){var t=document.getElementById(e);if(t)for(;t.hasChildNodes();)t.removeChild(t.firstChild);return t},ze.prototype._normalize=function(e){return PortalString.zeroPad(e,2)},ze.prototype._cloneDatasourceForNewTableRow=function(e,t,n){se.cloneDatasourceForNewTableRow(this._fieldId+"_"+e,t+"_"+e,n)},ze.prototype._inputSupported=function(e){var t=document.createElement("input");return t.setAttribute("type",e),t.type===e},ze.prototype._isSafariBrowser=function(e){var t="undefined"!=typeof window&&window.navigator.userAgent;if(t){var n=/Version\/([0-9]+\.[0-9]+).*Mobile.*Safari/i.test(t)||/Version\/([0-9]+\.[0-9]+).*Safari/i.test(t)||/Safari\/([0-9]+\.[0-9]+)/i.test(t),i=/Chrome\/([0-9]+\.[0-9]+)/i.test(t)||/Chromium\/([0-9]+\.[0-9]+)/i.test(t);return n&&!i}return!1};const qe=ze;function Je(e,t,n){if(!PortalNumber.isNumber(n))throw new Error("invalidValue: day must be a valid integer");if(!PortalNumber.isNumber(t))throw new Error("invalidValue: month must be a valid integer");if(!PortalNumber.isNumber(e))throw new Error("invalidValue: year must be a valid integer");var i=PortalDate.fromParams(e,t,n);this._assertIsValidPortalDateObject(i),He.call(this,i),this._day=n,this._month=t,this._year=e}Je.TYPE="FieldFullDateValue",Je.prototype=Object.create(He.prototype),Je.prototype.getType=function(){return Je.TYPE},Je.prototype.toString=function(){return this.getFormattedDateString("yyyy-MM-dd")},Je.prototype.getDay=function(){return this._day},Je.prototype.getMonth=function(){return this._month},Je.prototype.getYear=function(){return this._year};const Ze=Je;function $e(e,t,n){qe.call(this,e,t),this._datePickerElementId=n||this.getSetting("datePickerElementId"),this._locale=this.getSetting("locale"),this._dateFormat=this.getSetting("dateFormat"),this._nextMonthText=this.getSetting("nextMonthText"),this._previousMonthText=this.getSetting("previousMonthText"),this._yearRange=this.getSetting("yearRange"),this._minDate=this.getSetting("minDate"),this._maxDate=this.getSetting("maxDate"),this._altField=this.getSetting("altField"),this._defaultDate=this.getSetting("defaultDate"),this._firstDay=this.getSetting("firstDay"),this._includeBaseCss=pjQuery("#"+e).data("include-base-css")||!1,this._displayInline=pjQuery("#"+e).data("display-inline")||!1}$e.TYPE="CustomFormatDateField",$e.prototype=Object.create(qe.prototype),$e.prototype.getType=function(){return $e.TYPE},$e.prototype._postRegister=function(){var e={dateFormat:this._dateFormat,nextText:this._nextMonthText,prevText:this._previousMonthText,changeMonth:!0,changeYear:!0,yearRange:this._yearRange,firstDay:this._firstDay};void 0!==this._minDate&&null!==this._minDate&&(e.minDate=this._minDate),void 0!==this._maxDate&&null!==this._maxDate&&(e.maxDate=this._maxDate),void 0!==this._altField&&null!==this._altField&&(e.altField=this._altField),void 0!==this._defaultDate&&null!==this._defaultDate&&(e.defaultDate=this._defaultDate),this._setDatePickerLocale(this._locale),this._includeBaseCssIfNecessary(e),pjQuery("#"+this._datePickerElementId).datepicker(e),q.prototype._postRegister.call(this)},$e.prototype._includeBaseCssIfNecessary=function(e){this._includeBaseCss&&(this._displayInline?pjQuery("#"+this._datePickerElementId).addClass("ui-base-css"):e.beforeShow=function(e,t){pjQuery(t.dpDiv).parent().hasClass("ui-base-css")||pjQuery(t.dpDiv).wrap("<div class='ui-base-css'></div>")})},$e.prototype.getValue=function(){var e=pjQuery.datepicker.parseDate(this._dateFormat,this._getFieldElement().val());return e?new Ze(e.getFullYear(),e.getMonth()+1,e.getDate()):new p},$e.prototype.getValueForCondition=function(){var e=pjQuery.datepicker.parseDate(this._dateFormat,this._getFieldElement().val());return e?e.getFullYear()+"-"+PortalString.zeroPad(e.getMonth()+1,2)+"-"+PortalString.zeroPad(e.getDate(),2):""},$e.prototype.setValue=function(e){this._assertIsAllowedValueToSet(e),this._getFieldElement().datepicker("setDate",e.getPortalDate().toDate()),this._triggerEvent("change")},$e.prototype._buildClonedFieldForNewTableRow=function(e,t){var n=this._datePickerElementId.replace(/^((\d+-)+)\d+(_datepicker)*$/,"$1"+t+"$3");return new $e(e,this.getFieldSettings(),n)},$e.prototype._attachOnChangeListener=function(){var e=this.getFieldId();this._getFieldElement().datepicker("option","onSelect",(function(t){v.onFieldValueChange(e)}))},$e.prototype._getDepedentFieldsMetadata=function(){return[]},$e.prototype._setDatePickerLocale=function(e){if(!pjQuery.datepicker.regional[e]){var t=PortalDate.getPortalDateInfo();pjQuery.datepicker.regional[e]={monthNames:t.getMonthsFullName(e),monthNamesShort:t.getMonthsShortName(e),dayNames:t.getDaysFullName(e,!0),dayNamesShort:t.getDaysShortName(e,!0),dayNamesMin:t.getDaysMinName(e,!0)}}pjQuery.datepicker.setDefaults(pjQuery.datepicker.regional[e])};const Ke=$e;function Ge(e,t){qe.call(this,e,t),this._fixedYear=this.getSetting("fixedYear"),this._tabIndex=this.getSetting("tabIndex"),this._dayPlaceholder=this.getSetting("dayPlaceholder"),this._monthPlaceholder=this.getSetting("monthPlaceholder"),this._dayLabel=this.getSetting("dayLabel"),this._monthLabel=this.getSetting("monthLabel"),f.registerFieldDependency(e,this._getMonthId(),f.TYPE_VALUES),f.registerFieldDependency(e,this._getDayId(),f.TYPE_VALUES)}Ge.TYPE="DayAndMonthDateField",Ge.prototype=Object.create(qe.prototype),Ge.prototype._postRegister=function(){this._createWidget(),qe.prototype._postRegister.call(this)},Ge.prototype.cloneForNewTableRow=function(e,t){this._cloneCurrentFieldForNewTableRow(e,t),this._cloneDependentFieldsForNewTableRow(e,t)},Ge.prototype.getType=function(){return Ge.TYPE},Ge.prototype.getValue=function(){var e=this._getFieldElement().val();if(!e)return new p;var t=e.split("-"),n=PortalString.toInt(t[1]),i=PortalString.toInt(t[0]);return new FieldDayAndMonthValue(i,n)},Ge.prototype.getValueForCondition=function(){var e=this._getFieldElement().val();return e?this._fixedYear+"-"+e:""},Ge.prototype.setValue=function(e){this._assertIsAllowedValueToSet(e),this._getFieldElement().val(e.getFormattedDateString("MM-dd")),this._setElementComponentsValues(e.getPortalDate().toDate()),this._triggerEvent("change")},Ge.prototype._buildClonedFieldForNewTableRow=function(e,t){return this._cloneDatasourceForNewTableRow("day",e,t),this._cloneDatasourceForNewTableRow("month",e,t),new Ge(e,this.getFieldSettings())},Ge.prototype._setElementComponentsValues=function(e){v.setFieldValue(this._getMonthId(),new FieldIdValue((e.getMonth()+1).toString())),v.setFieldValue(this._getDayId(),new FieldIdValue(e.getDate().toString()))},Ge.prototype._getDepedentFieldsMetadata=function(){return[this._createFieldMetadata(this._getMonthId(),this._getMonthSuffix()),this._createFieldMetadata(this._getDayId(),this._getDaySuffix())]},Ge.prototype._getMonthId=function(){return this.getFieldId()+this._getMonthSuffix()},Ge.prototype._getDayId=function(){return this.getFieldId()+this._getDaySuffix()},Ge.prototype._getMonthSuffix=function(){return"_month"},Ge.prototype._getDaySuffix=function(){return"_day"},Ge.prototype._createWidget=function(){var e=this._hideInput(document.getElementById(this._fieldId));this._initDefaultValues(e.value),e.parentNode.appendChild(this._createMonthAndDayInputs())},Ge.prototype._elementAllowsChangingType=function(e){return!1},Ge.prototype._initDefaultValues=function(e){if(this._month=this._day=0,e){var t=e.split("-");this._month=PortalString.toInt(t[0]),this._day=PortalString.toInt(t[1])}},Ge.prototype._createMonthAndDayInputs=function(){var e=this;return this._monthInput=this._createMonthInput(this._fieldId,this._month,this._fixedYear,this._tabIndex,null,null,this._monthPlaceholder),this._monthInput.onchange=function(){e._month=this.value,e._resetDayInput(e._tabIndex),e._updateHiddenInputValue()},this._dayInput=this._createDayInput(this._fieldId,this._day,this._month,this._fixedYear,this._tabIndex,null,null,this._dayPlaceholder),this._dayInput.onchange=function(){e._day=this.value,e._updateHiddenInputValue()},this._dayLabel||this._monthLabel?this._createWidgetWithLabelsFromInputs(this._dayInput,this._monthInput):this._createWidgetWithoutLabelsFromInputs(this._dayInput,this._monthInput)},Ge.prototype._resetDayInput=function(){this._day=0;var e=this._dayInput.parentNode;e.removeChild(this._dayInput),this._dayInput=this._createDayInput(this._fieldId,this._day,this._month,this._fixedYear,this._tabIndex),e.appendChild(this._dayInput);var t=this;this._dayInput.onchange=function(){t._day=this.value,t._updateHiddenInputValue()}},Ge.prototype._updateHiddenInputValue=function(){document.getElementById(this._fieldId).value=this._normalize(this._month)+"-"+this._normalize(this._day),v.onFieldValueChange(this._fieldId)},Ge.prototype._createWidgetWithoutLabelsFromInputs=function(e,t){var n=document.createElement("div");return n.appendChild(t),n.appendChild(e),n},Ge.prototype._createWidgetWithLabelsFromInputs=function(e,t){var n=document.createElement("div"),i=document.createElement("div");i.className="DayAndMont_MonthWrapper",i.appendChild(this._createLabelFor(t.id,this._monthLabel)),i.appendChild(t);var r=document.createElement("div");return r.className="DayAndMont_DayWrapper",r.appendChild(this._createLabelFor(e.id,this._dayLabel)),r.appendChild(e),n.appendChild(i),n.appendChild(r),n},Ge.prototype._createLabelFor=function(e,t){var n=document.createElement("label");return n.setAttribute("for",e),n.textContent=t,n};const Xe=Ge;n(5321);function et(e){if(c.call(this),!e||0===e.length)throw new Error("invalidValue: value must be a valid input files object");this._value=e}et.TYPE="FieldFileValue",et.prototype=Object.create(c.prototype),et.prototype.getType=function(){return et.TYPE},et.prototype.toString=function(){return this._value[0].name},et.prototype.getValue=function(){return this._value[0]};const tt=et;function nt(e,t){c.call(this),this._fieldNumber=e,this._uploadedFileName=t}nt.TYPE="FieldFileUploadedValue",nt.prototype=Object.create(c.prototype),nt.prototype.getType=function(){return nt.TYPE},nt.prototype.toString=function(){return this._uploadedFileName},nt.prototype.getValue=function(){return this._fieldNumber};const it=nt;n(7688),n(9067);function rt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ot=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._fieldId=t}var t,n,i;return t=e,(n=[{key:"cleanAll",value:function(){this.emptyFileInput(),this.removeUploadedFileInfo(),this.removeHiddenFileNameForScreenReader(),this.cleanExternalFileInfo()}},{key:"cleanExternalFileInfo",value:function(){this._cleanGoogleDriveFileInfo(),this._cleanDropboxFileInfo()}},{key:"_cleanGoogleDriveFileInfo",value:function(){this._emptyInputValueIfItExists("#driveFileName_"+this._fieldId),this._emptyInputValueIfItExists("#driveFileSize_"+this._fieldId),this._emptyInputValueIfItExists("#driveFileId_"+this._fieldId),this._emptyInputValueIfItExists("#driveAccessToken_"+this._fieldId),this._removeElementIfItExists("#fileInput_"+this._fieldId+" .drivePickerUploadFile")}},{key:"_cleanDropboxFileInfo",value:function(){this._emptyInputValueIfItExists("#dropboxFileName_"+this._fieldId),this._emptyInputValueIfItExists("#dropboxLink_"+this._fieldId),this._emptyInputValueIfItExists("#dropboxFileSize_"+this._fieldId),this._removeElementIfItExists("#dropboxInfo_"+this._fieldId),this._removeElementIfItExists("#dropboxRemove_"+this._fieldId)}},{key:"emptyFileInput",value:function(){this._emptyInputValueIfItExists('input[name="file_'+this._fieldId+'"]')}},{key:"removeUploadedFileInfo",value:function(){this._removeElementIfItExists("#fileInput_"+this._fieldId+" > .uploadedFile")}},{key:"removeHiddenFileNameForScreenReader",value:function(){this._removeElementIfItExists("#fileName-fileInput_"+this._fieldId)}},{key:"_removeElementIfItExists",value:function(e){var t=document.querySelector(e);t&&t.remove()}},{key:"_emptyInputValueIfItExists",value:function(e){var t=document.querySelector(e);t&&(t.value="")}}])&&rt(t.prototype,n),i&&rt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();const at=ot;function st(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function lt(e,t){ct(e,t),t.add(e)}function ut(e,t,n){ct(e,t),t.set(e,n)}function ct(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function dt(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function pt(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,ft(e,t,"get"))}function ht(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,ft(e,t,"set"),n),n}function ft(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var yt=new WeakMap,gt=new WeakMap,_t=new WeakMap,mt=new WeakSet,vt=new WeakSet,bt=new WeakSet,Ft=new WeakSet,wt=function(){function e(t,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),lt(this,Ft),lt(this,bt),lt(this,vt),lt(this,mt),ut(this,yt,{writable:!0,value:void 0}),ut(this,gt,{writable:!0,value:void 0}),ut(this,_t,{writable:!0,value:void 0}),ht(this,yt,t),ht(this,gt,n),ht(this,_t,i),this._clickEventListener=r,this._fileInfoCleaner=new at(pt(this,yt))}var t,n,i;return t=e,(n=[{key:"addRemoveButton",value:function(e){e=void 0===e?"":e;var t=dt(this,mt,It).call(this);t.innerText=e,t.appendChild(dt(this,vt,St).call(this,e)),this.addClickEventListenerToRemoveButton()}},{key:"isThereRemoveButton",value:function(){return Boolean(document.getElementById("removeFileButton_"+pt(this,yt)))}},{key:"addClickEventListenerToRemoveButton",value:function(){var e=this;this.isThereRemoveButton()&&document.getElementById("removeFileButton_"+pt(this,yt)).addEventListener("click",(function(t){dt(e,bt,Et).call(e),dt(e,Ft,Tt).call(e),e._fileInfoCleaner.removeUploadedFileInfo(),e._fileInfoCleaner.removeHiddenFileNameForScreenReader(),e._clickEventListener(),t.preventDefault()}))}}])&&st(t.prototype,n),i&&st(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function It(){var e=document.getElementById("fileInput_"+pt(this,yt)),t=document.querySelector("#fileInput_"+pt(this,yt)+" > .uploadedFile");return t||((t=document.createElement("div")).className="uploadedFile",e.appendChild(t)),t}function St(e){var t=document.createElement("button");return t.setAttribute("id","removeFileButton_"+pt(this,yt)),t.setAttribute("type","button"),t.setAttribute("class","removeFile"),t.setAttribute("aria-label",pt(this,_t).replace("{$fileName}",e)),t.innerText=pt(this,gt),t}function Et(){var e=document.getElementById("fileInput_"+pt(this,yt));if(e){var t=document.createElement("input");t.setAttribute("type","hidden"),t.setAttribute("name","removedFile_"+pt(this,yt)),e.append(t)}}function Tt(){var e=document.querySelector('input[name="file_'+pt(this,yt)+'_fileNumber"]');e&&(e.value="")}const Pt=wt;n(629);function Ot(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ct=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._allowedFileExtensions=[],this._hasPhotoPreview=!1,this._removeText="",this._removeFileText=""}var t,n,i;return t=e,n=[{key:"allowedFileExtensions",get:function(){return this._allowedFileExtensions},set:function(e){this._allowedFileExtensions=e||[]}},{key:"hasPhotoPreview",get:function(){return this._hasPhotoPreview},set:function(e){this._hasPhotoPreview=Boolean(e)}},{key:"removeText",get:function(){return this._removeText},set:function(e){this._removeText=e||""}},{key:"removeFileText",get:function(){return this._removeFileText},set:function(e){this._removeFileText=e||""}}],n&&Ot(t.prototype,n),i&&Ot(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();const Dt=Ct;function kt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var jt=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._fieldId=t,this._configuration=n||new Dt,this._fileInfoCleaner=new at(t)}var t,n,i;return t=e,(n=[{key:"onFileSelected",value:function(e){throw Error("onFileSelected() method unimplemented")}},{key:"_buildRemoveExternalUploadedFileButton",value:function(e){var t=this,n=document.createElement("button");return n.type="button",n.innerText=this._configuration.removeText,n.setAttribute("aria-label",this._configuration.removeFileText.replace("{$fileName}",e)),n.addEventListener("click",(function(e){e.preventDefault(),t._removeExternalUploadedFile()})),n}},{key:"_removeExternalUploadedFile",value:function(){!0===this._configuration.hasPhotoPreview?Fields.getField(this._fieldId)._resetPreviewAndFileLoaders():this._fileInfoCleaner.cleanExternalFileInfo()}}])&&kt(t.prototype,n),i&&kt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();const At=jt;function xt(e){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xt(e)}function Rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Nt(){return Nt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=Lt(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Nt.apply(this,arguments)}function Lt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ut(e)););return e}function Mt(e,t){return Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Mt(e,t)}function Bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ut(e);if(t){var r=Ut(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Qt(this,n)}}function Qt(e,t){if(t&&("object"===xt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ut(e){return Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ut(e)}var Yt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mt(e,t)}(o,e);var t,n,i,r=Bt(o);function o(){return Rt(this,o),r.apply(this,arguments)}return t=o,n=[{key:"onFileSelected",value:function(e){if(e){var t=this._getPhotoFieldWithPreview();this._fileInfoCleaner.cleanAll(),this._setDropboxFileNameValue(e.name),this._setDropboxFileLinkValue(e.link),this._setDropboxFileSizeValue(e.bytes),this._buildFileNameSpanElement(e.name);var n=this._buildRemoveExternalUploadedFileButton(e.name),i=this._getDropboxButton();i&&i.before(n),t&&(t._setPreview(e.link),t._onPhotoFileInputNewPhotoSelected())}}},{key:"_buildRemoveExternalUploadedFileButton",value:function(e){var t=Nt(Ut(o.prototype),"_buildRemoveExternalUploadedFileButton",this).call(this,e);return t.id="dropboxRemove_"+this._fieldId,t}},{key:"_getPhotoFieldWithPreview",value:function(){return!0!==this._hasPhotoPreview?null:v.getField(this._fieldId)}},{key:"_setDropboxFileNameValue",value:function(e){var t=document.getElementById("dropboxFileName_"+this._fieldId);t&&(t.value=e)}},{key:"_setDropboxFileSizeValue",value:function(e){var t=document.getElementById("dropboxFileSize_"+this._fieldId);t&&(t.value=e)}},{key:"_setDropboxFileLinkValue",value:function(e){var t=document.getElementById("dropboxLink_"+this._fieldId);t&&(t.value=e)}},{key:"_buildFileNameSpanElement",value:function(e){var t=document.createElement("span"),n=document.createTextNode(e);t.id="dropboxInfo_"+this._fieldId,t.appendChild(n);var i=this._getDropboxButton();i&&i.before(t)}},{key:"_getDropboxButton",value:function(){var e=document.getElementById("fileInput_"+this._fieldId),t=e?e.getElementsByClassName("dropbox-dropin-btn"):[];return t&&t.length>0?t[0]:null}}],n&&Vt(t.prototype,n),i&&Vt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(At);const Wt=Yt;function Ht(e){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(e)}function zt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Jt(){return Jt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=Zt(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Jt.apply(this,arguments)}function Zt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Xt(e)););return e}function $t(e,t){return $t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$t(e,t)}function Kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Xt(e);if(t){var r=Xt(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Gt(this,n)}}function Gt(e,t){if(t&&("object"===Ht(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Xt(e){return Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xt(e)}function en(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$t(e,t)}(o,e);var t,n,i,r=Kt(o);function o(){return zt(this,o),r.apply(this,arguments)}return t=o,(n=[{key:"onFileSelected",value:function(e){Jt(Xt(o.prototype),"onFileSelected",this).call(this,{name:o.FAKE_FILE_NAME,link:o.FAKE_FILE_LINK,bytes:o.FAKE_FILE_SIZE})}}])&&qt(t.prototype,n),i&&qt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Wt);en(tn,"FAKE_FILE_LINK","https://dl.dropboxusercontent.com/fakeLink"),en(tn,"FAKE_FILE_NAME","dropboxFile.txt"),en(tn,"FAKE_FILE_SIZE","1");const nn=tn;function rn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var on=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._fieldId=t,this._configuration=n,this._useMocks=i}var t,n,i;return t=e,(n=[{key:"load",value:function(){var e=document.getElementById("fileInput_"+this._fieldId);if("undefined"!=typeof Dropbox&&e){var t=this._useMocks?new nn(this._fieldId,this._configuration):new Wt(this._fieldId,this._configuration),n={success:function(e){return t.onFileSelected(e&&e.length>0?e[0]:null)},linkType:"direct",extensions:this._configuration.allowedFileExtensions};e.appendChild(this._buildChooseFileButton(n))}}},{key:"_buildChooseFileButton",value:function(e){var t=Dropbox.createChooseButton(e);return this._useMocks&&(t=this._mockDropboxButton(t,e)),t}},{key:"_mockDropboxButton",value:function(e,t){var n=this._removeAllEventListenerInButton(e);return n.addEventListener("click",(function(){return t.success()})),n}},{key:"_removeAllEventListenerInButton",value:function(e){return e.cloneNode(!0)}}])&&rn(t.prototype,n),i&&rn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();const an=on;function sn(e){return sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sn(e)}function ln(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function un(e,t){return un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},un(e,t)}function cn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=pn(e);if(t){var r=pn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return dn(this,n)}}function dn(e,t){if(t&&("object"===sn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function pn(e){return pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pn(e)}var hn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&un(e,t)}(o,e);var t,n,i,r=cn(o);function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this))._chooseFromDriveText="",e._appKey="",e._clientId="",e._exportType="",e}return t=o,n=[{key:"chooseFromDriveText",get:function(){return this._chooseFromDriveText},set:function(e){this._chooseFromDriveText=e||""}},{key:"appKey",get:function(){return this._appKey},set:function(e){this._appKey=e||""}},{key:"clientId",get:function(){return this._clientId},set:function(e){this._clientId=e||""}},{key:"exportType",get:function(){return this._exportType},set:function(e){this._exportType=e||""}}],n&&ln(t.prototype,n),i&&ln(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Dt);const fn=hn;function yn(e){return yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yn(e)}function gn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _n(e,t){return _n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_n(e,t)}function mn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=bn(e);if(t){var r=bn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return vn(this,n)}}function vn(e,t){if(t&&("object"===yn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function bn(e){return bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bn(e)}var Fn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_n(e,t)}(o,e);var t,n,i,r=mn(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,e,t))._shouldHideFileInputByDefault=n.getSetting("shouldHideFileInputByDefault"),n._maxFileSize=n.getSetting("maxFileSize"),n._errorToShowIfSizeExceeded=n.getSetting("errorToShowIfSizeExceeded"),n._initRemoveButtonBuilder(),n._addDropboxExternalChooser(),n._addGoogleDriveExternalChooser(),n._fileInfoCleaner=new at(e),n}return t=o,n=[{key:"_getAllowedValueTypesToSet",value:function(){return[]}},{key:"getType",value:function(){return o.TYPE}},{key:"getValue",value:function(){var e=this._getFileNumberInput();if(e&&e.value)return new it(parseInt(e.value,10),this._getUploadedFileName());var t=this._getCurrentFiles();return t&&0!==t.length?new tt(t):new p}},{key:"getValueForCondition",value:function(){return this._getFieldElement().val()||this._getUploadedFileName()}},{key:"addRemoveButton",value:function(){var e=document.getElementById(this.getFieldId());e&&e.files.length&&this._removeButtonBuilder&&this._removeButtonBuilder.addRemoveButton(e.files[0].name)}},{key:"_buildClonedFieldForNewTableRow",value:function(e,t){return new o(e,this.getFieldSettings())}},{key:"_onFileChanged",value:function(){if(this._isFileOverSized())alert(this._errorToShowIfSizeExceeded),this._getFieldElement().val("");else{var e=this._getFileNumberInput();e&&(e.value="");var t=this.getValue();t.isEmpty()?this._removeHiddenFileNameForScreenReader():(this._fileInfoCleaner.removeUploadedFileInfo(),this._fileInfoCleaner.removeHiddenFileNameForScreenReader(),this._fileInfoCleaner.cleanExternalFileInfo(),this._addHiddenFileNameForScreenReader(t))}}},{key:"_isFileOverSized",value:function(){var e=0,t=this._getCurrentFiles();return t&&t.length>0&&(e=t[0].size),e>0&&e>this._maxFileSize}},{key:"_attachOnChangeListener",value:function(){var e=this;if(!this._shouldHideFileInputByDefault){var t=document.getElementById(this._fieldId);t&&t.addEventListener("change",(function(){e._onFileChanged(),v.onFieldValueChange(e.getFieldId())}))}}},{key:"_getCurrentFiles",value:function(){return this._getFieldElement().prop("files")}},{key:"_getFileNumberInput",value:function(){return document.querySelector('input[name="file_'+this._fieldId+'_fileNumber"]')}},{key:"_getUploadedFileName",value:function(){var e=this._getUploadedFileDiv();return e&&e.childNodes&&e.childNodes.length>0?e.childNodes[0].textContent:""}},{key:"_getUploadedFileDiv",value:function(){return document.querySelector("#fileInput_"+this._fieldId+" > .uploadedFile")}},{key:"_addHiddenFileNameForScreenReader",value:function(e){this._removeHiddenFileNameForScreenReader();var t=document.getElementById(this.getFieldId()+"-label");if(t){var n=document.createElement("span");n.setAttribute("id","fileName-fileInput_"+this.getFieldId()),n.setAttribute("class","screenReaderVisibility"),n.innerText=e.toString(),t.append(n)}}},{key:"_removeHiddenFileNameForScreenReader",value:function(){var e=document.getElementById("fileName-fileInput_"+this.getFieldId());e&&e.remove()}},{key:"_preventOpeningFileUploadWindow",value:function(){var e=document.getElementById(this._fieldId);e&&(e.onclick=function(e){e.preventDefault(),e.stopPropagation()})}},{key:"_getRemoveButtonClickEventListener",value:function(){return function(){}}},{key:"_initRemoveButtonBuilder",value:function(){this.getSetting("hasRemoveButton")&&(this._removeButtonBuilder=new Pt(this.getFieldId(),this.getSetting("removeButtonText"),this.getSetting("removeButtonAriaText"),this._getRemoveButtonClickEventListener()),this._removeButtonBuilder.addClickEventListenerToRemoveButton())}},{key:"_addDropboxExternalChooser",value:function(){if(this.getSetting("dropbox.isEnabled")){var e=new Dt;e.allowedFileExtensions=this.getSetting("dropbox.allowedFileExtensions"),e.hasPhotoPreview=this.getSetting("hasPhotoPreviewByDefault"),e.removeText=this.getSetting("removeButtonText"),e.removeFileText=this.getSetting("removeButtonAriaText"),new an(this.getFieldId(),e,this.getSetting("useMocks")).load()}}},{key:"_addGoogleDriveExternalChooser",value:function(){if(this.getSetting("googleDrive.isEnabled")){var e=new fn;e.appKey=this.getSetting("googleDrive.appKey"),e.clientId=this.getSetting("googleDrive.clientId"),e.chooseFromDriveText=this.getSetting("googleDrive.chooseFromDriveText"),e.exportType=this.getSetting("googleDrive.exportMimeType"),e.allowedFileExtensions=this.getSetting("googleDrive.allowedFileExtensions"),e.hasPhotoPreview=this.getSetting("hasPhotoPreviewByDefault"),e.removeText=this.getSetting("removeButtonText"),e.removeFileText=this.getSetting("removeButtonAriaText"),new GoogleDriveChooserLoader(this.getFieldId(),e,this.getSetting("useMocks")).load()}}}],n&&gn(t.prototype,n),i&&gn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(q);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Fn,"TYPE","FileField");const wn=Fn;var In=n(6706);function Sn(e){return Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sn(e)}function En(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function Tn(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){En(o,i,r,a,s,"next",e)}function s(e){En(o,i,r,a,s,"throw",e)}a(void 0)}))}}function Pn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function On(e,t){return On=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},On(e,t)}function Cn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=kn(e);if(t){var r=kn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Dn(this,n)}}function Dn(e,t){if(t&&("object"===Sn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function kn(e){return kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},kn(e)}var jn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&On(e,t)}(a,e);var t,n,i,r,o=Cn(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=o.call(this,e,t))._filename=n.getSetting("filename"),n._readyToSubmit=!1,n._setActionBeforeSubmit(),n._preventOpeningFileUploadWindow(),n._initLastPdfSaved(),n}return t=a,n=[{key:"getType",value:function(){return a.TYPE}},{key:"onBeforeSubmitAutoPartialSave",value:(r=Tn(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._saveCurrentPdfFile();case 2:(t=e.sent)&&this._hasFileBeenChanged(t)&&(this._setFileValueInFileInput(t),this._lastPdfSaved=t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"_buildClonedFieldForNewTableRow",value:function(e,t){return new a(e,this.getFieldSettings())}},{key:"_setActionBeforeSubmit",value:function(){In.default.getInstance().addActionBeforeSubmit(this.onBeforeSubmitAutoPartialSave.bind(this),this.getFieldId())}},{key:"_saveCurrentPdfFile",value:function(){var e=this,t=this._getPdfDocument();return t?t.saveDocument().then((function(t){return e._createFileFromArrayBuffer(t)})):Promise.resolve(null)}},{key:"_getPdfViewerApplication",value:function(){if(!this._pdfViewerApplication){var e=document.getElementById(this.getFieldId()+"-iframe");this._pdfViewerApplication=e?e.contentWindow.PDFViewerApplication:null}return this._pdfViewerApplication}},{key:"_getPdfDocument",value:function(){var e=this._getPdfViewerApplication();return e?e.pdfDocument:null}},{key:"_createFileFromArrayBuffer",value:function(e){var t=new Blob([e],{type:"application/pdf"});return new File([t],this._filename,{type:"application/pdf"})}},{key:"_setFileValueInFileInput",value:function(e){var t=new DataTransfer;t.items.add(e);var n=document.getElementById(this.getFieldId());n&&(n.files=t.files)}},{key:"_initLastPdfSaved",value:function(){var e=this;this._onPdfViewerApplicationIsReady(Tn(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._getPdfViewerApplication().initializedPromise;case 2:e._getPdfViewerApplication().eventBus.on("documentloaded",Tn(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._saveCurrentPdfFile();case 2:e._lastPdfSaved=t.sent;case 3:case"end":return t.stop()}}),t)}))));case 3:case"end":return t.stop()}}),t)}))))}},{key:"_onPdfViewerApplicationIsReady",value:function(e){this._getPdfViewerApplication()?e():document.addEventListener("webviewerloaded",e)}},{key:"_hasFileBeenChanged",value:function(e){return!this._lastPdfSaved||e.size!==this._lastPdfSaved.size}}],n&&Pn(t.prototype,n),i&&Pn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(wn);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(jn,"TYPE","PdfEditor");const An=jn;n(5160),n(9837);function xn(e,t){q.call(this,e,t)}xn.TYPE="InputField",xn.prototype=Object.create(q.prototype),xn.prototype._getAllowedValueTypesToSet=function(){return[Z.TYPE]},xn.prototype.getType=function(){return xn.TYPE},xn.prototype.getValue=function(){var e=this._getFieldElement().val();return e?new Z(e):new p},xn.prototype.getValueForCondition=function(){return this._getFieldElement().val()},xn.prototype.setValue=function(e){this._assertIsAllowedValueToSet(e),this._getFieldElement().val(e.getValue()),this._triggerEvent("input")},xn.prototype._buildClonedFieldForNewTableRow=function(e,t){return new xn(e,this.getFieldSettings())},xn.prototype._attachOnChangeListener=function(){var e=this;pjQuery("#"+this._fieldId).on("input",(function(){this.onkeyup=null,v.onFieldValueChange(e.getFieldId())}))};const Rn=xn;function Vn(){}Vn.registerDatasource=function(e,t){Vn.isDatasourceRegistered(e)||(Vn._datasources[e]=t)},Vn.getForField=function(e){var t=Vn._getDatasource(e);if(null!==t)return t;throw new Error("tryToAccessNonRegisteredDefaultValueDatasource: "+e)},Vn.cloneDatasourceForNewTableRow=function(e,t,n){var i=Vn.getForField(e).cloneForNewTableRow(t,n);Vn.registerDatasource(t,i)},Vn._getDatasource=function(e){return Vn.isDatasourceRegistered(e)?Vn._datasources[e]:null},Vn.isDatasourceRegistered=function(e){return e in Vn._datasources},Vn._datasources={};const Nn=Vn;function Ln(e,t){Rn.call(this,e,t),this._hasInitialValue=this._hasValueOnLoad(),Nn.isDatasourceRegistered(e)&&(this._defaultValueDatasource=Nn.getForField(e),pjQuery.each(this._defaultValueDatasource.getParentDependenciesFieldsIds(),(function(t,n){f.registerFieldDependency(e,n,f.TYPE_VALUES)})))}Ln.TYPE="TextField",Ln.prototype=Object.create(Rn.prototype),Ln.prototype._getAllowedValueTypesToSet=function(){return[Z.TYPE]},Ln.prototype.getType=function(){return Ln.TYPE},Ln.prototype._hasValueOnLoad=function(){return this.hasValue()},Ln.prototype._updateFieldAfterParentFieldValueChange=function(e){if(this._defaultValueDatasource&&this._defaultValueDatasource.isParentDependentField(e))this.isVisible()?(this._updateFieldVisibilityAfterParentFieldValueChange(),this._defaultValueDatasource.fetchNewOptions([],null,null,this._getOnNewDefaultValueCallback())):(this._defaultValueDatasource.fetchNewOptions([],null,null,this._getOnNewDefaultValueCallback()),this._updateFieldVisibilityAfterParentFieldValueChange());else{var t=this._updateFieldVisibilityAfterParentFieldValueChange();this._onFieldUpdated(t)}},Ln.prototype._getOnNewDefaultValueCallback=function(){var e=this;return function(t){if(t){var n=!1;if(e._shouldUpdateDefaultValue()){var i=e.getValue();e.setValue(new Z(t[0].name)),n=i!==e.getValue()}e._onFieldUpdated(n)}}},Ln.prototype._shouldUpdateDefaultValue=function(){return!this._hasInitialValue};const Mn=Ln;function Bn(e,t){Mn.call(this,e,t),this._languageFilename=this.getSetting("languageFilename"),this._hasTinyMCEBeingInitialized=!1}Bn.TYPE="FormattedTextField",Bn.prototype=Object.create(Mn.prototype),Bn.prototype._getAllowedValueTypesToSet=function(){return[Z.TYPE]},Bn.prototype.getType=function(){return Bn.TYPE},Bn.prototype._postRegister=function(){var e=this;tinymce.init({selector:"#"+e.getFieldId(),language:e._getLanguage(),plugins:["link image lists hr help","searchreplace visualblocks visualchars code fullscreen insertdatetime ","directionality","placeholder"],toolbar:"undo redo | bold italic | alignleft aligncenter alignright | bullist numlist outdent indent | link image | forecolor backcolor",branding:!1,convert_urls:!1,setup:function(t){t.on("init",(function(t){e._hasTinyMCEBeingInitialized=!0,e._prependLabelToTitle(),Mn.prototype._postRegister.call(e)})),t.on("paste keyUp",(function(){v.onFieldValueChange(e.getFieldId())}))}})},Bn.prototype.getValue=function(){var e=this._getTinyMCEContainer(),t=null;return this._hasTinyMCEBeingInitialized&&e&&(t=e.getContent({format:"text"})),t?new Z(t):new p},Bn.prototype._prependLabelToTitle=function(){var e=this._getTinyMCEContainer();if(e){var t=e.iframeElement,n=t.getAttribute("title");n=this.getLabel()+": "+n,t.setAttribute("title",n)}},Bn.prototype.getValueForCondition=function(){var e=this._getTinyMCEContainer(),t=null;return this._hasTinyMCEBeingInitialized&&e&&(t=e.getContent({format:"text"}),t=this.sanitizeValue(t)),t},Bn.prototype.sanitizeValue=function(e){return(e=e.replaceAll(/(\n\n\n|\n\n)/g,"\n")).trim()},Bn.prototype.setValue=function(e){this._assertIsAllowedValueToSet(e);var t=this._getTinyMCEContainer();if(t)return t.setContent(e.getValue());this._triggerEvent("input")},Bn.prototype._buildClonedFieldForNewTableRow=function(e,t){return new Bn(e,this.getFieldSettings())},Bn.prototype._getTinyMCEContainer=function(){return tinyMCE.get(this._fieldId)},Bn.prototype.onBeforeSubmitAutoPartialSave=function(){return new Promise((function(e){tinyMCE.triggerSave(),e()}))},Bn.prototype._attachOnChangeListener=function(){},Bn.prototype._hasValueOnLoad=function(){return!!this._getFieldElement().val()},Bn.prototype._getLanguage=function(){return this._languageFilename};const Qn=Bn;n(3215),n(3295),n(3002);function Un(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Yn=function(){function e(t,n,i,r,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._fieldsContainerId=t,this._textsDictionary=n,this._shouldUseBuiltinButtons=i,this._hasToHideWizardButtons=r,this._shouldIncludePreviousButton=o,this._initialFieldIndex=a||0}var t,n,i;return t=e,n=[{key:"generate",value:function(){this._addIndicatorClass(),this._setupFieldByFieldDisplayFormat(this._initialFieldIndex),this._updateCurrentStepIndicatorClass(),this._updateElementsVisibility(),this._showPreparedFieldSet()}},{key:"getFieldsStatus",value:function(){var e=this,t=[];return this._getFieldsContainers().forEach((function(n){var i=parseInt(n.getAttribute("data-field-index"),10),r=n.getAttribute("data-field-id"),o=v.getField(r);t.push({index:i,id:r,name:o.getLabel(),isCurrent:i===e._getCurrentFieldIndex()})})),t}},{key:"goToNextField",value:function(){this._hasCurrentFieldValidationErrors()||this._goToField(this._getNextFieldIndexToShow(this._getCurrentFieldIndex()))}},{key:"goToPreviousField",value:function(){this._goToField(this._getPrevFieldIndexToShow(this._getCurrentFieldIndex()))}},{key:"_addIndicatorClass",value:function(){this._getFieldSetContainer().classList.add("shownFieldByField")}},{key:"_setupFieldByFieldDisplayFormat",value:function(e){this._generateFieldsHelperData(),this._buildCurrentFieldIndex(),this._shouldUseBuiltinButtons&&(this._buildBuiltinButtonsContainer(),this._shouldIncludePreviousButton&&this._buildBuiltinPreviousButton(),this._buildBuiltinNextButton()),e=this._hasValidationErrors()?this._getFirstFieldIndexWithValidationError():this._getNextFieldIndexToShow(e-1),this._setCurrentFieldIndex(e)}},{key:"_generateFieldsHelperData",value:function(){var e=this;this._getFieldsContainers().forEach((function(t,n){t.setAttribute("data-field-index",n.toString()),t.setAttribute("data-field-id",e._getFieldIdFromFieldContainer(t))}))}},{key:"_buildCurrentFieldIndex",value:function(){var e=document.createElement("input");e.setAttribute("id",this._fieldsContainerId+"_currentFieldIndex"),e.setAttribute("name",this._fieldsContainerId+"_currentFieldIndex"),e.setAttribute("type","hidden"),this._getFieldSetContainer().append(e)}},{key:"_buildBuiltinButtonsContainer",value:function(){var e=document.createElement("div");e.setAttribute("id",this._fieldsContainerId+"_formContainerButtons"),e.setAttribute("class","button-bar__wrap"),e.setAttribute("role","navigation");var t=document.createElement("div");t.setAttribute("id","fieldSpecButtonContainer"+this._fieldsContainerId),t.setAttribute("class","formfieldSpec button-bar formfieldSpecPadder"),t.append(e);var n=document.createElement("div");n.setAttribute("id","schemaFieldButtonContainer"+this._fieldsContainerId),n.setAttribute("class","schemaFieldButtonContainer"),n.append(t),this._getFieldSetContainer().append(n)}},{key:"_buildBuiltinPreviousButton",value:function(){var e=this,t=document.createElement("a");t.innerText=this._textsDictionary.prevButtonText,t.setAttribute("id",this._fieldsContainerId+"_formContainerPrevButton"),t.setAttribute("href","javascript:void(0)"),t.setAttribute("class","button button--primary formContainerPrevButton"),t.setAttribute("role","button"),t.setAttribute("tabindex","0"),t.setAttribute("aria-label",this._textsDictionary.prevButtonAriaLabel),t.addEventListener("click",(function(){return e.goToPreviousField()})),document.getElementById(this._fieldsContainerId+"_formContainerButtons").append(t)}},{key:"_buildBuiltinNextButton",value:function(){var e=this,t=document.createElement("a");t.innerText=this._textsDictionary.nextButtonText,t.setAttribute("id",this._fieldsContainerId+"_formContainerNextButton"),t.setAttribute("href","javascript:void(0)"),t.setAttribute("class","button button--primary formContainerNextButton"),t.setAttribute("role","button"),t.setAttribute("tabindex","0"),t.setAttribute("aria-label",this._textsDictionary.nextButtonAriaLabel),t.addEventListener("click",(function(){return e.goToNextField()})),document.getElementById(this._fieldsContainerId+"_formContainerButtons").append(t)}},{key:"_goToField",value:function(e){this._setCurrentFieldIndex(e),this._updateElementsVisibility(),this._focusInputInCurrentField()}},{key:"_updateElementsVisibility",value:function(){this._updatesFieldsVisibility(),this._updateNextButtonVisibility(),this._updatePreviousButtonVisibility(),this._hasToHideWizardButtons&&(this._updateSaveAndNextWizardButtonsVisibility(),this._updatePreviousWizardButtonVisibility()),this._getFieldSetContainer().dispatchEvent(new Event("form:refreshFormStepVisibility"))}},{key:"_updatesFieldsVisibility",value:function(){var e=this;this._getFieldsContainers().forEach((function(t,n){var i=t.getAttribute("data-field-id"),r=v.getField(i),o=n!==e._getCurrentFieldIndex();t.hidden=o,r.onFormStepVisibilityChange(o)}))}},{key:"_updateNextButtonVisibility",value:function(){this._getNextButton().hidden=this._isCurrentFieldTheLastField()}},{key:"_isCurrentFieldTheLastField",value:function(){return this._getNextFieldIndexToShow(this._getCurrentFieldIndex())===this._getCurrentFieldIndex()}},{key:"_updatePreviousButtonVisibility",value:function(){this._getPrevButton().hidden=this._isCurrentFieldTheFirstField()}},{key:"_isCurrentFieldTheFirstField",value:function(){return 0===this._getCurrentFieldIndex()||this._getPrevFieldIndexToShow(this._getCurrentFieldIndex())===this._getCurrentFieldIndex()}},{key:"_updateSaveAndNextWizardButtonsVisibility",value:function(){var e=this._areFieldsetsInLastField();this._getClosestWizard().querySelectorAll("button.saveButton, button.nextButton, button.submitButton").forEach((function(t){return t.hidden=!e}))}},{key:"_areFieldsetsInLastField",value:function(){var e=!0,t=this._shouldUseBuiltinButtons?".formContainerNextButton":"button.formNextButton";return this._getClosestWizard().querySelectorAll(t).forEach((function(t){e=e&&t.hasAttribute("hidden")})),e}},{key:"_updatePreviousWizardButtonVisibility",value:function(){var e=this._areFieldsetsInFirstField();this._getClosestWizard().querySelectorAll("button.previousButton").forEach((function(t){return t.hidden=!e}))}},{key:"_areFieldsetsInFirstField",value:function(){var e=!0,t=this._shouldUseBuiltinButtons?".formContainerPrevButton":"button.formPreviousButton";return this._getClosestWizard().querySelectorAll(t).forEach((function(t){e=e&&t.hasAttribute("hidden")})),e}},{key:"_showPreparedFieldSet",value:function(){this._getFieldSetContainer().classList.remove("fieldSpec--loading","wizard--loading"),this._getFieldSetContainer().removeAttribute("hidden"),this._getFieldSetContainer().parentElement.querySelector(".form__loader, .wizard__loader").remove()}},{key:"_getNextFieldIndexToShow",value:function(e){var t,n=e;do{if(n++,!(t=this._getFieldIdByFieldIndex(n))){n--;break}}while(!v.isVisible(t));return n}},{key:"_getPrevFieldIndexToShow",value:function(e){var t,n=e;do{if(--n<0)return e;if(!(t=this._getFieldIdByFieldIndex(n))){n++;break}}while(!v.isVisible(t));return n}},{key:"_updateCurrentStepIndicatorClass",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this._getFieldSetContainer(),n=this._getCurrentStepIndicatorClass();n&&t.classList.remove(n),t.classList.add("shownFieldByField--step"+(e+1))}},{key:"_getCurrentStepIndicatorClass",value:function(){return Array.from(this._getFieldSetContainer().classList).filter((function(e){return e.match(/^shownFieldByField--step\d+/gm)})).join("")}},{key:"_getFieldIdFromFieldContainer",value:function(e){return e.id.replace(/^[a-z]+(\d+(?:-\d+)*)$/i,"$1")}},{key:"_hasValidationErrors",value:function(){return this._getFieldSetContainer().querySelectorAll(".hasErrors").length>0}},{key:"_hasCurrentFieldValidationErrors",value:function(){var e=this._getFieldIdByFieldIndex(this._getCurrentFieldIndex());return!v.getField(e).isValid()}},{key:"_getFirstFieldIndexWithValidationError",value:function(){var e=Array.from(this._getFieldsContainers()).findIndex((function(e){return e.querySelectorAll(".hasErrors").length>0}));return-1===e?null:e}},{key:"_getFieldSetContainer",value:function(){return document.getElementById(this._fieldsContainerId)}},{key:"_getFieldsContainers",value:function(){return this._getFieldSetContainer().querySelectorAll(".fieldSpec:not(.ButtonBarField), .schemaFieldContainer")}},{key:"_getClosestWizard",value:function(){return this._getFieldSetContainer().closest(".wizard")}},{key:"_getCurrentFieldIndex",value:function(){return parseInt(document.getElementById(this._fieldsContainerId+"_currentFieldIndex").value,10)}},{key:"_getNextButton",value:function(){return(this._shouldUseBuiltinButtons?this._getFieldSetContainer().querySelector(".formContainerNextButton"):this._getClosestWizard().querySelector("button.formNextButton"))||document.createElement("div")}},{key:"_getPrevButton",value:function(){return(this._shouldUseBuiltinButtons?this._getFieldSetContainer().querySelector(".formContainerPrevButton"):this._getClosestWizard().querySelector("button.formPreviousButton"))||document.createElement("div")}},{key:"_getFieldIdByFieldIndex",value:function(e){var t=document.querySelector('[data-field-index="'+e+'"]');return t?t.getAttribute("data-field-id"):null}},{key:"_focusInputInCurrentField",value:function(){v.getField(this._getFieldIdByFieldIndex(this._getCurrentFieldIndex())).focus(),this._updateCurrentStepIndicatorClass(this._getCurrentFieldIndex())}},{key:"_setCurrentFieldIndex",value:function(e){document.getElementById(this._fieldsContainerId+"_currentFieldIndex").value=e}}],n&&Un(t.prototype,n),i&&Un(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();const Wn=Yn;function Hn(e){return Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hn(e)}function zn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function qn(e,t){return qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qn(e,t)}function Jn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=$n(e);if(t){var r=$n(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Zn(this,n)}}function Zn(e,t){if(t&&("object"===Hn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function $n(e){return $n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$n(e)}var Kn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qn(e,t)}(o,e);var t,n,i,r=Jn(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,e,t)).getSetting("hasToShowFieldByField")&&(n._fieldsetStepper=n._buildFieldsetStepper()),n}return t=o,(n=[{key:"_postRegister",value:function(){this._fieldsetStepper&&this._fieldsetStepper.generate(),this._buildVisibilityStatus()}},{key:"_buildFieldsetStepper",value:function(){return new Wn(this.getFieldId(),{nextButtonText:this.getSetting("nextButtonText"),nextButtonAriaLabel:this.getSetting("nextButtonAriaLabel"),prevButtonText:this.getSetting("prevButtonText"),prevButtonAriaLabel:this.getSetting("prevButtonAriaLabel")},this.getSetting("shouldUseBuiltinButtons"),this.getSetting("hasToHideWizardButtons"),this.getSetting("isAllowedNavigateBetweenFields"),this.getSetting("initialFieldIndex"))}},{key:"getFieldsStatus",value:function(){return this._assertFieldStepperExists("getFieldsStatus()"),this._fieldsetStepper.getFieldsStatus()}},{key:"goToNextField",value:function(){this._assertFieldStepperExists("goToNextField()"),this._fieldsetStepper.goToNextField()}},{key:"goToPreviousField",value:function(){this._assertFieldStepperExists("goToPreviousField()"),this._fieldsetStepper.goToPreviousField()}},{key:"getType",value:function(){return o.TYPE}},{key:"getValue",value:function(){return new p}},{key:"getValueForCondition",value:function(){return null}},{key:"_buildClonedFieldForNewTableRow",value:function(e,t){return new o(e,this.getFieldSettings())}},{key:"_assertFieldStepperExists",value:function(e){this._fieldsetStepper||console.error('Method "'+e+'" is invalid. Form Field ID #'+this.getFieldId()+" is not being show field by field.")}}])&&zn(t.prototype,n),i&&zn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(q);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Kn,"TYPE","FormField");const Gn=Kn;n(4324);var Xn=n(1671);function ei(e,t){qe.call(this,e,t),this._tabIndex=this.getSetting("tabIndex"),this._minDate=this.getSetting("minDate"),this._maxDate=this.getSetting("maxDate"),this._accessibleLabelsDictionary=this.getSetting("accessibleLabelsDictionary"),this._isAccessible=this.getSetting("isAccessible"),this._isRequired=this.getSetting("isRequired"),this._year=this._month=this._day=0,this._yearInput=this._monthInput=this._dayInput=null}ei.TYPE="FullDateField",ei.prototype=Object.create(qe.prototype),ei.prototype._postRegister=function(){this._createWidget(),qe.prototype._postRegister.call(this)},ei.prototype.cloneForNewTableRow=function(e,t){this._cloneCurrentFieldForNewTableRow(e,t),this._cloneDependentFieldsForNewTableRow(e,t)},ei.prototype.getType=function(){return ei.TYPE},ei.prototype.getValue=function(){var e=this._getFieldElement().val();if(!e)return new p;var t=e.split("-"),n=PortalString.toInt(t[0]),i=PortalString.toInt(t[1]),r=PortalString.toInt(t[2]);return new Ze(n,i,r)},ei.prototype.getValueForCondition=function(){var e=this._getFieldElement().val();return e||""},ei.prototype.setValue=function(e){this._assertIsAllowedValueToSet(e),this._getFieldElement().val(e.getFormattedDateString("yyyy-MM-dd")),this._triggerEvent("change")},ei.prototype.show=function(){var e=this._getFieldContainerElement(),t=this._getFieldElement();e&&t&&this._valueDiffersForElement(t)&&t.val(t.val()),qe.prototype.show.call(this)},ei.prototype.hide=function(){if(this.isVisible()){var e=this._getFieldElement();this._saveDateValueForField(e),qe.prototype.hide.call(this)}},ei.prototype._buildClonedFieldForNewTableRow=function(e,t){return this._cloneDatasourceForNewTableRow("day",e,t),this._cloneDatasourceForNewTableRow("month",e,t),this._cloneDatasourceForNewTableRow("year",e,t),new ei(e,this.getFieldSettings())},ei.prototype._valueDiffersForElement=function(e){var t=e.val(),n=this.getValue();return""!==t&&!n.isEmpty()&&n.getFormattedDateString("yyyy-MM-dd")!==t},ei.prototype._saveDateValueForField=function(e){var t=this.getValue();if(!t.isEmpty()){var n=new Date(t.getFormattedDateString("yyyy-MM-dd")+"T00:00:00"),i=n.getFullYear(),r=this._addLeadingZeros(n.getMonth()+1),o=this._addLeadingZeros(n.getDate());e.val(i+"-"+r+"-"+o)}},ei.prototype._addLeadingZeros=function(e){return e.toString().padStart(2,"0")},ei.prototype._getDepedentFieldsMetadata=function(){return[]},ei.prototype._createWidget=function(){var e=this;this._browserSupportsInputDate()||pjQuery((function(){e._createFallbackWidget()}))},ei.prototype._browserSupportsInputDate=function(){return this._inputSupported("date")&&!this._isSafariBrowser()},ei.prototype._createFallbackWidget=function(){var e=this._hideInput(document.getElementById(this._fieldId));if(e){var t=new PortalDate(Xn.ou.fromFormat(this._minDate,"yyyy-MM-dd")).toDate(),n=new PortalDate(Xn.ou.fromFormat(this._maxDate,"yyyy-MM-dd")).toDate();this._initDefaultValues(e);var i=this._createInput(this._tabIndex,t,n);e.parentNode.appendChild(i)}},ei.prototype._initDefaultValues=function(e){this._year=this._month=this._day=0;var t=e.value||e.getAttribute("data-hiddenValue");if(t){var n=t.split("-");this._year=PortalString.toInt(n[0]),this._month=PortalString.toInt(n[1]),this._day=PortalString.toInt(n[2])}},ei.prototype._createInput=function(e,t,n){var i,r=this;return this._yearInput=this._createYearInput(this._fieldId,this._year,e,t,n),this._yearInput.onchange=function(){r._year=this.value,r._day=0,r._updateHiddenInputValue()},this._monthInput=this._createMonthInput(this._fieldId,this._month,this._year,e,t,n),this._monthInput.onchange=function(){r._month=this.value,r._day=0,r._updateHiddenInputValue()},this._dayInput=this._createDayInput(this._fieldId,this._day,this._month,this._year,e,t,n),this._dayInput.onchange=function(){r._day=this.value,r._updateHiddenInputValue()},this._isAccessible?(i=this._createWidgetWithLabelsFromInputs(this._yearInput,this._monthInput,this._dayInput),this._wrapFieldAsFieldSetWithLegend()):i=this._createWidgetWithoutLabelsFromInputs(this._yearInput,this._monthInput,this._dayInput),i},ei.prototype._updateHiddenInputValue=function(){document.getElementById(this._fieldId).value=this._year>0||this._month>0||this._day>0?this._year+"-"+this._normalize(this._month)+"-"+this._normalize(this._day):"",v.onFieldValueChange(this._fieldId)},ei.prototype._createWidgetWithLabelsFromInputs=function(e,t,n){var i=document.createElement("div"),r=document.createElement("div");r.className="FullDate_YearWrapper",r.appendChild(this._createLabelFor(e.id,this._accessibleLabelsDictionary.yearLabel)),r.appendChild(e);var o=document.createElement("div");o.className="FullDate_MonthWrapper",o.appendChild(this._createLabelFor(t.id,this._accessibleLabelsDictionary.monthLabel)),o.appendChild(t);var a=document.createElement("div");return a.className="FullDate_DayWrapper",a.appendChild(this._createLabelFor(n.id,this._accessibleLabelsDictionary.dayLabel)),a.appendChild(n),i.appendChild(r),i.appendChild(o),i.appendChild(a),i},ei.prototype._createLabelFor=function(e,t){var n=document.createElement("label");return n.setAttribute("for",e),n.setAttribute("class","screenReaderVisibility"),n.textContent=t,n},ei.prototype._createWidgetWithoutLabelsFromInputs=function(e,t,n){var i=document.createElement("div");return i.appendChild(e),i.appendChild(t),i.appendChild(n),i},ei.prototype._wrapFieldAsFieldSetWithLegend=function(){var e=pjQuery("#"+this._fieldId+"-accessibleContainer");e.children().appendTo(pjQuery("<fieldset/>").insertBefore(e)),e.remove();var t=this;pjQuery("#"+this._fieldId+"-label").replaceWith((function(){var e=this.textContent;e&&t._isRequired&&(e=e.substring(0,e.length-2),e+=pjQuery("<div/>",{}).append(pjQuery("<span/>",{"aria-hidden":!0,class:"labelRequiredIcon",text:" *"})).html());return pjQuery("<div/>",{}).append(pjQuery("<legend/>",{id:this.id,html:e})).html()}))},ei.prototype._resetDayInput=function(e){this._day=0;var t=this.monthInput.parentNode;t.removeChild(this._dayInput),this._dayInput=this._createDayInput(this._fieldId,this._day,this._month,this._year,e),t.appendChild(this._dayInput);var n=this;this._dayInput.onchange=function(){n._day=this.value,n._updateHiddenInputValue()}};const ti=ei;function ni(e,t){q.call(this,e,t)}ni.TYPE="GenericField",ni.prototype=Object.create(q.prototype),ni.prototype.getType=function(){return ni.TYPE},ni.prototype._buildClonedFieldForNewTableRow=function(e,t){return new ni(e,this.getFieldSettings())},ni.prototype._postRegister=function(){this._buildVisibilityStatus()};const ii=ni;function ri(e,t){Rn.call(this,e,t),this._minLengthValidation=this.getSetting("minLengthValidation"),this._minLengthValidationError=this.getSetting("minLengthValidationError"),this._setValidationBeforeSubmit()}ri.TYPE="KeywordsField",ri.prototype=Object.create(Rn.prototype),ri.prototype.getType=function(){return ri.TYPE},ri.prototype._setValidationBeforeSubmit=function(){var e=this;In.default.getInstance().addValidationBeforeSubmit((function(){return e._isValidInputLength()?(e._isErrorMessageDisplayed()&&e._removeErrorMessage(),!0):(e._isErrorMessageDisplayed()||e._displayErrorMessage(),!1)}),e.getFieldId())},ri.prototype._isValidInputLength=function(){var e=document.getElementById(this.getFieldId()).value;return e.length>=this._minLengthValidation||0===e.length},ri.prototype._isErrorMessageDisplayed=function(){return 0!==pjQuery("#"+this.getFieldId()+"-errorMessage").length},ri.prototype._displayErrorMessage=function(){var e=pjQuery("#"+this.getFieldId()),t=this._buildErrorContainer(this._getFieldLabel());e.wrap("<div></div>"),e.after(t)},ri.prototype._removeErrorMessage=function(){var e=pjQuery("#"+this.getFieldId()),t=e.parent(),n=t.parent();t.remove(),n.append(e)},ri.prototype._getFieldLabel=function(){return pjQuery("#"+this.getFieldId()+"-label").text()},ri.prototype._buildErrorContainer=function(e){return pjQuery("<span/>",{id:this.getFieldId()+"-errorMessage",class:"errorMessage",role:"alert","data-fieldlabel":e,text:this._minLengthValidationError}).prepend(pjQuery("<span/>",{"aria-hidden":"true",class:"errorMessageIcon",text:"(!) "}))};const oi=ri;function ai(e,t){oi.call(this,e,t),this.delayBeforeRequestMs=this.getSetting("delayBeforeRequestMs"),this.minimumLengthToSearch=this.getSetting("minimumLengthToSearch"),this._datasource=se.getForField(e)}ai.TYPE="InstantSearchField",ai.prototype=Object.create(oi.prototype),ai.prototype.getType=function(){return ai.TYPE},ai.prototype._postRegister=function(){this._createWidget(),oi.prototype._postRegister.call(this)},ai.prototype._createWidget=function(){var e=this;pjQuery("#"+this._fieldId).autocomplete({minLength:this.minimumLengthToSearch,delay:this.delayBeforeRequestMs,source:function(t,n){e._datasource._fetchOptions(e._datasource.buildRequestDataFromParams(1,10,t.term,!1,[],null),(function(e){n(e)}))},select:function(e,t){setTimeout((function(){window.location.href=t.item.detailUrl}),0)},create:function(){pjQuery(this).data("ui-autocomplete")._renderItem=function(t,n){if(t.attr("id",e._fieldId+"-live-search-results").attr("role","listbox").addClass("live-search"),n)return e._buildItemTemplate(n).appendTo(t)}},open:function(t,n){pjQuery("#"+e._fieldId).addClass("live-search--open").attr("aria-expanded","true")},close:function(t,n){pjQuery("#"+e._fieldId).removeClass("live-search--open").attr("aria-expanded","false")}})},ai.prototype._buildItemTemplate=function(e){var t=e.name||"",n=this.getValue().getValue(),i=t.toLowerCase().indexOf(n.toLowerCase()),r=t,o=null;if(e.fieldValues){var a=[];for(var s in e.fieldValues)e.fieldValues.hasOwnProperty(s)&&a.push(e.fieldValues[s]);if(a.length>0){o=pjQuery("<div/>",{class:"live-search__item__details",tabindex:-1});for(var l=0;l<a.length;++l)o.append(pjQuery("<span/>",{class:"live-search__item__details__"+(l+1),text:a[l]}))}}i>=0&&(r=pjQuery("<span>"+t.substring(0,i)+'<span class="live-search__item__title__match">'+t.substring(i,i+n.length)+"</span>"+t.substring(i+n.length)+"</span>"));var u=pjQuery("<div/>",{class:"live-search__item__title",tabindex:-1}).append(r);return pjQuery("<li/>",{class:"live-search__item",role:"option","aria-label":t}).append(u).append(o)};const si=ai;function li(e,t){Rn.call(this,e,t)}li.TYPE="JobVariableField",li.prototype=Object.create(Rn.prototype),li.prototype.getType=function(){return li.TYPE},li.prototype.getValueForCondition=function(){return JSON.parse(this._getFieldElement().val())};const ui=li;n(3263);function ci(e){return ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ci(e)}function di(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function hi(e,t){return hi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},hi(e,t)}function fi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=gi(e);if(t){var r=gi(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return yi(this,n)}}function yi(e,t){if(t&&("object"===ci(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function gi(e){return gi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gi(e)}var _i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hi(e,t)}(o,e);var t,n,i,r=fi(o);function o(){return di(this,o),r.apply(this,arguments)}return t=o,n=[{key:"getValueForCondition",value:function(){var e=document.getElementById(this.getRadiusId());return["SELECT"===e.tagName?e.selectedOptions[0].text:e.value]}},{key:"setValue",value:function(e){this._assertIsAllowedValueToSet(e),Fields.setFieldValue(this.getRadiusId(),e.getRadius())}},{key:"_postRegister",value:function(){Ye.prototype._postRegister.call(this)}},{key:"_getDepedentFieldsMetadata",value:function(){return[this._createFieldMetadata(this.getRadiusId(),this._getRadiusSuffix())]}},{key:"getRadiusId",value:function(){return this.getFieldId()+this._getRadiusSuffix()}},{key:"_getRadiusSuffix",value:function(){return this._getFieldSuffix()+"_radius"}},{key:"_getFieldSuffix",value:function(){throw new Error("notImplementedError")}}],n&&pi(t.prototype,n),i&&pi(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Ye);const mi=_i;function vi(e){return vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vi(e)}function bi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Fi(e,t){return Fi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Fi(e,t)}function wi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Si(e);if(t){var r=Si(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Ii(this,n)}}function Ii(e,t){if(t&&("object"===vi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Si(e){return Si=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Si(e)}var Ei=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fi(e,t)}(o,e);var t,n,i,r=wi(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this))._setRadius(e),t}return t=o,(n=[{key:"getRadius",value:function(){return this._radius}},{key:"_setRadius",value:function(e){c.assertIsValid(e),this._radius=e}}])&&bi(t.prototype,n),i&&bi(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(c);const Ti=Ei;function Pi(e){return Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pi(e)}function Oi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ci(e,t){return Ci=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ci(e,t)}function Di(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ji(e);if(t){var r=ji(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return ki(this,n)}}function ki(e,t){if(t&&("object"===Pi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ji(e){return ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ji(e)}var Ai=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ci(e,t)}(o,e);var t,n,i,r=Di(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,t))._setPlace(e),n}return t=o,(n=[{key:"getType",value:function(){return o.TYPE}},{key:"toString",value:function(){return JSON.stringify({place:this._place.toString(),radius:this._radius.toString()})}},{key:"getPlace",value:function(){return this._place}},{key:"_setPlace",value:function(e){c.assertIsValid(e),this._place=e}}])&&Oi(t.prototype,n),i&&Oi(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Ti);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ai,"TYPE","FieldLocationDistanceValue");const xi=Ai;function Ri(e){return Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ri(e)}function Vi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ni(){return Ni="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=Li(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Ni.apply(this,arguments)}function Li(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ui(e)););return e}function Mi(e,t){return Mi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Mi(e,t)}function Bi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ui(e);if(t){var r=Ui(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Qi(this,n)}}function Qi(e,t){if(t&&("object"===Ri(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ui(e){return Ui=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ui(e)}var Yi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mi(e,t)}(o,e);var t,n,i,r=Bi(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,e,t))._coordinates=n.getSetting("coordinates"),n._placeAriaLabel=n.getSetting("placeAriaLabel"),n}return t=o,n=[{key:"_getAllowedValueTypesToSet",value:function(){return[xi.TYPE]}},{key:"getType",value:function(){return o.TYPE}},{key:"getValue",value:function(){var e=v.getFieldValue(this._getPlaceId()),t=v.getFieldValue(this.getRadiusId());return e.isEmpty()||t.isEmpty()?new p:new xi(e,t)}},{key:"getValueForCondition",value:function(){return[document.getElementById(this._getPlaceId()).selectedOptions[0].text].concat(Ni(Ui(o.prototype),"getValueForCondition",this).call(this))}},{key:"setValue",value:function(e){Ni(Ui(o.prototype),"setValue",this).call(this,e),v.setFieldValue(this._getPlaceId(),e.getPlace())}},{key:"_buildClonedFieldForNewTableRow",value:function(e,t){return new o(e,this.getFieldSettings())}},{key:"_postRegister",value:function(){var e=this;Ni(Ui(o.prototype),"_postRegister",this).call(this),this._createHiddenCoordinatesInput(),document.getElementById(this._getPlaceId()).onchange=function(){var t=se.getForField(e._getPlaceId()),n=v.getFieldValue(e._getPlaceId());document.getElementById(e._getCoordinatesInputId()).value=n.getType()!==p.TYPE?JSON.stringify(t.getOptionLatAndLonById(n.getOptionId())):null},this._replaceAriaLabelledByAttribute()}},{key:"_createHiddenCoordinatesInput",value:function(){var e=document.createElement("input");e.setAttribute("id",this._getCoordinatesInputId()),e.setAttribute("name",this._getCoordinatesInputId()),e.setAttribute("class","coordinates"),e.setAttribute("hidden",!0),e.value=this._coordinates,document.getElementById(this.getFieldId()).append(e)}},{key:"_replaceAriaLabelledByAttribute",value:function(){var e=document.getElementsByClassName("select2Container"+this._getPlaceId())[0];e&&(e.removeAttribute("aria-labelledby"),e.setAttribute("aria-label",this._placeAriaLabel))}},{key:"_getDepedentFieldsMetadata",value:function(){return[this._createFieldMetadata(this._getPlaceId(),this._getPlaceSuffix())].concat(Ni(Ui(o.prototype),"_getDepedentFieldsMetadata",this).call(this))}},{key:"_getPlaceId",value:function(){return this.getFieldId()+this._getPlaceSuffix()}},{key:"_getPlaceSuffix",value:function(){return this._getFieldSuffix()+"_place"}},{key:"_getCoordinatesInputId",value:function(){return this.getFieldId()+this._getFieldSuffix()+"_coordinates"}},{key:"_getFieldSuffix",value:function(){return"_location"}}],n&&Vi(t.prototype,n),i&&Vi(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(mi);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Yi,"TYPE","LocationDistanceSearchField");const Wi=Yi;function Hi(e,t,n){this._setCountry(e),this._setState(t),this._setCity(n),c.call(this)}Hi.TYPE="FieldLocationValue",Hi.prototype=Object.create(c.prototype),Hi.prototype.getType=function(){return Hi.TYPE},Hi.prototype.toString=function(){return JSON.stringify({country:this._country.toString(),state:this._state.toString(),city:this._city.toString()})},Hi.prototype.getCountry=function(){return this._country},Hi.prototype.getState=function(){return this._state},Hi.prototype.getCity=function(){return this._city},Hi.prototype._setCountry=function(e){c.assertIsValid(e),this._country=e},Hi.prototype._setState=function(e){c.assertIsValid(e),this._state=e},Hi.prototype._setCity=function(e){c.assertIsValid(e),this._city=e};const zi=Hi;function qi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ji=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._stateFieldSelectAnOptionText=t,this._stateFieldNotRequiredText=n,this._portalUrlPath=i}var t,n,i;return t=e,n=[{key:"attachOnCountryChangeHandler",value:function(e,t,n){var i=pjQuery("#"+e),r=pjQuery("#"+t);if(this._hasElementValue(r)||this._resetStateInputToNotRequiredState(t),0!==i.length){var o=this;i.change((function(){o._updateStateByCountry(t,i.val())})),this._hasElementValue(i)&&!this._hasCountryValueWithoutState(i,r)||this._updateStateByCountry(t,this._valueIsValid(i.val())?i.val():i.data("hiddenvalue"))}else this._updateStateByCountry(t,n,r.val())}},{key:"attachOnCountryChangeSearchHandler",value:function(e,t,n,i,r){var o=pjQuery("[name="+e+"]"),a=this;o.change((function(){a._updateStateByCountryAndList(t,o.val(),n,i)})),this._valueIsValid(o.val())&&this._updateStateByCountryAndList(t,o.val(),n,i,r)}},{key:"attachOnCountryChangeCreateHandler",value:function(e,t,n,i){var r=pjQuery(".countryFieldSelect[data-country-type="+t+"]");if(0!==r.length){var o=pjQuery("#"+e);this._hasElementValue(o)||this._resetStateInputToNotRequiredState(e);var a=this;r.change((function(){a._updateStateByCountry(e,r.val())})),this._valueIsValid(r.val())&&this._updateStateByCountry(e,r.val(),n)}else this._updateStateByCountry(e,i,n)}},{key:"_updateStateByCountry",value:function(e,t,n){if(null==t||"0"===t||""===t)this._updateDropdownWithOptions(pjQuery("#"+e),[],n);else{var i=this;this._fetchOptions("byCountry",JSON.stringify({target:"state",criteria:{country:t}}),(function(t){i._updateDropdownWithOptions(pjQuery("#"+e),t,n)}))}}},{key:"_updateStateByCountryAndList",value:function(e,t,n,i,r){var o=this;this._fetchOptions("byCountryAndList",JSON.stringify({target:"state",criteria:{country:t,listSpecId:n,extraJobLocationFieldNumbers:i}}),(function(t){o._updateDropdownWithOptions(pjQuery("#"+e),t,r)}))}},{key:"_updateDropdownWithOptions",value:function(e,t,n){e.find("option").remove().end(),e.append(pjQuery("<option selected='selected'>").val("").text(this._stateFieldSelectAnOptionText));for(var i=0;i<t.length;i++){var r=t[i].id===parseInt(n,10)?"<option selected='selected'>":"<option>";e.append(pjQuery(r).val(t[i].id).text(t[i].name))}this._updateAttributesForValidatingRequiredIfNeeded(e,t),this._updateDisableAttributeIfNeeded(e,t)}},{key:"_updateDisableAttributeIfNeeded",value:function(e,t){t.length>0?e.prop("disabled",!1):0===t.length&&(e.prop("disabled",!0),e.find("option").remove().end(),e.append(pjQuery("<option selected='selected'>").val("").text(this._stateFieldNotRequiredText)))}},{key:"_updateAttributesForValidatingRequiredIfNeeded",value:function(e,t){this._shouldAddAttributesForValidatingRequired(e,t)?(e.attr("aria-required","true"),e.attr("required","")):this._shouldRemoveAttributesForValidatingRequired(e,t)&&(e.removeAttr("aria-required"),e.removeAttr("required"))}},{key:"_shouldAddAttributesForValidatingRequired",value:function(e,t){return void 0!==e.attr("aria-describedby")&&void 0===e.attr("required")&&t.length>0}},{key:"_shouldRemoveAttributesForValidatingRequired",value:function(e,t){return void 0!==e.attr("aria-describedby")&&void 0!==e.attr("required")&&0===t.length}},{key:"_resetStateInputToNotRequiredState",value:function(e){var t=pjQuery("#"+e);this._updateAttributesForValidatingRequiredIfNeeded(t,[]),this._updateDisableAttributeIfNeeded(t,[])}},{key:"_hasCountryValueWithoutState",value:function(e,t){return this._hasElementValue(e)&&!this._hasElementValue(t)}},{key:"_hasElementValue",value:function(e){return this._valueIsValid(e.val())||this._valueIsValid(e.data("hiddenvalue"))}},{key:"_valueIsValid",value:function(e){return null!=e&&"0"!==e&&""!==e}},{key:"_fetchOptions",value:function(e,t,n){if(!this._portalUrlPath)return n([]);pjQuery.ajax(this._generateApiUrl(e),{data:t,type:"POST",dataType:"json"}).done((function(e){return n(e)}))}},{key:"_generateApiUrl",value:function(e){return this._portalUrlPath+"/_wizardPortalLocationsSearchApi/"+e}}],n&&qi(t.prototype,n),i&&qi(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();const Zi=Ji;function $i(e,t,n){if(Ye.call(this,e,t),this.getSetting("isStandardized")){var i=new Zi(this.getSetting("stateFieldSelectAnOptionText"),this.getSetting("stateFieldNotRequiredText"),this.getSetting("portalUrlPath")),r=void 0!==n?n:this.getSetting("savedCountryId");i.attachOnCountryChangeHandler(this._getCountryId(),this._getStateId(),r)}}$i.TYPE="LocationField",$i.prototype=Object.create(Ye.prototype),$i.prototype._getAllowedValueTypesToSet=function(){return[zi.TYPE]},$i.prototype.getType=function(){return $i.TYPE},$i.prototype.getValue=function(){try{var e=v.getFieldValue(this._getCountryId()),t=v.getFieldValue(this._getStateId()),n=v.getFieldValue(this._getCityId());return e.isEmpty()||t.isEmpty()||n.isEmpty()?new p:new zi(e,t,n)}catch(e){return new p}},$i.prototype.getValueForCondition=function(){return[pjQuery("#"+this._getCountryId()+" option:selected").text(),pjQuery("#"+this._getStateId()).is("select")?pjQuery("#"+this._getStateId()+" option:selected").text():pjQuery("#"+this._getStateId()).val(),pjQuery("#"+this._getCityId()).val()]},$i.prototype.setValue=function(e){this._assertIsAllowedValueToSet(e),v.setFieldValue(this._getCountryId(),e.getCountry()),v.setFieldValue(this._getStateId(),e.getState()),v.setFieldValue(this._getCityId(),e.getCity())},$i.prototype._buildClonedFieldForNewTableRow=function(e,t){return new $i(e,this.getFieldSettings(),null)},$i.prototype._getDepedentFieldsMetadata=function(){var e=[];return v.isFieldRegistered(this._getCountryId())&&e.push(this._createFieldMetadata(this._getCountryId(),this._getCountrySuffix())),v.isFieldRegistered(this._getStateId())&&e.push(this._createFieldMetadata(this._getStateId(),this._getStateSuffix())),v.isFieldRegistered(this._getCityId())&&e.push(this._createFieldMetadata(this._getCityId(),this._getCitySuffix())),e},$i.prototype._getCountryId=function(){return this.getFieldId()+this._getCountrySuffix()},$i.prototype._getStateId=function(){return this.getFieldId()+this._getStateSuffix()},$i.prototype._getCityId=function(){return this.getFieldId()+this._getCitySuffix()},$i.prototype._getCountrySuffix=function(){return"_location_country"},$i.prototype._getStateSuffix=function(){return"_location_state"},$i.prototype._getCitySuffix=function(){return"_location_city"},$i.prototype._attachOnChangeListener=function(){};const Ki=$i;function Gi(e,t){ue.call(this,e,t),this._notSelectedOptionValue=this.getSetting("notSelectedOptionValue")||""}Gi.TYPE="SelectField",Gi.prototype=Object.create(ue.prototype),Gi.prototype._getAllowedValueTypesToSet=function(){return[te.TYPE,Z.TYPE]},Gi.prototype.getType=function(){return Gi.TYPE},Gi.prototype.getValue=function(){var e=this._getFieldElement().val();return e==this._notSelectedOptionValue?new p:new ie(e,pjQuery("#"+this._fieldId+" option:selected").text())},Gi.prototype.getValueForCondition=function(){var e=this._getFieldElement().val();return e!=this._notSelectedOptionValue?e:null},Gi.prototype.setValue=function(e){this._assertIsAllowedValueToSet(e);var t=pjQuery("option",this._getFieldElement()),n=this;switch(e.getType()){case te.TYPE:this._datasource.fetchOptionsById([e.getOptionId()],(function(e){t.filter((function(){return e.find((function(e){return e.id==pjQuery(this).val()}),this)})).prop("selected",!0),n._triggerEvent("change")}));break;case Z.TYPE:this._datasource.fetchOptionsByValue([e.getValue()],(function(e){t.filter((function(){return e.find((function(e){return e.name==pjQuery(this).text()}),this)})).prop("selected",!0),n._triggerEvent("change")}));break;default:throw new Error("modeNotSupported")}},Gi.prototype._unsetOnHide=function(e){e.val(this._notSelectedOptionValue)},Gi.prototype._getOptionsPage=function(){return null},Gi.prototype._getOptionsPageSize=function(){return null},Gi.prototype._createWithNewOptions=function(e){var t=this;this._removeAllOptions();var n=[];pjQuery.each(e,(function(e,i){var r=pjQuery("<option></option>").attr("id",t._buildOptionHtmlId(i.id)).attr("value",i.id).attr("data-option-name",i.name).text(i.name);i.isSelected&&r.attr("selected","selected"),n.push(r.prop("outerHTML"))})),this._getFieldElement().append(n.join(""))},Gi.prototype._removeAllOptions=function(){this._getFieldElement().find("option:gt(0)").remove()},Gi.prototype._buildClonedFieldForNewTableRow=function(e,t){return this._cloneDatasourceForNewTableRow(e,t),new Gi(e,this.getFieldSettings())},Gi.prototype._isPrePopulateEnabled=function(){return"1"===pjQuery("#"+this.getFieldId()).attr("data-prePopulate")},Gi.prototype._prePopulateIfOnlyOneOption=function(){var e=pjQuery("#"+this.getFieldId()).find('option:not([value="'+this._notSelectedOptionValue+'"])');1===e.length&&this.setValue(new te(e[0].value))};const Xi=Gi;function er(e){return er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},er(e)}function tr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function nr(e,t){return nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},nr(e,t)}function ir(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=or(e);if(t){var r=or(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return rr(this,n)}}function rr(e,t){if(t&&("object"===er(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function or(e){return or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},or(e)}var ar=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nr(e,t)}(o,e);var t,n,i,r=ir(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=r.call(this,e,t),new Zi(n.getSetting("stateFieldSelectAnOptionText"),n.getSetting("stateFieldNotRequiredText"),n.getSetting("portalUrlPath")).attachOnCountryChangeCreateHandler(n.getFieldId(),n.getSetting("stateTypeId"),n.getSetting("currentStateSelectedValue"),n.getSetting("savedCountryId")),n}return t=o,(n=[{key:"getType",value:function(){return o.TYPE}},{key:"_buildClonedFieldForNewTableRow",value:function(e,t){throw new Error("notImplementedError")}}])&&tr(t.prototype,n),i&&tr(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Xi);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ar,"TYPE","LocationStateCreateField");const sr=ar;function lr(e){return lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lr(e)}function ur(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function cr(e,t){return cr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},cr(e,t)}function dr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=hr(e);if(t){var r=hr(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return pr(this,n)}}function pr(e,t){if(t&&("object"===lr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function hr(e){return hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hr(e)}var fr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cr(e,t)}(o,e);var t,n,i,r=dr(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=r.call(this,e,t),new Zi(n.getSetting("stateFieldSelectAnOptionText"),n.getSetting("stateFieldNotRequiredText"),n.getSetting("portalUrlPath")).attachOnCountryChangeSearchHandler(n.getSetting("countryInputName"),n.getFieldId(),n.getSetting("listSpecId"),n.getSetting("extraJobLocationFieldNumbers"),n.getSetting("currentStateSelectedValue")),n}return t=o,(n=[{key:"getType",value:function(){return o.TYPE}},{key:"_buildClonedFieldForNewTableRow",value:function(e,t){throw new Error("notImplementedError")}}])&&ur(t.prototype,n),i&&ur(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Xi);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(fr,"TYPE","LocationStateSearchField");const yr=fr;function gr(e,t){if(!PortalNumber.isNumber(t))throw new Error("invalidValue: month must be a valid integer");if(!PortalNumber.isNumber(e))throw new Error("invalidValue: year must be a valid integer");var n=PortalDate.fromParams(e,t,1);this._assertIsValidPortalDateObject(n),He.call(this,n),this._month=t,this._year=e}gr.TYPE="FieldMonthAndYearValue",gr.prototype=Object.create(He.prototype),gr.prototype.getType=function(){return gr.TYPE},gr.prototype.toString=function(){return this.getFormattedDateString("yyyy-MM")},gr.prototype.getMonth=function(){return this._month},gr.prototype.getYear=function(){return this._year};const _r=gr;function mr(e,t){qe.call(this,e,t),this._fixedDay=this.getSetting("fixedDay"),this._tabIndex=this.getSetting("tabIndex"),this._minDate=this.getSetting("minDate"),this._maxDate=this.getSetting("maxDate"),this._accessibleLabelsDictionary=this.getSetting("accessibleLabelsDictionary"),this._isAccessible=this.getSetting("isAccessible"),this._isRequired=this.getSetting("isRequired"),this._year=null,this._month=null,this._yearInput=null,this._monthInput=null}mr.TYPE="MonthAndYearDateField",mr.prototype=Object.create(qe.prototype),mr.prototype._postRegister=function(){this._createWidget(),qe.prototype._postRegister.call(this)},mr.prototype.cloneForNewTableRow=function(e,t){this._cloneCurrentFieldForNewTableRow(e,t),this._cloneDependentFieldsForNewTableRow(e,t)},mr.prototype.getType=function(){return mr.TYPE},mr.prototype.getValue=function(){var e=this._getFieldElement().val();if(!e)return new p;var t=e.split("-"),n=PortalString.toInt(t[0]),i=PortalString.toInt(t[1]);return new _r(n,i)},mr.prototype.getValueForCondition=function(){var e=this._getFieldElement().val();return e?e+"-"+PortalString.zeroPad(this._fixedDay,2):""},mr.prototype.setValue=function(e){this._assertIsAllowedValueToSet(e),this._getFieldElement().val(e.getFormattedDateString("yyyy-MM")),this._triggerEvent("change")},mr.prototype._buildClonedFieldForNewTableRow=function(e,t){return this._cloneDatasourceForNewTableRow("year",e,t),this._cloneDatasourceForNewTableRow("month",e,t),new mr(e,this.getFieldSettings())},mr.prototype._getDepedentFieldsMetadata=function(){return[]},mr.prototype._createWidget=function(){var e=this;this._browserSupportsInputMonth()||pjQuery((function(){e._createFallbackWidget()}))},mr.prototype._browserSupportsInputMonth=function(){return this._inputSupported("month")&&!this._isSafariBrowser()},mr.prototype._elementAllowsChangingType=function(e){return q.prototype._elementAllowsChangingType.call(this,e)&&this._browserSupportsInputMonth()},mr.prototype._createFallbackWidget=function(){var e=this._hideInput(document.getElementById(this._fieldId));if(e){var t=new PortalDate(Xn.ou.fromFormat(this._minDate,"yyyy-MM-dd")).toDate(),n=new PortalDate(Xn.ou.fromFormat(this._maxDate,"yyyy-MM-dd")).toDate();this._initDefaultValues(e);var i=this._createInput(t,n);e.parentNode.appendChild(i)}},mr.prototype._initDefaultValues=function(e){this._year=this._month=0;var t=e.value||e.getAttribute("data-hiddenValue");if(t){var n=t.split("-");this._year=PortalString.toInt(n[0]),this._month=PortalString.toInt(n[1])}},mr.prototype._createInput=function(e,t){var n,i=this;return this._yearInput=this._createYearInput(this._fieldId,this._year,this._tabIndex,e,t),this._yearInput.onchange=function(){i._year=this.value,i._updateHiddenInputValue()},this._monthInput=this._createMonthInput(this._fieldId,this._month,this._year,this._tabIndex,e,t),this._monthInput.onchange=function(){i._month=this.value,i._updateHiddenInputValue()},this._isAccessible?(n=this._createWidgetWithLabelsFromInputs(this._yearInput,this._monthInput),this._wrapFieldAsFieldSetWithLegend()):n=this._createWidgetWithoutLabelsFromInputs(this._yearInput,this._monthInput),n},mr.prototype._updateHiddenInputValue=function(){document.getElementById(this._fieldId).value=this._year+"-"+this._normalize(this._month),v.onFieldValueChange(this._fieldId)},mr.prototype._createWidgetWithLabelsFromInputs=function(e,t){var n=document.createElement("div"),i=document.createElement("div");i.className="MonthAndYear_MonthWrapper",i.appendChild(this._createLabelFor(t.id,this._accessibleLabelsDictionary.monthLabel)),i.appendChild(t);var r=document.createElement("div");return r.className="MonthAndYear_YearWrapper",r.appendChild(this._createLabelFor(e.id,this._accessibleLabelsDictionary.yearLabel)),r.appendChild(e),n.appendChild(r),n.appendChild(i),n},mr.prototype._wrapFieldAsFieldSetWithLegend=function(){var e=pjQuery("#"+this._fieldId+"-accessibleContainer");e.children().appendTo(pjQuery("<fieldset/>").insertBefore(e)),e.remove();var t=this;pjQuery("#"+this._fieldId+"-label").replaceWith((function(){var e=this.textContent;e&&t._isRequired&&(e=e.substring(0,e.length-2),e+=pjQuery("<div/>",{}).append(pjQuery("<span/>",{"aria-hidden":!0,class:"labelRequiredIcon",text:" *"})).html());return pjQuery("<div/>",{}).append(pjQuery("<legend/>",{id:this.id,html:e})).html()}))},mr.prototype._createWidgetWithoutLabelsFromInputs=function(e,t){var n=document.createElement("div");return n.appendChild(e),n.appendChild(t),n},mr.prototype._createLabelFor=function(e,t){var n=document.createElement("label");return n.setAttribute("for",e),n.setAttribute("class","screenReaderVisibility"),n.textContent=t,n};const vr=mr;function br(e,t){ue.call(this,e,t)}br.TYPE="MultipleSelectField",br.prototype=Object.create(ue.prototype),br.prototype._getAllowedValueTypesToSet=function(){return[fe.TYPE,ge.TYPE]},br.prototype.getType=function(){return br.TYPE},br.prototype.getValue=function(){var e=this._getSelectedElements();if(0===e.length)return new p;var t=[];return e.each((function(){t.push(oe.buildOption(pjQuery(this).val(),pjQuery(this).data("option-name").toString()))})),new oe(t)},br.prototype.getValueForCondition=function(){var e=[];return this._getSelectedElements().each((function(){e.push(pjQuery(this).val())})),e},br.prototype.setValue=function(e){this._assertIsAllowedValueToSet(e);var t=pjQuery("option",this._getFieldElement()),n=this;switch(e.getType()){case fe.TYPE:this._datasource.fetchOptionsById(e.getOptionsIds(),(function(e){t.filter((function(){return e.find((function(e){return e.id==pjQuery(this).val()}),this)})).prop("selected",!0),n._triggerEvent("change")}));break;case ge.TYPE:this._datasource.fetchOptionsByValue(e.getOptionsTexts(),(function(e){t.filter((function(){return e.find((function(e){return e.name==pjQuery(this).data("option-name")}),this)})).prop("selected",!0),n._triggerEvent("change")}));break;default:throw new Error("modeNotSupported")}},br.prototype._getSelectedElements=function(){return this._getFieldElement().find("option:selected")},br.prototype._getOptionsPage=function(){return null},br.prototype._getOptionsPageSize=function(){return null},br.prototype._createWithNewOptions=function(e){var t=this;this._removeAllOptions();var n=[];pjQuery.each(e,(function(e,i){var r=pjQuery("<option></option>").attr("id",t._buildOptionHtmlId(i.id)).attr("value",i.id).attr("data-option-name",i.name).text(i.name);i.isSelected&&r.attr("selected","selected"),n.push(r.prop("outerHTML"))})),this._getFieldElement().append(n.join(""))},br.prototype._removeAllOptions=function(){this._getFieldElement().find("option").remove()},br.prototype._buildClonedFieldForNewTableRow=function(e,t){return this._cloneDatasourceForNewTableRow(e,t),new br(e,this.getFieldSettings())},br.prototype._isPrePopulateEnabled=function(){return!1},br.prototype._prePopulateIfOnlyOneOption=function(){};const Fr=br;function wr(e,t){Rn.call(this,e,t)}wr.TYPE="NumberField",wr.prototype=Object.create(Rn.prototype),wr.prototype._getAllowedValueTypesToSet=function(){return[K.TYPE]},wr.prototype.getType=function(){return wr.TYPE},wr.prototype.getValue=function(){var e=this._getFieldElement().val();return e?new K(PortalString.toFloat(e)):new p},wr.prototype.setValue=function(e){this._assertIsAllowedValueToSet(e),this._getFieldElement().val(e.getValue()),this._triggerEvent("input")},wr.prototype._buildClonedFieldForNewTableRow=function(e,t){return new wr(e,this.getFieldSettings())};const Ir=wr;function Sr(e,t){Ir.call(this,e,t),this._rangeMinValue=this.getSetting("rangeMinValue"),this._rangeMaxValue=this.getSetting("rangeMaxValue"),this._clearText=this.getSetting("clearText")}Sr.prototype=Object.create(Ir.prototype),Sr.prototype._postRegister=function(){this._createCustomWidgetAndHideNumberInput(),this.getValue()&&!this.getValue().isEmpty()&&this._setValue(this.getValue().getValue()),Ir.prototype._postRegister.call(this)},Sr.prototype._createCustomWidgetAndHideNumberInput=function(){this._hideInput(pjQuery("#"+this._fieldId)).parent().append(this._createCustomGraphicInput())},Sr.prototype._createCustomGraphicInput=function(){throw new Error("notImplementedError")},Sr.prototype.setValue=function(e){this._assertIsAllowedValueToSet(e),this._setValue(e.getValue())},Sr.prototype._setValue=function(){throw new Error("notImplementedError")},Sr.prototype._setValueToOriginalInput=function(e){Ir.prototype.setValue.call(this,new K(e))},Sr.prototype._hideInput=function(e){var t;if(e){t=pjQuery("<input/>");var n=["data-hiddenType","data-required"];pjQuery.each(e[0].attributes,(function(i,r){n.includes(r.name)||t.attr(r.name,e.attr(r.name))})),t.attr("type","hidden");var i=e.parent();e.remove(),i.append(t)}return t},Sr.prototype._createDivElement=function(e,t){return pjQuery("<div/>",{class:e,tabindex:t})};const Er=Sr;function Tr(e,t){Er.call(this,e,t)}Tr.TYPE="NumberProgressField",Tr.prototype=Object.create(Er.prototype),Tr.prototype.getType=function(){return Tr.TYPE},Tr.prototype._buildClonedFieldForNewTableRow=function(e,t){return new Tr(e,this.getFieldSettings())},Tr.prototype._createCustomGraphicInput=function(){var e=this._createDivElement(),t=this._createDivElement("progress-bar");return t.append(this._createInput()),t.append(this._createLegendElements()),e.append(t),e.append(this._createClearElement()),e},Tr.prototype._createInput=function(){var e=this,t=pjQuery("<input/>",{id:this._fieldId+"_range",type:"range",class:"progress-bar__selector",min:this._rangeMinValue-1,max:this._rangeMaxValue,value:this.getValue()&&!this.getValue().isEmpty()?Math.round(this.getValue().getValue()):this._rangeMinValue-1,"aria-labelledby":this._fieldId+"-label"});return t.on("change input",(function(){e._setValueFromRangeValue(pjQuery(this).val())})),t},Tr.prototype._createClearElement=function(){var e=this,t=pjQuery("<a/>",{id:this._fieldId+"_clear",href:"#",class:"link",text:this._clearText,tabindex:0,role:"button"});return t.click((function(t){t.preventDefault(),e._clearValue()})),t},Tr.prototype._createLegendElements=function(){return pjQuery("<div/>",{id:this._fieldId+"_legend",class:"progress-bar__indicator",tabindex:0,style:""}).append(this._createProgressLegend(),this._createTotalLegend())},Tr.prototype._createProgressLegend=function(){return pjQuery("<span/>",{id:this._fieldId+"_progressLegend",class:"progress-bar__indicator__current",text:this.getValue()&&!this.getValue().isEmpty()?this.getValue().getValue()+"%":""})},Tr.prototype._createTotalLegend=function(){return pjQuery("<span/>",{id:this._fieldId+"_totalLegend",class:"progress-bar__indicator__total",text:this._rangeMaxValue})},Tr.prototype._clearValue=function(){this._getFieldElement().val(null),pjQuery("#"+this._fieldId+"_range").val(this._rangeMinValue-1),this._emptyLegendValues(),this._triggerEvent("input")},Tr.prototype._setValue=function(e){pjQuery("#"+this._fieldId+"_range").val(e),pjQuery("#"+this._fieldId+"_range").change()},Tr.prototype._setValueFromRangeValue=function(e){e=(e=Math.round(e))<this._rangeMinValue?this._rangeMinValue:e,this._updateLegendValues(e),Er.prototype._setValueToOriginalInput.call(this,e)},Tr.prototype._updateLegendValues=function(e){pjQuery("#"+this._fieldId+"_progressLegend").text(e),document.getElementById(this._fieldId+"_legend").style.left="calc("+e+"% + "+(8-.15*e)+"px)"},Tr.prototype._emptyLegendValues=function(){pjQuery("#"+this._fieldId+"_progressLegend").text(""),document.getElementById(this._fieldId+"_legend").style.left=null},Tr.prototype._getPercentageByNumberValue=function(e){return Math.round(100*e/this._rangeMaxValue)};const Pr=Tr;n(2842),n(34);function Or(e,t){Er.call(this,e,t),this._numRatings=this.getSetting("numRatings"),this._numDecimals=this.getSetting("numDecimals"),this._starsText=this.getSetting("starsText"),this._value=null}Or.TYPE="NumberStarsField",Or.prototype=Object.create(Er.prototype),Or.prototype.getType=function(){return Or.TYPE},Or.prototype._buildClonedFieldForNewTableRow=function(e,t){return new Or(e,this.getFieldSettings())},Or.prototype._createCustomGraphicInput=function(){var e=this._createDivElement(this._fieldId+"_graphicContainer");return e.append(this._createIcons()),e.append(this._createClearElement()),e.attr("aria-labelledby",this._fieldId+"-label"),e.attr("tabindex",0),e},Or.prototype._createIcons=function(){for(var e=this._createDivElement(this._fieldId+"_containerIcons stars-rating",-1),t=this._numRatings;t>=0;t--){var n=this._createIconElement(t);e.append(n.children())}return e},Or.prototype._createIconElement=function(e){var t=this,n=this._createDivElement("iconContainer"),i=pjQuery("<input/>",{id:this._fieldId+"_icon_"+e,type:"radio",name:this._fieldId+"_radioIconStar",value:e,class:"visibility--hidden--visually",tabindex:0});i.change((function(){this.checked&&t._setValueFromRatingValue(pjQuery(this).val())}));var r=pjQuery("<label/>",{id:this._fieldId+"_iconLabel_"+e,for:this._fieldId+"_icon_"+e,class:e?"stars-rating__star":"stars-rating__star--zero",tabindex:-1}).append(pjQuery("<span/>",{text:this._getNumberValueFromRating(e)+" "+this._starsText,class:e?"visibility--hidden--visually":"stars-rating__star--zero--hidden"}));return n.append(i,r),n},Or.prototype._createClearElement=function(){var e=this,t=pjQuery("<a/>",{id:this._fieldId+"_clear",href:"#",class:"link",text:this._clearText,tabindex:0,role:"button"});return t.click((function(t){t.preventDefault(),e._clearValue()})),t},Or.prototype._isEmptyValue=function(){return void 0===this._value||null===this._value},Or.prototype._setValueFromRatingValue=function(e){this._value=this._getNumberValueFromRating(e),Er.prototype._setValueToOriginalInput.call(this,Number(this._value))},Or.prototype._setValue=function(e){var t=this._getRatingFromNumberValue(e);t>=0&&(pjQuery("#"+this._fieldId+"_icon_"+t).prop("checked",!0),pjQuery("#"+this._fieldId+"_icon_"+t).change())},Or.prototype._clearValue=function(){this._value=null,this._getFieldElement().val(null),pjQuery("#"+this._fieldId+"_icon_0").prop("checked",!0),this._triggerEvent("input")},Or.prototype._getNumberValueFromRating=function(e){var t=e/this._numRatings*(this._rangeMaxValue-this._rangeMinValue);return null===(t=Number(this._rangeMinValue)+t)?t:this._removeInsignificantTrailingDecimals(Number(t).toFixed(this._numDecimals))},Or.prototype._getRatingFromNumberValue=function(e){if(null===e)return e;var t=Number(e),n=Number(this._rangeMinValue),i=Number(this._rangeMaxValue),r=Number(this._numRatings);if(t<=n)return n;var o=Math.abs(n-t);return o=o/(i-n)*r,Math.round(o)},Or.prototype._removeInsignificantTrailingDecimals=function(e){return Number(e).toString()};const Cr=Or;function Dr(e){return Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dr(e)}function kr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function jr(){return jr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=Ar(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},jr.apply(this,arguments)}function Ar(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Nr(e)););return e}function xr(e,t){return xr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xr(e,t)}function Rr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Nr(e);if(t){var r=Nr(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Vr(this,n)}}function Vr(e,t){if(t&&("object"===Dr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Nr(e){return Nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Nr(e)}var Lr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xr(e,t)}(o,e);var t,n,i,r=Rr(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,e,t))._hasPhotoPreviewByDefault=n.getSetting("hasPhotoPreviewByDefault"),n._isSocialLoginWithPhoto=n.getSetting("isSocialLoginWithPhoto"),n}return t=o,(n=[{key:"_postRegister",value:function(){this._hasPhotoPreviewByDefault&&!this._shouldHideFileInputByDefault&&this._addFileInputListeners(),this._isSocialLoginWithPhoto&&this._showPhotoFileInputCancelButton(),this._resetPreviewAndFileLoaders(),jr(Nr(o.prototype),"_postRegister",this).call(this)}},{key:"getType",value:function(){return o.TYPE}},{key:"setSocialLoginPhoto",value:function(e){if(this._hasPreviewEnabled()){var t=document.getElementById("fileInputContainer_"+this._fieldId),n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("id","photoDefaultPreviewImage_"+this._fieldId),n.setAttribute("value",e);var i=document.createElement("input");i.setAttribute("type","hidden"),i.setAttribute("class","photoFieldIsSocialLogin"),i.setAttribute("value","1"),t&&(t.append(n),t.append(i)),this._setPreview(e),this._showPhotoFileInputCancelButton()}}},{key:"_buildClonedFieldForNewTableRow",value:function(e,t){return new o(e,this.getFieldSettings())}},{key:"_hasDefaultPreviewImage",value:function(){return this._getDefaultPreviewImageElement()}},{key:"_getDefaultPreviewImageElement",value:function(){return document.getElementById("photoDefaultPreviewImage_"+this._fieldId)}},{key:"_getDefaultPreviewValue",value:function(){var e=this._getDefaultPreviewImageElement();return e?e.getAttribute("value"):null}},{key:"_getPreviewContainerElement",value:function(){return document.getElementById("photoPreviewContainer_"+this._fieldId)}},{key:"_setPreviewAsUnselected",value:function(){var e=this._getPreviewContainerElement();e&&(e.classList.remove("photoPreviewSelected"),e.classList.add("photoPreviewUnselected"))}},{key:"_setPreviewAsSelected",value:function(){var e=this._getPreviewContainerElement();e&&(e.classList.remove("photoPreviewUnselected"),e.classList.add("photoPreviewSelected"))}},{key:"_onFileChanged",value:function(){var e=this,t=0,n=this._getCurrentFiles();if(n&&n.length>0&&(t=n[0].size),t>0&&t>this._maxFileSize&&alert(this._errorToShowIfSizeExceeded),n&&n[0]){this._resetPreviewAndFileLoaders(!1),this._showPhotoFileInputCancelButton(),this._onPhotoFileInputNewPhotoSelected();var i=new FileReader;i.onload=function(t){return e._setPreview(t.target.result)},i.readAsDataURL(n[0])}}},{key:"_resetPreviewAndFileLoaders",value:function(e){void 0===e&&(e=!0),e&&this._removePhotoFileInputUploadedFile(),new at(this._fieldId).cleanExternalFileInfo(),this._hasDefaultPreviewImage()?this._setPreview(this._getDefaultPreviewValue()):(this._setPreviewAsUnselected(),this._removePreviewImg())}},{key:"_removePhotoFileInputUploadedFile",value:function(){this._getFieldElement().val(null),this._hidePhotoFileInputCancelButton()}},{key:"_hidePhotoFileInputCancelButton",value:function(){if(!this._existsSocialLoginLoadedPhoto()){var e=this._getCancelButtonElement();e&&(e.style.display="none")}}},{key:"_existsSocialLoginLoadedPhoto",value:function(){return document.querySelector(".photoFieldIsSocialLogin")&&this._hasDefaultPreviewImage()}},{key:"_removePreviewImg",value:function(){var e=this._getPhotoPreviewImgElement();e&&e.remove()}},{key:"_setPreview",value:function(e){this._setPreviewAsSelected(),this._removePreviewImg();var t=document.createElement("img");t.setAttribute("id","photoPreview_"+this._fieldId),t.setAttribute("class","photoInputPreview"),t.setAttribute("src",e),t.setAttribute("alt","User photo preview");var n=this._getPreviewContainerElement();n&&n.append(t)}},{key:"_getCancelButtonElement",value:function(){return document.getElementById("fileInputCancelButton_"+this._fieldId)}},{key:"_showPhotoFileInputCancelButton",value:function(){var e=this._getCancelButtonElement();e&&(e.style.display="")}},{key:"_onPhotoFileInputNewPhotoSelected",value:function(){this._existsSocialLoginLoadedPhoto()&&this._disableSocialLoginPhotoAutoImportAndRemoveDefaultImage()}},{key:"_disableSocialLoginPhotoAutoImportAndRemoveDefaultImage",value:function(){var e=document.createElement("input");e.setAttribute("type","hidden"),e.setAttribute("name","photoFieldSocialAutoImportPhotoRemoved"),e.setAttribute("value","1");var t=document.getElementById("fileInputContainer_"+this._fieldId);t&&t.append(e),document.querySelectorAll(".photoFieldIsSocialLogin").forEach((function(e){return e.remove()}));var n=this._getDefaultPreviewImageElement();n&&n.remove()}},{key:"_addFileInputListeners",value:function(){var e=this,t=this._getCancelButtonElement();t&&t.addEventListener("click",(function(){return e._onPhotoFileInputCancelButtonClicked()})),this._getFieldElement().on("click",(function(e){self._resetPreviewAndFileLoaders()}))}},{key:"_getPhotoPreviewValue",value:function(){var e=this._getPhotoPreviewImgElement();return e?e.getAttribute("src"):""}},{key:"_onPhotoFileInputCancelButtonClicked",value:function(){this._existsSocialLoginLoadedPhoto()&&this._currentPhotoPreviewIsTheSameAsTheDefaultOne()&&this._disableSocialLoginPhotoAutoImportAndRemoveDefaultImage(),this._resetPreviewAndFileLoaders()}},{key:"_currentPhotoPreviewIsTheSameAsTheDefaultOne",value:function(){return this._getPhotoPreviewImgElement()&&this._getDefaultPreviewValue()==this._getPhotoPreviewValue()}},{key:"_getPhotoPreviewImgElement",value:function(){return document.getElementById("photoPreview_"+this._fieldId)}},{key:"_hasPreviewEnabled",value:function(){return this._getPreviewContainerElement()}}])&&kr(t.prototype,n),i&&kr(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(wn);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Lr,"TYPE","PhotoField");const Mr=Lr;function Br(e){return Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Br(e)}function Qr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ur(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Yr(e,t){return Yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Yr(e,t)}function Wr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=zr(e);if(t){var r=zr(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Hr(this,n)}}function Hr(e,t){if(t&&("object"===Br(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function zr(e){return zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zr(e)}var qr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yr(e,t)}(o,e);var t,n,i,r=Wr(o);function o(){return Qr(this,o),r.apply(this,arguments)}return t=o,(n=[{key:"_shouldHaveHiddenElementIndicator",value:function(){return!1}},{key:"getType",value:function(){return this.TYPE}},{key:"_buildClonedFieldForNewTableRow",value:function(e,t){return new o(e,this.getFieldSettings())}},{key:"_postRegister",value:function(){this._buildVisibilityStatus()}}])&&Ur(t.prototype,n),i&&Ur(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(q);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(qr,"TYPE","PlainTextField");const Jr=qr;function Zr(e){return Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zr(e)}function $r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Kr(e,t){return Kr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Kr(e,t)}function Gr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=eo(e);if(t){var r=eo(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Xr(this,n)}}function Xr(e,t){if(t&&("object"===Zr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function eo(e){return eo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},eo(e)}var to=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kr(e,t)}(o,e);var t,n,i,r=Gr(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,t))._setPostalCode(e),n}return t=o,(n=[{key:"getType",value:function(){return o.TYPE}},{key:"toString",value:function(){return JSON.stringify({postalCode:this._postalCode.toString(),radius:this._radius.toString()})}},{key:"getPostalCode",value:function(){return this._postalCode}},{key:"_setPostalCode",value:function(e){c.assertIsValid(e),this._postalCode=e}}])&&$r(t.prototype,n),i&&$r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Ti);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(to,"TYPE","FieldPostalCodeRadiusValue");const no=to;function io(e){return io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},io(e)}function ro(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ao(){return ao="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=so(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},ao.apply(this,arguments)}function so(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=po(e)););return e}function lo(e,t){return lo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},lo(e,t)}function uo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=po(e);if(t){var r=po(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return co(this,n)}}function co(e,t){if(t&&("object"===io(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function po(e){return po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},po(e)}var ho=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lo(e,t)}(o,e);var t,n,i,r=uo(o);function o(){return ro(this,o),r.apply(this,arguments)}return t=o,n=[{key:"_getAllowedValueTypesToSet",value:function(){return[no.TYPE]}},{key:"getType",value:function(){return o.TYPE}},{key:"getValue",value:function(){var e=v.getFieldValue(this._getPostalCodeId()),t=v.getFieldValue(this.getRadiusId());return e.isEmpty()||t.isEmpty()?new p:new no(e,t)}},{key:"getValueForCondition",value:function(){return[document.getElementById(this._getPostalCodeId()).selectedOptions[0].text].concat(ao(po(o.prototype),"getValueForCondition",this).call(this))}},{key:"setValue",value:function(e){ao(po(o.prototype),"setValue",this).call(this,e),v.setFieldValue(this._getPostalCodeId(),e.getPostalCode())}},{key:"_buildClonedFieldForNewTableRow",value:function(e,t){return new o(e,this.getFieldSettings())}},{key:"_getDepedentFieldsMetadata",value:function(){return[this._createFieldMetadata(this._getPostalCodeId(),this._getPostalCodeSuffix())].concat(ao(po(o.prototype),"_getDepedentFieldsMetadata",this).call(this))}},{key:"_getPostalCodeId",value:function(){return this.getFieldId()+this._getPostalCodeSuffix()}},{key:"_getPostalCodeSuffix",value:function(){return this._getFieldSuffix()+"_postalCode"}},{key:"_getFieldSuffix",value:function(){return""}}],n&&oo(t.prototype,n),i&&oo(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(mi);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ho,"TYPE","PostalCodeRadiusField");const fo=ho;function yo(e,t){ue.call(this,e,t)}yo.TYPE="RadioButtonListField",yo.prototype=Object.create(ue.prototype),yo.prototype._getAllowedValueTypesToSet=function(){return[te.TYPE,Z.TYPE]},yo.prototype.getType=function(){return yo.TYPE},yo.prototype.getValue=function(){var e=this._getSelectedElements();if(0===e.length)return new p;var t=null,n=null;return e.each((function(){t=pjQuery(this).val(),n=pjQuery(this).data("option-name").toString()})),new ie(t,n)},yo.prototype.getValueForCondition=function(){var e=[];return this._getSelectedElements().each((function(){e.push(pjQuery(this).val())})),e},yo.prototype.setValue=function(e){this._assertIsAllowedValueToSet(e);var t=pjQuery('input[type="radio"]',this._getFieldElement());switch(e.getType()){case te.TYPE:this._datasource.fetchOptionsById([e.getOptionId()],(function(e){t.filter((function(){return e.find((function(e){return e.id==pjQuery(this).val()}),this)})).prop("checked",!0).trigger("change")}));break;case Z.TYPE:this._datasource.fetchOptionsByValue([e.getValue()],(function(e){t.filter((function(){return e.find((function(e){return e.name==pjQuery(this).data("option-name")}),this)})).prop("checked",!0).trigger("change")}));break;default:throw new Error("modeNotSupported")}},yo.prototype._getSelectedElements=function(){return this._getFieldElement().find("input:checked")},yo.prototype._attachOnChangeListener=function(){var e=this;pjQuery("#"+this._fieldId).on("change","input",(function(){v.onFieldValueChange(e.getFieldId())}))},yo.prototype._getOptionsPage=function(){return null},yo.prototype._getOptionsPageSize=function(){return null},yo.prototype._createWithNewOptions=function(e){var t=this;this._removeAllOptions();var n=this._getFieldElement();e.forEach((function(e){var i=pjQuery("<input />").attr("id",t._buildOptionHtmlId(e.id)).attr("type","radio").attr("name",t._fieldId).attr("value",e.id).attr("data-option-name",e.name);e.isSelected&&i.attr("checked","checked");var r=pjQuery("<label>").attr("for",t._buildOptionHtmlId(e.id)).append(i,e.name,pjQuery('<div class="cb" />'));n.append(r)})),this._attachOnChangeListener()},yo.prototype._removeAllOptions=function(){this._getFieldElement().find("label, div.cb").remove()},yo.prototype._buildClonedFieldForNewTableRow=function(e,t){return this._cloneDatasourceForNewTableRow(e,t),new yo(e,this.getFieldSettings())},yo.prototype._isPrePopulateEnabled=function(){return"1"===pjQuery("#"+this.getFieldId()).attr("data-prePopulate")},yo.prototype._prePopulateIfOnlyOneOption=function(){var e=pjQuery("#"+this.getFieldId()).find("input");1===e.length&&this.setValue(new te(e[0].value))};const go=yo;n(533),n(2135),n(9905);function _o(e){return _o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_o(e)}function mo(){}mo.prototype.element=function(e,t,n){var i=document.createElement(e);for(var r in t){var o=t[r];if("style"==r&&"object"===_o(o))for(var a in o){var s=a.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}));i.style[s]=o[a]}else"function"==typeof o&&"on"===r.substr(0,2)?i.addEventListener(r.substr(2),o,!1):i.setAttribute(r,o)}if(n){var l=this;n.map((function(e){i.appendChild(l._getDomNodeFromChild(e))}))}return i},mo.prototype._getDomNodeFromChild=function(e){return"string"==typeof e?document.createTextNode(e):e.getDomNode?e.getDomNode():e};const vo=mo;function bo(e,t,n,i,r){this.callback=e,this.title=t,this.label=n,this.extraCssClass=i,this.useNote=r,this.domNode=this._render(),this.setNote(null)}bo.prototype=new vo,bo.prototype.getDomNode=function(){return this.domNode},bo.prototype.setTitle=function(e){this._getAnchorElement().innerHTML=e},bo.prototype.setLabel=function(e){this._getAnchorElement().ariaLabel=e},bo.prototype.onClick=function(e){e.preventDefault(),this.callback()},bo.prototype._render=function(){var e=this.element("div",{class:"VideoInputControlsItem "+this.extraCssClass},[this.element("a",{href:"#",onclick:this.onClick.bind(this),class:"VideoInputToolbarBtn",role:"button",ariaLabel:this.label},[this.title])]);return this.useNote&&e.appendChild(this.noteSpan=this.element("span",{class:"VideoControlNote"})),e},bo.prototype.setNote=function(e){this.noteSpan&&(this.noteSpan.innerHTML=e,this.noteSpan.style.display=e?null:"none")},bo.prototype._getAnchorElement=function(){return this.domNode.firstElementChild};const Fo=bo;function wo(e){this.maxSeconds=e,this.domNode=this._render()}wo.prototype=new vo,wo.prototype.getDomNode=function(){return this.domNode},wo.prototype.start=function(){this.startTime=(new Date).getTime(),this.endTime=null,this.timerStarted||(this.timerStarted=!0,this.interval=setInterval(this._onInterval.bind(this),100))},wo.prototype.stop=function(){this.endTime=(new Date).getTime(),this.timerStarted=!1,clearInterval(this.interval)},wo.prototype._onInterval=function(){if(this.startTime){var e=this.endTime?this.endTime-this.startTime:(new Date).getTime()-this.startTime,t=Math.floor(e/1e3);this.elapsedText.nodeValue=this._formatDuration(t),this.remainingText.nodeValue=this._formatDuration(Math.max(0,this.maxSeconds-t))}else this.elapsedText.nodeValue="",this.remainingText.nodeValue=""},wo.prototype._render=function(){return this.elapsedText=document.createTextNode(""),this.remainingText=document.createTextNode(""),this.element("div",{class:"VideoInputTime"},[this.element("div",{class:"VideoInputElapsedTime",role:"timer"},[this.elapsedText]),this.element("div",{class:"VideoInputRemainingTime",role:"timer"},[this.remainingText])])},wo.prototype._formatDuration=function(e){var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),i=Math.floor(e-3600*t-60*n);return t<10&&(t="0"+t),n<10&&(n="0"+n),i<10&&(i="0"+i),t+":"+n+":"+i};const Io=wo;function So(e,t,n,i,r,o){this.lang=e,this.maxSeconds=t,this.hasRecording=n,this.onRecClick=i,this.onStopClick=r,this.onPlayClick=o,this.domNode=this._render(),this._updateRecordButtonText()}So.prototype=new vo,So.prototype.getDomNode=function(){return this.domNode},So.prototype.setHasRecording=function(e){this._hasRecording=e,this._updateRecordButtonText()},So.prototype.onClick=function(e){e.preventDefault(),this.callback()},So.prototype._updateRecordButtonText=function(){this.recButton.setTitle(this._getRecordButtonTitle()),this.recButton.setLabel(this._getRecordButtonLabel()),this._hasRecording?this.recButton.setNote(this._getRecordButtonLabel()):this.recButton.setNote(null)},So.prototype._getRecordButtonTitle=function(){return this._hasRecording?this.lang.recAgainButtonTitle:this.lang.recButtonTitle},So.prototype._getRecordButtonLabel=function(){return this._hasRecording?this.lang.recAgainButtonLabel:this.lang.recButtonLabel},So.prototype.startTimer=function(){this.videoTimer.start()},So.prototype.stopTimer=function(){this.videoTimer.stop()},So.prototype._render=function(){return this.recButton=new Fo(this.onRecClick,this._getRecordButtonTitle(),this._getRecordButtonLabel(),"VideoInputRec",!0),this.stopButton=new Fo(this.onStopClick,this.lang.stopButtonTitle,this.lang.stopButtonTitle,"VideoInputStop",!1),this.playButton=new Fo(this.onPlayClick,this.lang.playButtonTitle,this.lang.playButtonTitle,"VideoInputPlay",!1),this.videoTimer=new Io(this.maxSeconds),this.element("div",{class:"VideoInputToolbar"},[this.element("div",{class:"VideoInputControlsContainer"},[this.recButton,this.stopButton,this.playButton]),this.videoTimer])};const Eo=So;function To(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function Po(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){To(o,i,r,a,s,"next",e)}function s(e){To(o,i,r,a,s,"throw",e)}a(void 0)}))}}function Oo(e,t,n,i,r){this.lang=e,this.onblobready=t,this.maxSeconds=n,this.blobUrl=i,this.downloadUrl=i,this.dontAllowToReRecord=!!r,this.domNode=this._render(),this.webmType="video/webm;codecs=vp8,opus";this.mimeType=MediaRecorder.isTypeSupported(this.webmType)?this.webmType:"video/mp4;codecs:avc1.42E01F",this.shortMimeType=this.mimeType.replace(/;.*/,""),this.mediaReady=null,i&&(this.paused=!0,this._playRecording(!0)),this._updateClassList()}Oo.prototype=new vo,Oo.startedInput=null,Oo.prototype._isVisible=function(e){return"none"!==window.getComputedStyle(e).getPropertyValue("display")&&(!e.parentNode||e===document.body||this._isVisible(e.parentNode))},Oo.prototype.startWebcamIfInDomAndNobodyElseHasIt=function(){this.downloadUrl||!document.body.contains(this.domNode)||!this._isVisible(this.domNode)||Oo.startedInput&&Oo.startedInput.videoElement.srcObject||this._startWebcam()},Oo.prototype.removeVideo=function(){this.stopRecording(),this._stopWebcam(),this.downloadUrl=null,this.blobUrl=null,this.videoElement.pause(),this.videoElement.removeAttribute("src"),this.videoElement.load(),this.toolbar.setHasRecording(!1),this.startWebcamIfInDomAndNobodyElseHasIt(),this._updateClassList()},Oo.prototype._stopWebcam=function(){this.videoElement.srcObject&&(this.videoElement.srcObject=null,this.webcamStarted=!1,this.mediaReady=null)},Oo.prototype.handleHide=function(){this.stopRecording(),this._stopWebcam(),this.videoElement.pause()},Oo.prototype.handleShow=function(){var e=this;setTimeout((function(){e.startWebcamIfInDomAndNobodyElseHasIt()}),0)},Oo.prototype.isRecording=function(){return!!this.mediaRecorder},Oo.prototype.getDomNode=function(){return this.domNode},Oo.prototype._setCutOffTimeout=function(){this.cutOffTimeout=setTimeout(this._onCutOffTimeout.bind(this),1e3*this.maxSeconds)},Oo.prototype._clearCutOffTimeout=function(){this.cutOffTimeout&&(clearTimeout(this.cutOffTimeout),this.cutOffTimeout=null)},Oo.prototype._onCutOffTimeout=function(){this.cutOffTimeout=null,this.stopRecording()},Oo.prototype._onDataAvailable=function(e){e.data.size>0&&(this.blob=e.data,this.blobUrl=URL.createObjectURL(this.blob),this.onblobready(this.blob,this.mimeType===this.webmType?"webm":"mp4",this.shortMimeType),this._updateClassList())},Oo.prototype._startRecording=Po(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._hasRecording()||!this.dontAllowToReRecord){e.next=2;break}return e.abrupt("return");case 2:if(this.isRecording()){e.next=7;break}return e.next=5,this._startWebcam();case 5:this.mediaReady?this._continueStartingRecording():this.continueRecordingOnMediaReady=!0,this._updateClassList();case 7:this.domNode.dispatchEvent(new Event("startrecording"));case 8:case"end":return e.stop()}}),e,this)}))),Oo.prototype._continueStartingRecording=function(){this.continueRecordingOnMediaReady=!1,this.blobUrl&&(URL.revokeObjectURL(this.blobUrl),this.blobUrl=null);var e={audioBitsPerSecond:96e3,videoBitsPerSecond:4e5,mimeType:this.mimeType};this.mediaRecorder=new MediaRecorder(this.stream,e),this.mediaRecorder.ondataavailable=this._onDataAvailable.bind(this),this.mediaRecorder.ignoreMutedMedia=!0,this.mediaRecorder.start(),this.toolbar.startTimer(),this._setCutOffTimeout(),this._updateClassList()},Oo.prototype._hasRecording=function(){return!!this.blobUrl},Oo.prototype._updateClassList=function(){var e=this._hasRecording(),t=e&&!this.isRecording()&&!this.videoElement.srcObject&&!this.videoElement.ended&&!this.paused,n=this._getVideoInputElement().classList;n.toggle("VideoInputHasRecording",e),n.toggle("VideoInputIsRecording",this.isRecording()),n.toggle("VideoInputIsPlaying",t),n.toggle("VideoInputIsIdle",!t&&!this.isRecording()),n.toggle("VideoInputBusy",!1===this.mediaReady),n.toggle("VideoRecordNotAllowed",e&&this.dontAllowToReRecord)},Oo.prototype.stopRecording=function(){this.continueRecordingOnMediaReady=!1,this.isRecording()&&(this._clearCutOffTimeout(),this.toolbar.stopTimer(),this.mediaRecorder.stop(),this.mediaRecorder=null,this.toolbar.setHasRecording(!0),this._updateClassList())},Oo.prototype._playRecording=function(e){this.continueRecordingOnMediaReady=!1,this._stopWebcam(),this.videoElement.controls=!0,this.videoElement.src=this.blobUrl,this.videoElement.muted=!1,e||this.videoElement.play(),this._updateClassList()},Oo.prototype._startWebcam=function(){if(Oo.startedInput&&Oo.startedInput!==this&&Oo.startedInput.videoElement.srcObject&&Oo.startedInput._stopWebcam(),Oo.startedInput=this,!this.webcamStarted)return this._getVideoInputElement().classList.add("VideoInputBusy"),this.mediaReady=!1,this.webcamStarted=!0,navigator.mediaDevices.getUserMedia({audio:!0,video:{width:640,height:360,facingMode:"user"}}).then(this._onMediaReady.bind(this)).catch(this._onMediaError.bind(this))},Oo.prototype.isMediaReady=function(){return this.mediaReady},Oo.prototype._onMediaReady=function(e){this.stream=e,this.videoElement.controls=!1,this.videoElement.muted=!0,this.videoElement.srcObject=this.stream,this.videoElement.play(),this.mediaReady=!0,this._updateClassList(),this.continueRecordingOnMediaReady&&this._continueStartingRecording()},Oo.prototype._onMediaError=function(e){console.error(e),alert(this.lang.cannotStartWebcam),this.mediaReady=!1},Oo.prototype.addListener=function(e,t){this.domNode.addEventListener(e,t)},Oo.prototype._createVideoElement=function(){var e=this;return this.element("video",{playsinline:"",class:"VideoInputVideo",onended:function(){e._updateClassList()},onpause:function(){e.paused=!0,e._updateClassList()},onplay:function(){e.paused=!1,e._updateClassList()}})},Oo.prototype._getVideoInputElement=function(){return this.domNode.firstElementChild},Oo.prototype._render=function(){return this.videoElement=this._createVideoElement(),this.toolbar=new Eo(this.lang,this.maxSeconds,!!this.blobUrl,this._startRecording.bind(this),this.stopRecording.bind(this),this._playRecording.bind(this)),this.element("div",{class:"VideoContainer"},[this.element("div",{class:"VideoInput VideoInputBusy"},[this.videoElement,this.toolbar])])};const Co=Oo;function Do(e){return Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Do(e)}function ko(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return jo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jo(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function jo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ao(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function xo(){return xo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=Ro(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},xo.apply(this,arguments)}function Ro(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Mo(e)););return e}function Vo(e,t){return Vo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Vo(e,t)}function No(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Mo(e);if(t){var r=Mo(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Lo(this,n)}}function Lo(e,t){if(t&&("object"===Do(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Mo(e){return Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Mo(e)}var Bo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vo(e,t)}(o,e);var t,n,i,r=No(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,e,t))._translations=n.getSetting("translations"),n._regularUploadMaxFileSize=n.getSetting("regularUploadMaxFileSize"),n._maxSeconds=n.getSetting("maxSeconds"),n._isLargeFilesUploadAllowed=n.getSetting("isLargeFilesUploadAllowed"),n._savedVideoUrl=n.getSetting("savedVideoUrl"),n._delayedLabelSettings=n.getSetting("delayedLabelSettings"),n._isLabelVisible=!n._delayedLabelSettings,n._file=null,n._videoInput=null,n}return t=o,(n=[{key:"getType",value:function(){return o.TYPE}},{key:"addRemoveButton",value:function(){this._removeButtonBuilder&&this._removeButtonBuilder.addRemoveButton()}},{key:"_getRemoveButtonClickEventListener",value:function(){var e=this;return function(){return e._videoInput.removeVideo()}}},{key:"_buildClonedFieldForNewTableRow",value:function(e,t){return new o(e,this.getFieldSettings())}},{key:"_mustUseStandardFileInput",value:function(){return!window.MediaRecorder||!navigator.mediaDevices}},{key:"_postRegister",value:function(){if(!this._mustUseStandardFileInput()){var e=this._getFileInput();this._videoInput=new Co(this._translations,this._onRecordingAvailable.bind(this),this._maxSeconds,this._savedVideoUrl,!!this._delayedLabelSettings),this._videoInput.addListener("startrecording",this._onStartRecording.bind(this)),e.parentNode.insertBefore(this._videoInput.getDomNode(),e),this._videoInput.startWebcamIfInDomAndNobodyElseHasIt(),this._preventOpeningFileUploadWindow(),this._stopRecordingBeforeSubmit(),xo(Mo(o.prototype),"_postRegister",this).call(this)}}},{key:"_getFileInput",value:function(){return this._getFieldElement()[0]}},{key:"_onRecordingAvailable",value:function(e,t,n){this._file=new File([e],"recording."+t,{type:n,lastModified:(new Date).getTime()});var i=this._getFileInput();if(this._file.size>this._regularUploadMaxFileSize||this._isLargeFilesUploadAllowed)i.uploadThisFileAsBig=this._file;else{var r=new DataTransfer;r.items.add(this._file),i.files=r.files}this._triggerEvent("change")}},{key:"_onStartRecording",value:function(){if(this._delayedLabelSettings&&!this._isLabelVisible){var e=document.getElementById("fieldSpecContainer"+this.getFieldId());e&&(this._setDelayedLabel(e),this._setDelayedDescription(e,["formdescription","description"]),this._isLabelVisible=!0)}}},{key:"_setDelayedLabel",value:function(e){var t=document.getElementById(this.getFieldId()+"-label");t&&(e.classList.remove("FileSchemaFieldRecordVideo--waiting"),t.innerText=this._b64DecodeUnicode(this._delayedLabelSettings.obfuscatedLabel))}},{key:"_setDelayedDescription",value:function(e,t){var n,i=ko(t);try{for(i.s();!(n=i.n()).done;){var r=n.value,o=e.getElementsByClassName(r);if(o.length>0)return o[0].prepend(this._b64DecodeUnicode(this._delayedLabelSettings.obfuscatedDescription)),!0}}catch(e){i.e(e)}finally{i.f()}return!1}},{key:"_getCurrentFiles",value:function(){if(this._videoInput&&this._file){var e=[];return this._file&&e.push(this._file),e}return xo(Mo(o.prototype),"_getCurrentFiles",this).call(this)}},{key:"hide",value:function(){xo(Mo(o.prototype),"hide",this).call(this),this._videoInput&&this._videoInput.stopRecording()}},{key:"onFormStepVisibilityChange",value:function(e){this._videoInput&&(e?this._videoInput.handleHide():this._videoInput.handleShow())}},{key:"_stopRecordingBeforeSubmit",value:function(){var e=this;In.default.getInstance().addActionBeforeSubmit((function(){if(!e._videoInput||!e._videoInput.isRecording())return null;var t=e._buildOnStopRecordingPromise();return e._stopRecording(),t}),e.getFieldId())}},{key:"_buildOnStopRecordingPromise",value:function(){var e=document.getElementById(this.getFieldId());return e?new Promise((function(t,n){e.onchange=function(e){t()}})):null}},{key:"_stopRecording",value:function(){this._videoInput&&this._videoInput.stopRecording()}},{key:"_b64DecodeUnicode",value:function(e){return decodeURIComponent(atob(e).replace(/0x([0-9A-F]{2})/g,"%$1"))}}])&&Ao(t.prototype,n),i&&Ao(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(wn);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Bo,"TYPE","RecordVideoField");const Qo=Bo;n(3460);function Uo(e,t){q.call(this,e,t),this._fieldId=e,this._datePickerContainerId=this.getSetting("datePickerContainerId"),this._companySelectorId=this.getSetting("companySelectorId"),this._prevMonthText=this.getSetting("prevMonthText"),this._nextMonthText=this.getSetting("nextMonthText"),this._relatedJobId=this.getSetting("relatedJobId"),this._minDateStr=this.getSetting("minDateStr"),this._maxDateStr=this.getSetting("maxDateStr"),this._locale=this.getSetting("locale"),this._eventsApiUrl=this.getSetting("eventsApiUrl"),this._initialMonth=this.getSetting("initialMonth"),this._initialYear=this.getSetting("initialYear"),this._isAccessibilityEnabled=this.getSetting("isAccessibilityEnabled"),this._showUserSchedulingTimezone=this.getSetting("showUserSchedulingTimezone"),this._currentSelectedDateText=this.getSetting("currentSelectedDateText"),this._currentSelectedSlotText=this.getSetting("currentSelectedSlotText"),this._slotDescriptionText=this.getSetting("slotDescriptionText"),this._useMilitaryTimeFormat=this.getSetting("useMilitaryTimeFormat"),this._firstDay=this.getSetting("firstDay"),this._dates=[],this._keepCurrentValue=!1,this._widget=null,this._datePicker=null,this._lastSelectedDateText=null,this._lastFetchedMonth=null,this._lastFetchedYear=null}Uo.TYPE="SchedulingField",Uo.prototype=Object.create(q.prototype),Uo.prototype._getAllowedValueTypesToSet=function(){return[]},Uo.prototype.getType=function(){return Uo.TYPE},Uo.prototype._postRegister=function(){var e=this;this._locale=this._locale.toLowerCase().replace("_","-"),e._initWidget(),""!==this._companySelectorId&&pjQuery("#"+this._companySelectorId).change((function(){e._applyCompanyFilter()})),q.prototype._postRegister.call(this)},Uo.prototype.getValue=function(){return new Z("")},Uo.prototype.getValueForCondition=function(){return this._isTimeSlotSelected()},Uo.prototype.setValue=function(e){this._assertIsAllowedValueToSet(e)},Uo.prototype._isTimeSlotSelected=function(){return Boolean(this._getValueId()&&this._getValueTimestamp()&&this._getValueSlotPartitionNumber())},Uo.prototype._buildClonedFieldForNewTableRow=function(e,t){return new Uo(e,this.getFieldSettings())},Uo.prototype._checkAvailableDays=function(e){var t=parseInt(e.getDate()),n=parseInt(e.getMonth()+1);for(var i in this._dates)if(this._dates.hasOwnProperty(i)&&parseInt(this._dates[i][1])===n&&parseInt(this._dates[i][2])===t)return[!0,"selectable-day"];return[!0,"not-selectable-day"]},Uo.prototype._updateAvailabilityForText=function(e){var t=Xn.ou.fromFormat(e,"yyyy-MM-dd").setLocale(this._locale).toFormat("DDDD");pjQuery("#"+this._datePickerContainerId).parent().find(".results .currentDay").html(t)},Uo.prototype._updateResults=function(e){this._updateAvailabilityForText(e),this._showLoading();var t=e.split("-");this._updateDayCalendar(parseInt(t[2]),parseInt(t[1]),parseInt(t[0]))},Uo.prototype._updateDayCalendar=function(e,t,n){this._widget.find(".results .resultsList").html("");var i=this._widget.find('.schedulerDatePicker td[data-month="'+(t-1)+'"]:contains("'+e+'")').filter((function(){return pjQuery(this).text()==e}));if(i.length>0&&i.hasClass("not-selectable-day"))this._showNoResults();else{var r=this,o="";""!==r._companySelectorId&&(o=', "companyFilter": '+pjQuery("#"+r._companySelectorId).val());var a=new Date,s=new Date(n,t-1,e);s=Math.floor(s.getTime()/1e3);var l=new Date(n,t-1,e,23,59,59);l=Math.floor(l.getTime()/1e3),pjQuery.ajax({contentType:"application/json",data:'{ "id": '+r._fieldId+', "jobId": '+r._relatedJobId+', "from": '+s+', "to": '+l+', "timezoneOffset": '+a.getTimezoneOffset()+o+"}",dataType:"json",type:"POST",url:r._eventsApiUrl}).done((function(n){r._drawItems(n,e,t)})).fail((function(){r._showNoResults()}))}},Uo.prototype._showLoading=function(){this._widget.find(".results .resultsList").attr("hidden",!0),this._widget.find(".results .noResults").attr("hidden",!0),this._widget.find(".results .form__loader").removeAttr("hidden")},Uo.prototype._showNoResults=function(){this._widget.find(".results .form__loader").attr("hidden",!0),this._widget.find(".results .resultsList").attr("hidden",!0),this._widget.find(".results .noResults").removeAttr("hidden"),this._widget.removeAttr("hidden"),this._resetValue()},Uo.prototype._showResults=function(){this._widget.find(".results .noResults").attr("hidden",!0),this._widget.find(".results .form__loader").attr("hidden",!0),this._widget.find(".results .resultsList").removeAttr("hidden"),this._widget.removeAttr("hidden")},Uo.prototype._generateRow=function(e){var t=pjQuery('<div class="resultItem"/>');if(t.attr("item_id",e.id),t.attr("item_timestamp",e.timestamp),e.availablePartitionNumbers){var n=Object.keys(e.availablePartitionNumbers);n.length>0&&t.attr("item_slotPartitionNumber",n[0])}if(this._keepCurrentValue&&e.id==this._getValueId()&&e.timestamp==this._getValueTimestamp()&&(t.addClass("selected"),this._keepCurrentValue=!1),t.append(pjQuery('<p class="title">'+e.title+"</p>")),e.hasTime){var i="";e.timeZone&&(i=pjQuery('<span class="timeZone"> '+e.initTimeWithZone+" - "+e.endTimeWithZone+' <span class="timeZoneLabel">'+e.timeZone+'</span> <span class="timeZoneOffset">'+e.timeZoneGMTMode+"</span></span>")[0].outerHTML);var r=Xn.ou.fromMillis(1e3*e.initTimestamp).toFormat(this._getTimeFormat()),o=Xn.ou.fromMillis(1e3*e.endTimestamp).toFormat(this._getTimeFormat()),a="";if(this._showUserSchedulingTimezone){var s=Xn.ou.now();a='<span class="localTimeZone">'+s.toFormat("z").replace("/"," - ")+" (GMT "+s.toFormat("ZZ")+")</span>"}t.append(pjQuery('<p class="time"><span class="timeLocal">'+r+" - "+o+" "+a+"</span> "+i+"</p>")),e.initTime=r,e.endTime=o}else{var l=pjQuery(this._widget.find(".results .allDay")[0].outerHTML).removeAttr("hidden");t.append(l)}return e.location&&t.append(pjQuery('<p class="location">'+e.location+"</p>")),this._makeResultItemRowAccessibleIfNeeded(t,e),t},Uo.prototype._drawItems=function(e,t,n){this._keepCurrentValue||this._resetValue();var i=this._datePicker.datepicker("getDate");if(i.getDate()==t&&i.getMonth()+1==n)if(0!==e.length){for(var r in e)if(e.hasOwnProperty(r)){var o=this._generateRow(e[r]);this._widget.find(".results .resultsList").append(o)}this._setClicksOnItems(),this._showResults()}else this._showNoResults()},Uo.prototype._setClicksOnItems=function(){var e=this;this._widget.find(".results .resultsList .resultItem").click((function(){if(pjQuery(this).hasClass("selected"))e._widget.find(".results .resultsList .resultItem").removeClass("selected"),e._resetValue();else{e._widget.find(".results .resultsList .resultItem").removeClass("selected");var t=pjQuery(this);e._setSelectedValue(t.attr("item_id"),t.attr("item_timestamp"),t.attr("item_slotPartitionNumber")),pjQuery(this).addClass("selected")}e._triggerEvent("change")}))},Uo.prototype._setSelectedValue=function(e,t,n){pjQuery("#"+this._fieldId+"id").val(e),pjQuery("#"+this._fieldId+"timestamp").val(t),pjQuery("#"+this._fieldId+"slotPartitionNumber").val(n)},Uo.prototype._resetValue=function(){pjQuery("#"+this._fieldId+"id").val(""),pjQuery("#"+this._fieldId+"timestamp").val(""),pjQuery("#"+this._fieldId+"slotPartitionNumber").val("")},Uo.prototype._getValueId=function(){return pjQuery("#"+this._fieldId+"id").val()},Uo.prototype._getValueTimestamp=function(){var e=pjQuery("#"+this._fieldId+"timestamp").val();return parseInt(e)},Uo.prototype._getValueSlotPartitionNumber=function(){var e=pjQuery("#"+this._fieldId+"slotPartitionNumber").val();return parseInt(e)},Uo.prototype._fetchItemsByMonth=function(e,t,n){var i=this;i._lastFetchedMonth=e,i._lastFetchedYear=t;var r=new Date,o=new Date(t,e-1,1);o=Math.floor(o.getTime()/1e3);var a=new Date(t,e,0,23,59,59);a=Math.floor(a.getTime()/1e3);var s="";""!==i._companySelectorId&&(s=', "companyFilter": '+pjQuery("#"+i._companySelectorId).val()),pjQuery.ajax({contentType:"application/json",data:'{ "id": '+i._fieldId+', "jobId": '+i._relatedJobId+', "from": '+o+', "to": '+a+', "timezoneOffset": '+r.getTimezoneOffset()+s+"}",dataType:"json",type:"POST",url:i._eventsApiUrl,async:!1}).done((function(e){i._saveMonthItems(e)})).fail((function(){i._saveMonthItems([])})).always((function(){n()}))},Uo.prototype._saveMonthItems=function(e){if(this._dates=[],0!==e.length){var t=this;pjQuery.each(e,(function(e,n){t._dates[e]=t._parseTimestamp(n.timestamp)}))}},Uo.prototype._parseTimestamp=function(e){return Xn.ou.fromSeconds(e).toFormat("yyyy-MM-dd").split("-")},Uo.prototype._setDatePickerLanguage=function(){this._setDatePickerLocale(this._locale)},Uo.prototype._initDatePicker=function(e){var t=e.toJSDate();this._setCurrentSelectedDateInTitle(t),this._widget=pjQuery("#"+this._datePickerContainerId).parent(),this._currentMonth=t.getMonth()+1,this._currentYear=t.getFullYear();var n=this;this._setDatePickerLanguage(),this._datePicker=pjQuery("#"+this._datePickerContainerId).datepicker({defaultDate:e.toJSDate(),dateFormat:"yy-mm-dd",nextText:n._nextMonthText,prevText:n._prevMonthText,showOtherMonths:!0,minDate:n._minDateStr,maxDate:n._maxDateStr,firstDay:n._firstDay,onSelect:function(e){n._setCurrentSelectedDateInTitle(new Date(e)),n._lastSelectedDateText=e,n._updateResults(e),setTimeout((function(){n._setAccessibilityPropertiesIfNeeded(),n._isAccessibilityEnabled&&(pjQuery("#"+n._fieldId+"_availability").focus(),pjQuery("#"+n._fieldId+"_availability").click())}),0)},onChangeMonthYear:function(e,t){n._currentMonth=t,n._currentYear=e,n._fetchItemsByMonth(t,e,(function(){setTimeout((function(){pjQuery(".ui-state-hover").removeClass("ui-state-hover")}),0)})),setTimeout((function(){n._setAccessibilityPropertiesIfNeeded()}),0)},beforeShowDay:function(e){return n._checkAvailableDays(e)}}),this._setAccessibilityPropertiesIfNeeded()},Uo.prototype._initWidget=function(){var e,t,n=null,i=this;if(""!=this._getValueId()){var r=this._getValueTimestamp();e=(n=Xn.ou.fromSeconds(r)).month,t=n.year,this._keepCurrentValue=!0}else if(""!=this._initialYear)e=this._initialMonth,t=this._initialYear;else{var o=Xn.ou.now();e=o.month,t=o.year}this._fetchItemsByMonth(e,t,(function(){if(null==n)if(0===i._dates.length)n=i._minDateStr?Xn.ou.fromFormat(i._minDateStr,"yyyy-MM-dd"):Xn.ou.now();else{var e=i._dates[0];n=Xn.ou.fromFormat(e[0]+"-"+e[1]+"-"+e[2],"yyyy-MM-dd")}i._initDatePicker(n),i._lastSelectedDateText=n.toFormat("yyyy-MM-dd"),i._updateResults(i._lastSelectedDateText)}))},Uo.prototype._applyCompanyFilter=function(){var e=this;e._fetchItemsByMonth(e._lastFetchedMonth,e._lastFetchedYear,(function(){pjQuery("#"+e._datePickerContainerId).datepicker("refresh"),e._updateResults(e._lastSelectedDateText),setTimeout((function(){e._setAccessibilityPropertiesIfNeeded()}),0)}))},Uo.prototype._isRegionLocale=function(e){return e.indexOf("-")>=0},Uo.prototype._getCountryLocale=function(e){return e.split("-")[0]},Uo.prototype._setDatePickerLocale=function(e){if(!pjQuery.datepicker.regional[e]){var t=PortalDate.getPortalDateInfo();pjQuery.datepicker.regional[e]={monthNames:t.getMonthsFullName(e),monthNamesShort:t.getMonthsShortName(e),dayNames:t.getDaysFullName(e,!0),dayNamesShort:t.getDaysShortName(e,!0),dayNamesMin:t.getDaysMinName(e,!0)}}pjQuery.datepicker.setDefaults(pjQuery.datepicker.regional[e])},Uo.prototype._setAccessibilityPropertiesIfNeeded=function(){this._isAccessibilityEnabled&&(this._makeMonthNavigationAccessible(),this._makeDayNavigationAccessible())},Uo.prototype._makeMonthNavigationAccessible=function(){var e=pjQuery("#"+this._datePickerContainerId),t=["a.ui-datepicker-prev.ui-corner-all","a.ui-datepicker-next.ui-corner-all"],n=Xn.ou.fromFormat(this._currentYear+"-"+this._currentMonth+"-01","yyyy-M-dd").plus({months:1}),i=Xn.ou.fromFormat(this._currentYear+"-"+this._currentMonth+"-01","yyyy-M-dd").minus({months:1});t.forEach((function(r){var o=e.find(r);"click"===o.attr("data-event")&&o.attr("tabindex",0);var a=-1!==r.indexOf("prev")?i.toFormat("LLLL yyyy"):n.toFormat("LLLL yyyy");o.attr("aria-label",o.attr("title")+": "+a),o.keypress((function(n){13===n.keyCode&&(this.click(),setTimeout((function(){var n=e.find(r);if("click"===n.attr("data-event"))n.focus();else{var i=t[0]===r?1:0;e.find(t[i]).focus()}}),0))}))}))},Uo.prototype._makeDayNavigationAccessible=function(){pjQuery("#"+this._datePickerContainerId).find(".ui-state-default").each((function(){var e=pjQuery(this),t=e.parent(),n=t.attr("data-month"),i=t.attr("data-year");if(n&&i){n=parseInt(n,10)+1;var r=parseInt(e.text()),o=Xn.ou.fromFormat(i+"-"+n+"-"+r,"yyyy-M-d");e.attr("aria-label",o.toFormat("DDDD"))}}))},Uo.prototype._setCurrentSelectedDateInTitle=function(e){var t=pjQuery("#"+this._fieldId+"_schedulingTitle");t.attr("aria-label",t.text()+": "+this._currentSelectedDateText+" "+Xn.ou.fromJSDate(e).toFormat("DDDD"))},Uo.prototype._makeResultItemRowAccessibleIfNeeded=function(e,t){if(this._isAccessibilityEnabled){var n=this._currentSelectedSlotText;e.attr("tabindex",0),e.attr("aria-label",this._formatAriaLabelDescriptionForSlotData(t)),e.keypress((function(t){if(13===t.keyCode){var i=pjQuery(".resultItem.selected");i.length&&i.attr("aria-label",i.attr("aria-label").replace(n,"")),e.attr("aria-label",n+e.attr("aria-label")),this.click()}}))}},Uo.prototype._formatAriaLabelDescriptionForSlotData=function(e){var t=this._slotDescriptionText.replace("{$title}",e.title);return t=e.location?(t=(t=t.replace("{$location}",e.location)).replace("[#location]","")).replace("[#endLocation]",""):t.replace(/\[#location\].*\[#endLocation\]/,""),e.hasTime?(t=(t=(t=(t=(t=t.replace(/\[#allDay\].*\[#endAllDay\]/,"")).replace("{$startTime}",e.initTime)).replace("{$endTime}",e.endTime)).replace("[#time]","")).replace("[#endTime]",""),t=e.timeZone?(t=(t=(t=(t=t.replace("{$startTimeCustomTimeZone}",e.initTimeWithZone)).replace("{$endTimeCustomTimeZone}",e.endTimeWithZone)).replace("{$customTimeZone}",e.timeZone+" "+e.timeZoneGMTMode)).replace("[#customTimeZone]","")).replace("[#endCustomTimeZone]",""):t.replace(/\[#customTimeZone\].*\[#endCustomTimeZone\]/,"")):t=(t=(t=(t=t.replace(/\[#time\].*\[#endTime\]/,"")).replace(/\[#customTimeZone\].*\[#endCustomTimeZone\]/,"")).replace("[#allDay]","")).replace("[#endAllDay]",""),t},Uo.prototype._getTimeFormat=function(){return this._useMilitaryTimeFormat?"HH:mm":"h:mm a"};const Yo=Uo;function Wo(e){return Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wo(e)}function Ho(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function zo(){return zo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=qo(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},zo.apply(this,arguments)}function qo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ko(e)););return e}function Jo(e,t){return Jo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Jo(e,t)}function Zo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ko(e);if(t){var r=Ko(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return $o(this,n)}}function $o(e,t){if(t&&("object"===Wo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ko(e){return Ko=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ko(e)}var Go=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jo(e,t)}(o,e);var t,n,i,r=Zo(o);function o(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,e,t))._collapseButtonLabel=n.getSetting("collapseButtonLabel"),n._expandButtonLabel=n.getSetting("expandButtonLabel");var i=document.getElementById(e);return null!==i&&(n._section=i.closest(".Section"),n._addCollapseExpandButtonIfNeeded()),n}return t=o,(n=[{key:"register",value:function(){var e=this;zo(Ko(o.prototype),"register",this).call(this),we.getInstance().addAction((function(){e._openSectionIfFieldHasErrors()}))}},{key:"getType",value:function(){return o.TYPE}},{key:"getValue",value:function(){return new p}},{key:"getValueForCondition",value:function(){return null}},{key:"_shouldHaveHiddenElementIndicator",value:function(){return!1}},{key:"_buildClonedFieldForNewTableRow",value:function(e,t){return new o(e,this.getFieldSettings())}},{key:"_addCollapseExpandButtonIfNeeded",value:function(){this._isSectionCollapsible()&&(this._button=this._getButton(),null!==this._button&&this._attachCollapseExpandEvent(this._button))}},{key:"_getButton",value:function(){return this._section.querySelector(".Section__toggle")}},{key:"_attachCollapseExpandEvent",value:function(e){var t=this;e.onclick=function(){t._expandOrCollapseSection(),t._showOrHideFields(),t._updateButtonText(e)}}},{key:"_showOrHideFields",value:function(){var e=this;this._getCollapsibleFields().forEach((function(t){var n=v.getField(e._getFieldIdFromFieldContainerId(t.id));n&&n.setVisibilityStatusByType(H.SECTION_COLLAPSIBLE,e._isSectionExpanded())}))}},{key:"_getFieldIdFromFieldContainerId",value:function(e){return e.substring("fieldSpecContainer".length)}},{key:"_updateButtonText",value:function(e){var t=e.querySelector(".toggle__text");null!==t&&(t.textContent=this._getButtonText())}},{key:"_getCollapsibleFields",value:function(){return this._section.getElementsByClassName("fieldSpec--collapsible")}},{key:"_expandOrCollapseSection",value:function(){this._toggleClass("Section--collapsible--open"),this._toggleAriaExpandedAttribute()}},{key:"_openSectionIfFieldHasErrors",value:function(){this._sectionHasFieldWithError()&&!this._isSectionExpanded()&&this._button.click()}},{key:"_sectionHasFieldWithError",value:function(){return this._section.hasAttribute("data-hasFieldWithError")&&"1"===this._section.getAttribute("data-hasFieldWithError")}},{key:"_isSectionExpanded",value:function(){return this._section.classList.contains("Section--collapsible--open")}},{key:"_isSectionCollapsible",value:function(){return this._section.classList.contains("Section--collapsible")}},{key:"_getButtonText",value:function(){return this._isSectionExpanded()?this._collapseButtonLabel:this._expandButtonLabel}},{key:"_toggleClass",value:function(e){this._section.classList.contains(e)?this._section.classList.remove(e):this._section.classList.add(e)}},{key:"_toggleAriaExpandedAttribute",value:function(){var e=this._section.querySelector(".toggle");null!==e&&("true"===e.getAttribute("aria-expanded")?e.setAttribute("aria-expanded","false"):e.setAttribute("aria-expanded","true"))}}])&&Ho(t.prototype,n),i&&Ho(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(q);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Go,"TYPE","SeparatorField");const Xo=Go;function ea(e,t,n){this._setHours(e),this._setMinutes(t),this._setSeconds(n),c.call(this)}ea.TYPE="FieldTimeValue",ea.prototype=Object.create(c.prototype),ea.prototype.getType=function(){return ea.TYPE},ea.prototype.toString=function(){return PortalString.zeroPad(this._hours.toString(),2)+":"+PortalString.zeroPad(this._minutes.toString(),2)+":"+PortalString.zeroPad(this._seconds.toString(),2)},ea.prototype.getHours=function(){return this._hours},ea.prototype.getMinutes=function(){return this._minutes},ea.prototype.getSeconds=function(){return this._seconds},ea.prototype._setHours=function(e){if(!PortalNumber.isNumber(e)||e<0||e>23)throw new Error("invalidArgumentException: Hours should be between 0 and 23");this._hours=e},ea.prototype._setMinutes=function(e){if(!PortalNumber.isNumber(e)||e<0||e>59)throw new Error("invalidArgumentException: Minutes should be between 0 and 59");this._minutes=e},ea.prototype._setSeconds=function(e){if(!PortalNumber.isNumber(e)||e<0||e>59)throw new Error("invalidArgumentException: Seconds should be between 0 and 59");this._seconds=e};const ta=ea;function na(e,t){Xi.call(this,e,t)}na.TYPE="SimpleTimeField",na.prototype=Object.create(Xi.prototype),na.prototype.getType=function(){return na.TYPE},na.prototype.getValue=function(){var e=this._getFieldElement().val();return e==this._notSelectedOptionValue?new p:new ta(PortalString.toInt(e),0,0)},na.prototype.getValueForCondition=function(){var e=this._getFieldElement().val();return[e=e!=this._notSelectedOptionValue?e:null,0,0]},na.prototype._buildClonedFieldForNewTableRow=function(e,t){return this._cloneDatasourceForNewTableRow(e,t),new na(e,this.getFieldSettings())};const ia=na;function ra(e,t){Ye.call(this,e,t),this._baseFieldId=ra._extractBaseIdFromCompoundFieldId(e),f.registerFieldDependency(this._baseFieldId,this._baseFieldId+ra._getCategoryFieldSuffix(),f.TYPE_VALUES)}ra.TYPE="SourceAndCategoryField",ra._extractBaseIdFromCompoundFieldId=function(e){return e.replace("_sourceAndCategory","")},ra.prototype=Object.create(Ye.prototype),ra.prototype.getValue=function(){return new p},ra.prototype.getValueForCondition=function(){return null},ra.prototype.getType=function(){return ra.TYPE},ra.prototype._buildClonedFieldForNewTableRow=function(e,t){return new ra(e,this.getFieldSettings())},ra.prototype._cloneDependentFieldsForNewTableRow=function(e,t){},ra.prototype._getDepedentFieldsMetadata=function(){return[this._createFieldMetadata(this._baseFieldId,""),this._createFieldMetadata(this._baseFieldId,ra._getCategoryFieldSuffix())]},ra._getCategoryFieldSuffix=function(){return"_category"},ra.prototype._attachOnChangeListener=function(){};const oa=ra;function aa(e,t,n,i,r,o,a,s,l,u,c,d,p,h,f,y,g,_,m,v){this.fieldId=e,this.dropdownCssClass=t,this.placeholderText=n,this.minimumInputLength=i,this.isMultiple=r,this.ajaxDelayMs=o,this.visibleOptionsLimit=a,this.optionsSearchApiUrl=s,this.dictionary=l,this.label=u,this.isRequired=c,this.isAccessible=d,this.requestedDataFieldId=p,this.jobId=h,this.contactOrJobIdEdit=f,this.wizardId=y,this.wizardFormId=g,this.schemaFieldId=_,this.optionFormatJson=m,this.alphabeticalOrder=v||!1}aa.prototype.attachToFieldAndRefreshOptions=function(e){var t=this;pjQuery("#"+e).select2({placeholder:t.placeholderText,allowClear:!0,width:"100%",minimumInputLength:t.minimumInputLength,multiple:t.isMultiple,containerCssClass:"select2Container"+e,dropdownCssClass:t.dropdownCssClass,escapeMarkup:function(e){return e},dictionary:t.dictionary,label:t.label,fieldId:t.fieldId,isRequired:t.isRequired,isAccessible:t.isAccessible,ajax:{url:t.optionsSearchApiUrl,type:"POST",delay:t.ajaxDelayMs,quietMillis:t.ajaxDelayMs,dataType:"json",data:function(n){return t._buildAjaxRequestData(e,n)},processResults:function(e,n){return t._processAjaxResponseData(e,n)}}}),pjQuery("#"+e).on("select2:select",(function(e){pjQuery(this).focus()})),pjQuery("#"+e).trigger("select2-"+e+"-ready")},aa.prototype._buildAjaxRequestData=function(e,t){var n={searchText:t.term,ids:t.searchIds,fieldId:this.requestedDataFieldId,jobId:this.jobId,page:t.page||1,limit:this.visibleOptionsLimit,wizardFormId:this.wizardFormId,optionFormat:this.optionFormatJson,schemaFieldId:this.schemaFieldId,alphabeticalOrder:this.alphabeticalOrder},i=this.wizardId;i&&(n.wizardId=i);var r=this.contactOrJobIdEdit;return r&&(n.contactOrJobIdEdit=r),JSON.stringify(n)},aa.prototype._processAjaxResponseData=function(e,t){var n=e.results?e.results:e;Array.isArray(n)||(n=[n]);for(var i=0,r=n.length;i<r;i++)n[i].value&&(n[i]=n[i].value);var o=!!e.more&&e.more;return t.page=t.page||1,{results:n.map((function(e){return{id:e.id,text:e.name,children:e.children?e.children.map((function(e){return{id:e.id,text:e.name,category:e.category}})):null}})),pagination:{more:o}}};const sa=aa;function la(){}la.registerJobTemplateAutocompletableWidgetLazyPicker=function(e,t,n,i,r,o,a,s,l,u,c,d,p,h,f,y,g,_,m,v){la._lazyPickers[e]=new sa(e,t,n,i,r,o,a,s,l,u,c,d,p,h,f,y,g,_,m,v)},la.refreshLazyPickerOptions=function(e){la.refreshLazyPickerOptionsUsingOtherLazyPickerConfigAsSource(e,e)},la.refreshLazyPickerOptionsUsingOtherLazyPickerConfigAsSource=function(e,t){var n=la._getLazyPicker(e);null!==n&&n.attachToFieldAndRefreshOptions(t)},la._getLazyPicker=function(e){return la._isLazyPickerRegistered(e)?la._lazyPickers[e]:null},la._isLazyPickerRegistered=function(e){return e in la._lazyPickers},la._lazyPickers={};const ua=la;function ca(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function da(e,t){ha(e,t),t.add(e)}function pa(e,t,n){ha(e,t),t.set(e,n)}function ha(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function fa(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function ya(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,ma(e,t,"get"))}function ga(e,t,n){return function(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}(e,t),n}function _a(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,ma(e,t,"set"),n),n}function ma(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var va=new WeakMap,ba=new WeakMap,Fa=new WeakMap,wa=new WeakSet,Ia=new WeakSet,Sa=new WeakSet,Ea=new WeakSet,Ta=new WeakSet,Pa=new WeakSet,Oa=new WeakSet,Ca=new WeakSet,Da=new WeakSet,ka=new WeakSet,ja=new WeakSet,Aa=new WeakSet,xa=new WeakSet,Ra=new WeakSet,Va=new WeakSet,Na=new WeakSet,La=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),da(this,Na),da(this,Va),da(this,Ra),da(this,xa),da(this,Aa),da(this,ja),da(this,ka),da(this,Da),da(this,Ca),da(this,Oa),da(this,Pa),da(this,Ta),da(this,Ea),da(this,Sa),da(this,Ia),da(this,wa),pa(this,va,{writable:!0,value:void 0}),pa(this,ba,{writable:!0,value:void 0}),pa(this,Fa,{writable:!0,value:void 0}),_a(this,va,t),_a(this,ba,JSON.parse(n)),_a(this,Fa,JSON.parse(i))}var t,n,i;return t=e,i=[{key:"prepareFileFieldToReuseUploadedFiles",value:function(t,n,i){new e(t,n,i).addOldFilesSelectorToFileInput(),ga(e,e,Ma).call(e,t,n,i)}}],(n=[{key:"addOldFilesSelectorToFileInput",value:function(){var e=document.getElementById("fileInput_"+ya(this,va));if(e){var t=fa(this,ja,Ka).call(this),n=fa(this,Aa,Ga).call(this);t.appendChild(n),e.prepend(t),fa(this,wa,Qa).call(this)}}}])&&ca(t.prototype,n),i&&ca(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ma(e,t,n){var i=ga(La,La,Ba).call(La,e);i&&(La.tableFieldsDataReference[i]={dictionaryJSON:t,uploadedFilesJSON:n})}function Ba(e){var t=e.split("-sample");return 2===t.length?t[0]:null}function Qa(){var e=this,t=document.getElementById("fileInput_"+ya(this,va)+"_oldFilesSelector");t&&t.addEventListener("change",(function(){fa(e,Ca,Ja).call(e)?fa(e,Ia,Ua).call(e):(fa(e,Da,Za).call(e),fa(e,Sa,Ya).call(e,fa(e,Oa,qa).call(e)))}))}function Ua(){fa(this,ka,$a).call(this),fa(this,Ta,Ha).call(this),fa(this,Pa,za).call(this,"")}function Ya(e){fa(this,Pa,za).call(this,ya(this,Fa)[e-1]["data-hiddenValue"]),fa(this,Ea,Wa).call(this)}function Wa(){var e=document.getElementById("fileInput_"+ya(this,va));if(e){var t=document.createElement("input");t.setAttribute("type","hidden"),t.setAttribute("name","file_"+ya(this,va)+"_reuse"),t.setAttribute("value","1"),e.append(t)}}function Ha(){var e=document.querySelector("input[name=file_"+ya(this,va)+"_reuse]");e&&e.remove()}function za(e){var t=document.querySelector("input[name=file_"+ya(this,va)+"_fileNumber]");t&&(t.value=e)}function qa(){var e=document.getElementById("fileInput_"+ya(this,va)+"_oldFilesSelector");return e?e.value:""}function Ja(){return"0"===fa(this,Oa,qa).call(this)}function Za(){var e=document.getElementById(ya(this,va));e&&(e.hidden=!0)}function $a(){var e=document.getElementById(ya(this,va));e&&(e.hidden=!1)}function Ka(){var e=document.createElement("div");return e.setAttribute("id","fileInput_"+ya(this,va)+"_oldFilesSelectorContainer"),e.dataset.oldFilesSelectorSampleReference=ya(this,va),e}function Ga(){var e=document.createElement("select");return e.setAttribute("id","fileInput_"+ya(this,va)+"_oldFilesSelector"),e.setAttribute("aria-labelledby",ya(this,va)+"-label"),e.appendChild(fa(this,xa,Xa).call(this)),e.appendChild(fa(this,Ra,es).call(this)),e}function Xa(){var e=document.createElement("option");return e.setAttribute("value","0"),e.innerText=ya(this,ba).uploadNewFile,e}function es(){var e=document.createElement("optgroup");return e.setAttribute("label",ya(this,ba).previouslySavedFiles),fa(this,Va,ts).call(this,e),e}function ts(e){for(var t=0;t<ya(this,Fa).length;++t){var n=ya(this,Fa)[t],i=document.createElement("option");i.setAttribute("value",(t+1).toString()),i.innerText=n.name+fa(this,Na,ns).call(this,n.timestamp),e.appendChild(i)}}function ns(e){return e?" - "+Xn.ou.fromMillis(1e3*e).toFormat("dd LLL yyyy"):""}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(La,"tableFieldsDataReference",{});const is=La;function rs(e,t){q.call(this,e,t),this._lastRowIndex=this.getSetting("lastRowIndex"),this._isAccessibilityEnabled=this.getSetting("isAccessibilityEnabled")}rs.TYPE="TableField",rs.prototype=Object.create(q.prototype),rs.prototype._postRegister=function(){this._fixSampleRowRequiredAttributesForAccessibility(),this._attachOnClickListenersToAddNewRowLink(),this._attachOnClickListenersToRowsRemovalLinksInElement(this._getFieldElement()),q.prototype._postRegister.call(this)},rs.prototype._attachOnChangeListener=function(){},rs.prototype.getType=function(){return rs.TYPE},rs.prototype.getValue=function(){return new p},rs.prototype.hasValue=function(){for(var e=this._getFirstRowIndex();e<=this._lastRowIndex;e++){var t=0;do{t++;var n=v.getField(this._fieldId+"-"+t+"-"+e);if(n&&n.hasValue())return!0}while(n)}return!1},rs.prototype._getFirstRowIndex=function(){return pjQuery("#multipleDatasetRowsContainer_"+this._fieldId).find('.removeDatasetRow[data-row-index!="sample"]').attr("data-row-index")},rs.prototype.getValueForCondition=function(){return null},rs.prototype.focus=function(){pjQuery("#"+this._fieldId+"-1-"+this._getFirstRowIndex()).focus()},rs.prototype._buildClonedFieldForNewTableRow=function(e,t){return new rs(e,this.getFieldSettings())},rs.prototype._removeRow=function(e){var t=pjQuery(e).data("row-index"),n=this._getElementToFocusAfterRemove(t);pjQuery("#multipleDatasetEntry_"+this._fieldId+"_"+t).remove(),n.focus(),this._hasNoRows()&&this._setRowsCounterElementValue("allRemoved")},rs.prototype._getElementToFocusAfterRemove=function(e){var t=pjQuery("#multipleDatasetEntry_"+this._fieldId+"_"+e);return 1===t.next().length?t.next().find(":input:visible:first"):t.prev().attr("id").includes("sample")?this._getAddNewRowLinkElement():t.prev().find(":input:visible:first")},rs.prototype._addNewRow=function(){var e=this._lastRowIndex+1,t=this._buildClonedRowElement();this._attachOnClickListenersToRowsRemovalLinksInElement(t),pjQuery(t).removeClass("TableSampleRow"),pjQuery(t).removeAttr("aria-hidden"),this._fixFileFields(t,e),this._fixLabels(t,e),this._fixArrayedInputs(t,e),this._fixSingleElement("input",t,e),this._fixSingleElement("select",t,e),this._fixSingleElement("textarea",t,e),this._fixSingleElement("span",t,e),this._fixSingleElement("option",t,e),this._fixContainerId(t,e),this._fixRemoveLink(t,e),this._fixDateFallbacks(t,e),this._fixTime(t,e),this._addClonedRowToRowsContainer(t),this._fixParagraphWithFormat(t,e),this._fixAutocomplete(t),this._setRowsCounterElementValue(e),this._fixReuseUploadedFilesWidget(t,e),this._registerJsFields(t,e),this._focusFirstInputInNewRow(t),this._lastRowIndex=e},rs.prototype._focusFirstInputInNewRow=function(e){e.find(":input:visible:first").focus()},rs.prototype._fixSampleRowRequiredAttributesForAccessibility=function(){if(this._isAccessibilityEnabled)for(var e=document.querySelectorAll("[data-samplerow]"),t=e.length-1;t>=0;t--){var n=e[t].querySelectorAll("[data-required]")[0];n&&(n.removeAttribute("aria-required"),n.removeAttribute("required"))}},rs.prototype._getAddNewRowLinkElement=function(){return pjQuery("#addRowFor_"+this._fieldId)},rs.prototype._setRowsCounterElementValue=function(e){return pjQuery("#multipleDatasetEntry_"+this._fieldId+"_rowOffset").val(e)},rs.prototype._hasNoRows=function(){return 1===pjQuery('[name="removeRowFor_'+this._fieldId+'"]').length},rs.prototype._buildClonedRowElement=function(){var e=pjQuery('[id="multipleDatasetEntry_'+this._fieldId+'_sample"]').clone();if(!e)throw new Error("Error when adding new row for table: "+this._fieldId);return e},rs.prototype._attachOnClickListenersToRowsRemovalLinksInElement=function(e){var t=this;pjQuery(e).find('[name="removeRowFor_'+this._fieldId+'"]').each((function(){var e=pjQuery(this);e.click((function(){return t._removeRow(e),!1}))}))},rs.prototype._attachOnClickListenersToAddNewRowLink=function(){var e=this;this._getAddNewRowLinkElement().click((function(){return e._addNewRow(),!1}))},rs.prototype._fixLabels=function(e,t){pjQuery(e).find("label").each((function(){var n=/^((\d+-)+)sample(\[.*\]|_.*)*$/,i=pjQuery(this).attr("for");if(i&&n.test(i)){var r=i.replace(n,"$1"+t+"$3");pjQuery(this).attr("for",r)}n=/^((\d+-)+)sample(\[.*\]|_.*|-label)*$/;var o=pjQuery(this).attr("id");if(o&&n.test(o)){var a=o.replace(n,"$1"+t+"$3");pjQuery(this).attr("id",a),pjQuery(e).find("[aria-labelledby="+o+"]").each((function(){pjQuery(this).attr("aria-labelledby",a)}))}}))},rs.prototype._fixArrayedInputs=function(e,t){var n=this,i=[];pjQuery(e).find("input").each((function(){var e=/^((\d+-)+)sample_(\d+)$/,r=pjQuery(this).attr("id");if(r&&e.test(r)){var o=r.replace(e,"$1");o=o.substring(0,o.length-1);var a=r.replace(e,"$3");i[o]?i[o].push(a):i[o]=[a];var s=r.replace(e,"$1"+t+"_$3");pjQuery(this).attr("id",s);var l=/^((\d+-)+)sample(\[\])?$/,u=pjQuery(this).attr("name");if(u&&l.test(u)){var c=u.replace(l,"$1"+t+"$3");pjQuery(this).attr("name",c)}n._fixRequiredAttributes(this)}}))},rs.prototype._fixRequiredAttributes=function(e){var t=pjQuery(e).attr("data-required");t&&(pjQuery(e).attr("required",t),pjQuery(e).attr("aria-required",t))},rs.prototype._fixSingleElement=function(e,t,n){var i=this;pjQuery(t).find(e).each((function(){var e=/^((\d+-)+)sample(\[.*\]|_.*)*$/,t=pjQuery(this).attr("id");if(t&&e.test(t)){var r=t.replace(e,"$1"+n+"$3");pjQuery(this).attr("id",r);var o=pjQuery(this).attr("name");if(o){var a=/^((\d+-)+)sample(\[.*\]|_.*)*$/;a.test(o)&&(o=o.replace(a,"$1"+n+"$3")),pjQuery(this).attr("name",o)}i._fixRequiredAttributes(this)}var s=pjQuery(this).data("parentid");if(s){var l=/^((\d+-)+)sample(\[.*\]|_.*)*$/;l.test(s)&&(s=s.replace(l,"$1"+n+"$3")),pjQuery(this).attr("data-parentId",s)}}))},rs.prototype._fixFileFields=function(e,t){pjQuery(e).has('.FileSchemaField :input[type="file"]')&&pjQuery(e).find('input[type="hidden"], input[type="file"], div').each((function(){this.name&&(this.name=this.name.replace(/sample/i,t)),this.id=this.id.replace(/sample/i,t)}))},rs.prototype._getFileIdFromFileSchemaFieldElement=function(e){var t=pjQuery(e).find('.FileSchemaField :input[type="file"]').prop("id");return void 0!==t&&0!==t.length||(t=pjQuery(e).find('.FileSchemaField :input[type="hidden"][name^="file_"]:not([id=""])').prop("id")),t},rs.prototype._fixParagraphWithFormat=function(e,t){var n=e.find(".mce-tinymce.mce-container");0!=n.length&&(n.remove(),e.find("textarea").show())},rs.prototype._fixContainerId=function(e,t){pjQuery(e).attr("id",pjQuery(e).attr("id").replace(/^(multipleDatasetEntry_.*)_sample$/,"$1_"+t)),pjQuery(e).find(".datasetfieldSpec").each((function(){pjQuery(this).attr("id",pjQuery(this).attr("id").replace(/(fieldSpecContainer.*-)sample/,"$1"+t))}))},rs.prototype._fixRemoveLink=function(e,t){pjQuery(".removeDatasetRow",e).attr("data-row-index",t)},rs.prototype._addClonedRowToRowsContainer=function(e){pjQuery("#multipleDatasetRowsContainer_"+this._fieldId).append(e)},rs.prototype._fixDateFallbacks=function(e,t){pjQuery(e).find("div.DateFormField").each((function(){var e=pjQuery(this).find("script");if(pjQuery(e).html()){var n=pjQuery(e).html().replace(/(.*)sample(.*)/,"$1"+t+"$2");pjQuery(this).find("script").remove(),pjQuery(this).find("select").remove();var i=document.createElement("script");pjQuery(i).attr("type","text/javascript"),i.text=n,this.appendChild(i)}var r=pjQuery(this).attr("id").replace(/^fieldSpecContainer(.*)$/,"$1"),o=r.split("-"),a=o.splice(0,o.length-1).join("-")+"-sample",s=pjQuery(document).find("input#"+a+'[type="hidden"]');s.length&&pjQuery(this).find("input#"+r+'[type="hidden"]').val(s[0].value);var l=pjQuery(document).find("input#"+a);l.length&&pjQuery(this).find("input#"+r).val(l[0].value)}))},rs.prototype._fixAutocomplete=function(e){pjQuery(e).find(".datasetfieldSpec").each((function(){var e=pjQuery(this).attr("id").replace(/^fieldSpecContainer(.*)$/,"$1"),t=e.split("-"),n=t.splice(0,t.length-1).join("-")+"-0";void 0!==ua&&(n!==e&&ua.refreshLazyPickerOptionsUsingOtherLazyPickerConfigAsSource(n,e),pjQuery("#"+e).change((function(){v.onFieldValueChange(e)})))}))},rs.prototype._registerJsFields=function(e,t){var n=e.find("[data-formula]").attr("id");if(n){var i=n.split("-"),r=i.splice(0,i.length-1).join("-");v.cloneForNewTableRow(r,t)}pjQuery(e).find(".datasetfieldSpec").each((function(){var e=pjQuery(this).attr("id").replace(/^fieldSpecContainer(.*)$/,"$1"),n=e.split("-"),i=n.splice(0,n.length-1).join("-");v.cloneForNewTableRow(i,t);var r=e+"_sourceAndCategory";PortalHtml.elementExists(r)&&v.cloneForNewTableRow(i,t,"_sourceAndCategory");var o=e+"_category";PortalHtml.elementExists(o)&&v.cloneForNewTableRow(i,t,"_category")}))},rs.prototype._fixReuseUploadedFilesWidget=function(e,t){e.find("[data-old-files-selector-sample-reference]").each((function(){var e=pjQuery(this).attr("data-old-files-selector-sample-reference").split("-"),n=e.splice(0,e.length-1).join("-");pjQuery(this).remove(),new is(n+"-"+t,is.tableFieldsDataReference[n].dictionaryJSON,is.tableFieldsDataReference[n].uploadedFilesJSON).addOldFilesSelectorToFileInput()}))},rs.prototype._fixTime=function(e,t){e.find(".TimeFieldsWrapper").each((function(){var e=pjQuery(this).html();e=e.replace(/sample/g,t),pjQuery(this).html(pjQuery.parseHTML(e))}))};const os=rs;function as(e,t){Ye.call(this,e,t),this._shouldUseMilitaryTimeFormat=this.getSetting("shouldUseMilitaryTimeFormat")}as.TYPE="TimeField",as.prototype=Object.create(Ye.prototype),as.prototype.getType=function(){return as.TYPE},as.prototype._getAllowedValueTypesToSet=function(){return[ta.TYPE]},as.prototype.setValue=function(e){this._assertIsAllowedValueToSet(e);var t=e.getHours(),n=null;this._shouldUseMilitaryTimeFormat||(n=t>=12?"PM":"AM",t>12?t-=12:0===t&&(t=12)),v.setFieldValue(this._getHoursId(),new te(t.toString())),v.setFieldValue(this._getMinutesId(),new te(e.getMinutes().toString())),n&&v.setFieldValue(this._getAMPMId(),new Z(n))},as.prototype.getValue=function(){return v.hasValue(this._getHoursId())&&v.hasValue(this._getMinutesId())?new ta(this._getHoursFieldValue(),this._getMinutesFieldValue(),0):new p},as.prototype.getValueForCondition=function(){return[this._getHoursFieldValue(),this._getMinutesFieldValue(),0]},as.prototype._getHoursFieldValue=function(){var e=v.getFieldValueByType(this._getHoursId(),FieldOptionValue.TYPE);if(e.isEmpty())return 0;var t=PortalString.toInt(e.getOptionId());return isNaN(t)?0:(t=PortalString.toInt(t,10),this._shouldUseMilitaryTimeFormat?t:this._adaptHoursToAMPMFormat(t))},as.prototype._adaptHoursToAMPMFormat=function(e){var t=v.getFieldValueByType(this._getAMPMId(),FieldOptionValue.TYPE);if(t.isEmpty())return e;var n=t.getOptionText();return"PM"===n&&12!==e?e+=12:"AM"===n&&12===e&&(e=0),e},as.prototype._getMinutesFieldValue=function(){var e=v.getFieldValueByType(this._getMinutesId(),FieldOptionValue.TYPE);return e.isEmpty()?0:PortalString.toInt(e.getOptionId())||0},as.prototype._buildClonedFieldForNewTableRow=function(e,t){return new as(e,this.getFieldSettings())},as.prototype._getDepedentFieldsMetadata=function(){var e=[this._createFieldMetadata(this._getHoursId(),this._getHoursSuffix()),this._createFieldMetadata(this._getMinutesId(),this._getMinutesSuffix())];return this._shouldUseMilitaryTimeFormat||e.push(this._createFieldMetadata(this._getAMPMId(),this._getAMPMSuffix())),e},as.prototype._getHoursId=function(){return this.getFieldId()+this._getHoursSuffix()},as.prototype._getMinutesId=function(){return this.getFieldId()+this._getMinutesSuffix()},as.prototype._getAMPMId=function(){return this.getFieldId()+this._getAMPMSuffix()},as.prototype._getHoursSuffix=function(){return"_hours"},as.prototype._getMinutesSuffix=function(){return"_minutes"},as.prototype._getAMPMSuffix=function(){return"_ampm"};const ss=as;function ls(e){return ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ls(e)}function us(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function cs(){return cs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=ds(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},cs.apply(this,arguments)}function ds(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ys(e)););return e}function ps(e,t){return ps=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ps(e,t)}function hs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ys(e);if(t){var r=ys(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return fs(this,n)}}function fs(e,t){if(t&&("object"===ls(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ys(e){return ys=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ys(e)}var gs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ps(e,t)}(o,e);var t,n,i,r=hs(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,e,t))._customEmail=n.getSetting("customEmail")||"",n._customEmailLabel=n.getSetting("customEmailLabel"),n._isCustomInputEnabled=n.getSetting("isCustomInputEnabled"),n}return t=o,n=[{key:"getValueForCondition",value:function(){var e=this._getCustomInput();if(e)return e.value;var t=this._getSelectedOptionId();return t?document.getElementById(this.getFieldId()+"_"+t).text:null}},{key:"_buildClonedFieldForNewTableRow",value:function(e,t){return this._cloneDatasourceForNewTableRow(e,t),new o(e,this.getFieldSettings())}},{key:"_postRegister",value:function(){Xi.prototype._postRegister.call(this),(this._customEmail||"custom"===this._getSelectedOptionId())&&this.setValue(new te("custom"))}},{key:"_resetAttributes",value:function(e){cs(ys(o.prototype),"_resetAttributes",this).call(this,e),this._customEmail&&"custom"!==this._getSelectedOptionId()&&(document.getElementById(this.getFieldId()).value="custom")}},{key:"_attachOnChangeListener",value:function(){var e=this;pjQuery("#"+this.getFieldId()).on("change",(function(){e._handleCustomInput(),v.onFieldValueChange(e.getFieldId())}))}},{key:"_handleCustomInput",value:function(){var e=this.getValue();if(e.isEmpty()||"custom"!==e.getOptionId()){var t=this._getCustomInput();t&&t.remove()}else{document.getElementById(this.getFieldId()).parentNode.append(this._buildCustomInput()),this._getCustomInput().focus();var n=this;pjQuery("#"+this.getFieldId()+"_customEmail").on("input",(function(){this.onkeyup=null,v.onFieldValueChange(n.getFieldId())}))}}},{key:"_buildCustomInput",value:function(){var e=document.createElement("input");return e.setAttribute("id",this.getFieldId()+"_customEmail"),e.setAttribute("name",this.getFieldId()+"_customEmail"),e.setAttribute("type","email"),e.setAttribute("class","EmailField NotificationEmailField"),e.setAttribute("value",this._customEmail),e.setAttribute("tabindex",0),e.setAttribute("autocomplete","email"),e.setAttribute("aria-label",this._customEmailLabel),this._isCustomInputEnabled||e.setAttribute("disabled",""),e}},{key:"_getCustomInput",value:function(){return document.getElementById(this.getFieldId()+"_customEmail")}},{key:"_getSelectedOptionId",value:function(){return this._getFieldElement().val()}}],n&&us(t.prototype,n),i&&us(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Xi);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(gs,"TYPE","UserNotificationsEmailField");const _s=gs;var ms=function(e,t,n,i){this.config=this._getConfig(e),this.dictionary=this._getDictionary(t),this.regularUploadMaxFileSize=i,this._appendLargeFileUploadDialog(n),this._disableClosingDialog(this._getTextByDictionaryKey("confirmLeave")),this._setActionBeforeSubmit()};ms.prepareFormToProcessLargeFilesUpload=function(e,t,n,i){new ms(e,t,n,i)},ms.prototype._setActionBeforeSubmit=function(){var e=this;In.default.getInstance().addActionBeforeSubmit((function(t){t=pjQuery(t);var n=e._getOversizeNotProcessedWizardFileInputsInForm(t);if(n.length)return e._processLargeFilesUpload(t,n)}))},ms.prototype._disableUploadedFileInputs=function(e){var t=this;e.find(":file").each((function(e,n){t._isInputFileCompleted(n.id)&&pjQuery("#"+n.id).prop("disabled",!0)}))},ms.prototype._disableClosingDialog=function(e){window.onbeforeunload=function(t){if(!pjQuery("#fileUploadDialogOverlay").is(":hidden"))return t||(t=window.event),t.cancelBubble=!0,t.returnValue=e,t.stopPropagation&&(t.stopPropagation(),t.preventDefault()),e}},ms.prototype._getTextByDictionaryKey=function(e){return this.dictionary[e]},ms.prototype._getConfig=function(e){var t=JSON.parse(e);return{aws_url:t.aws_url,signerUrl:t.portalUrl+"/_remoteUploadSigner",timeUrl:t.portalUrl+"/_remoteUploadTime",aws_key:t.aws_key,awsRegion:t.aws_region,bucket:t.bucket,partSize:t.partSize,awsSignatureVersion:t.awsSignatureVersion,computeContentMd5:!0,cryptoMd5Method:function(e){return CryptoJS.MD5(CryptoJS.lib.WordArray.create(e)).toString(CryptoJS.enc.Base64)},cryptoHexEncodedHash256:function(e){return CryptoJS.SHA256(e).toString(CryptoJS.enc.Hex)},veryLargeFilesBucketTemporaryFolder:t.veryLargeFilesBucketTemporaryFolder}},ms.prototype._getDictionary=function(e){return JSON.parse(e)},ms.prototype._getOversizeNotProcessedWizardFileInputsInForm=function(e){var t=[],n=this;return e.find(":file").each((function(e,i){if(n._shouldCheckOversize(i.id)&&!n._isUploaded(i.id)&&n._isFileOversizedOrForced(i)){var r=n._addFileUploadInfo(i);r&&(n._controlFileInputChange(i.id),t.push({input:i,file:r}),n._removeUploadFailedNotice(i.id))}})),t},ms.prototype._getFileFromInput=function(e){return e.uploadThisFileAsBig?e.uploadThisFileAsBig:e.files&&e.files.length>0?e.files[0]:null},ms.prototype._isFileOversizedOrForced=function(e){if(e.uploadThisFileAsBig)return!0;var t=this._getFileFromInput(e);return!!t&&t.size>this.regularUploadMaxFileSize},ms.prototype._controlFileInputChange=function(e){var t=this;pjQuery("#"+e).change((function(){t._removeInputFileCompleted(e),t._removeHiddenInputs(e)}))},ms.prototype._shouldCheckOversize=function(e){return pjQuery("#"+e).data("check-oversize")},ms.prototype._isUploaded=function(e){return pjQuery("#"+e).data("uploaded")},ms.prototype._appendLargeFileUploadDialog=function(e){pjQuery("body").append(e);var t=this;pjQuery("#fileUploadDialogCancelButton, #fileUploadDialogCloseThick").click((function(){t._fileUploadDialogCancel()}))},ms.prototype._processLargeFilesUpload=function(e,t){return this._openUploadDialog(),this.hasErrors=!1,this.cancelled=!1,this.totalCompleted=0,this.largeFilesUploaded=pjQuery.Deferred(),this._doUpload(e,t,0),this.largeFilesUploaded.promise()},ms.prototype._fileUploadDialogCancel=function(){var e=this;this._uploadPause();var t='<div id="cancelUploadDialog" title="'+this.dictionary.leavePage+'"><p>'+this.dictionary.confirmLeave+"</p></div>";pjQuery(t).dialog({modal:!0,appendTo:"#fileUploadDialogContent",closeOnEscape:!1,dialogClass:"largeFileUploadJqueryUiModal",width:"439",buttons:[{text:this.dictionary.leave,click:function(){e.cancelled=!0,e._cancelUpload(),e._closeUploadDialog(),pjQuery(this).dialog("close")},class:"upload-large-files__button upload-large-files__button--primary"},{text:this.dictionary.cancel,click:function(){e._resumeUpload(),pjQuery(this).dialog("close")},class:"upload-large-files__button upload-large-files__button--secondary"}],beforeClose:function(t,n){e._hasBeenClickedDialogCloseIcon(t)&&e._resumeUpload()}})},ms.prototype._hasBeenClickedDialogCloseIcon=function(e){return e.originalEvent&&pjQuery(e.originalEvent.target).closest(".ui-dialog-titlebar-close").length},ms.prototype._guessContentTypeFromFileName=function(e){return/\.webm$/.exec(e)?"video/webm":/\.mp4$/.exec(e)?"video/mp4":null},ms.prototype._doUpload=function(e,t,n){if(n>=t.length)return this._closeUploadDialog(),this._disableUploadedFileInputs(e),void this.largeFilesUploaded.resolve();var i=this,r=t[n].input,o=r.id,a=t[n].file,s=a.name,l=this._getTempFileName(a),u=this._guessContentTypeFromFileName(s),c=!1,d=0;Evaporate.create(this.config).then((function(p){i.evaporate=p,p.add({name:i.config.veryLargeFilesBucketTemporaryFolder+"/"+l,contentType:u,file:a,xAmzHeadersAtInitiate:{"x-amz-acl":"public-read"},progress:function(e,n){if(!c){var r=Math.floor(100*e);c=100===r,r>=d&&(i._updateTotalUploadProgress(Math.floor(r/t.length),t.length),i._updateFileUploadProgress(o,r),d=r)}},error:function(r){i._handleUploadError(e,o,s,t,n+1)},started:function(e){i.fileKey=e}}).then((function(o){i.totalCompleted++,i._setUploadCompleted(r,o,s),i._doUpload(e,t,n+1)}),(function(r){i._handleUploadError(e,o,s,t,n+1)}))}))},ms.prototype._handleUploadError=function(e,t,n,i,r){this._setUploadFailed(t,n),this.cancelled?this._setAllPendingUploadsFailed(i,r):this._doUpload(e,i,r)},ms.prototype._setAllPendingUploadsFailed=function(e,t){for(;t<e.length;)this._setUploadFailed(e[t].input.id,e[t].file.name),++t},ms.prototype._uploadPause=function(){return!!this.evaporate&&this.evaporate.pause(this.fileKey,{force:!0})},ms.prototype._resumeUpload=function(){return!!this.evaporate&&this.evaporate.resume(this.fileKey)},ms.prototype._cancelUpload=function(){return!!this.evaporate&&this.evaporate.cancel(this.fileKey)},ms.prototype._getTempFileName=function(e){return CryptoJS.SHA256("tmp-"+Xn.ou.fromJSDate(this._getNowDate()).toMillis()+"-"+e.name).toString(CryptoJS.enc.Hex)},ms.prototype._getNowDate=function(){return new Date},ms.prototype._addFileUploadInfo=function(e){var t=this._getFileFromInput(e);if(!t)return null;var n='<li id="progressDetailContainer'+e.id+'" class="upload-large-files__item upload-large-files__item--particular" ><div class="upload-large-files__itemHeader"><h3 class="upload-large-files__itemTitle" id="fileName'+e.id+'">'+t.name+'</h3><span id="itemWarning'+e.id+'" class="upload-large-files__itemWarning">'+this.dictionary.uploadFailed+'</span></div><progress class="upload-large-files__itemProgressBar" id="progressBar'+e.id+'" value="0" max="100" ></progress><p class="upload-large-files__itemDetail" id="progressDetail'+e.id+'" ><span class="upload-large-files__progressPercentage" id="progressPercentage'+e.id+'">0</span>% '+this.dictionary.uploaded+"</p></li>";return pjQuery("#uploads").append(n),pjQuery("#itemWarning"+e.id).hide(),t},ms.prototype._addHiddenInputs=function(e,t,n){var i='<input type="hidden" id="file_'+e+'_remoteFileName" name="file_'+e+'_remoteFileName" value="'+t+'" /><input type="hidden" id="file_'+e+'_userSetFileName" name="file_'+e+'_userSetFileName" value="'+n+'" />';pjQuery("#fileInput_"+e).append(i)},ms.prototype._removeHiddenInputs=function(e){pjQuery("#file_"+e+"_remoteFileName").remove(),pjQuery("#file_"+e+"_userSetFileName").remove()},ms.prototype._addUploadFailedNotice=function(e){var t='<p id="file_'+e+'_uploadFailed" class="upload-large-files__formError">'+this.dictionary.uploadFailed+"</p>";pjQuery("#fileInput_"+e).append(t),pjQuery("#fieldSpecContainer"+e).addClass("upload-large-files__formError")},ms.prototype._removeUploadFailedNotice=function(e){pjQuery("#file_"+e+"_uploadFailed").remove(),pjQuery("#fieldSpecContainer"+e).removeClass("upload-large-files__formError")},ms.prototype._setUploadCompleted=function(e,t,n){this._updateFileUploadProgress(e.id,100),this._setUploadCompletedText(e.id),this._setInputFileCompleted(e.id),this._addHiddenInputs(e.id,t,n)},ms.prototype._setInputFileCompleted=function(e){pjQuery("#"+e).data("uploaded",!0)},ms.prototype._removeInputFileCompleted=function(e){pjQuery("#"+e).removeData("uploaded")},ms.prototype._isInputFileCompleted=function(e){return pjQuery("#"+e).data("uploaded")},ms.prototype._setUploadFailed=function(e,t){this.hasErrors=!0,this._setUploadFailedText(e,t)},ms.prototype._setUploadFailedText=function(e){pjQuery("#itemWarning"+e).show(),pjQuery("#progressDetailContainer"+e).addClass("upload-large-files__error"),this._addUploadFailedNotice(e)},ms.prototype._setUploadCompletedText=function(e){pjQuery("#progressDetail"+e).text(this.dictionary.complete)},ms.prototype._updateTotalUploadProgress=function(e,t){var n=Math.floor(this.totalCompleted*(100/t));this._updateProgressBar("#progressBar",n+e),this._updatePercentage("#progressPercentage",n+e)},ms.prototype._emptyTotalUploadProgress=function(){this._updateProgressBar("#progressBar",0),this._updatePercentage("#progressPercentage",0)},ms.prototype._updateFileUploadProgress=function(e,t){this._updateProgressBar("#progressBar"+e,t),this._updatePercentage("#progressPercentage"+e,t)},ms.prototype._updatePercentage=function(e,t){pjQuery(e).text(t)},ms.prototype._updateProgressBar=function(e,t){pjQuery(e).val(t)},ms.prototype._openUploadDialog=function(){pjQuery("#fileUploadDialogOverlay").removeClass("largeFileDialogClosed"),pjQuery("#fileUploadDialogContent").removeClass("largeFileDialogClosed")},ms.prototype._closeUploadDialog=function(){pjQuery("#fileUploadDialogOverlay").addClass("largeFileDialogClosed"),pjQuery("#fileUploadDialogContent").addClass("largeFileDialogClosed"),pjQuery("#uploads").empty(),this._emptyTotalUploadProgress()};const vs=ms;function bs(e){return bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bs(e)}function Fs(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ws(e,t){return ws=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ws(e,t)}function Is(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Es(e);if(t){var r=Es(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Ss(this,n)}}function Ss(e,t){if(t&&("object"===bs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Es(e){return Es=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Es(e)}var Ts=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ws(e,t)}(o,e);var t,n,i,r=Is(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,e,t))._configuration=t||new fn,n}return t=o,n=[{key:"onFileSelected",value:function(e){if(e){var t=v.getField(this._fieldId);!0===this._configuration.hasPhotoPreview&&t._resetPreviewAndFileLoaders();var n=e.title;this._fileInfoCleaner.cleanAll(),this._addFileDataToDownload(e),this._setFileNameHiddenInputValue(n),this._setFileSizeHiddenInputValue(e.fileSize?e.fileSize:"0"),this._addUploadedFileElement(n),!0===this._configuration.hasPhotoPreview&&(t._setPreview(e.thumbnailLink),t._onPhotoFileInputNewPhotoSelected())}}},{key:"_getAccessToken",value:function(){return gapi.auth.getToken().access_token}},{key:"_setFileNameHiddenInputValue",value:function(e){var t=document.getElementById("driveFileName_"+this._fieldId);t&&(t.value=e)}},{key:"_setFileSizeHiddenInputValue",value:function(e){var t=document.getElementById("driveFileSize_"+this._fieldId);t&&(t.value=e)}},{key:"_addUploadedFileElement",value:function(e){var t=document.querySelector("#fileInput_"+this._fieldId+" .drivePickerButton");t&&t.before(this._createUploadedFileElement(e))}},{key:"_addFileDataToDownload",value:function(e){if(e&&e.id){var t=document.getElementById(this._fieldId),n=t?t.closest("form"):null;n&&(n.appendChild(this._createDriveFileIdHiddenInput(e.id)),n.appendChild(this._createDriveAccessTokenHiddenInput()))}}},{key:"_createDriveFileIdHiddenInput",value:function(e){var t=document.createElement("input");return t.name="driveFileId_"+this._fieldId,t.id="driveFileId_"+this._fieldId,t.value=e,t.type="hidden",t}},{key:"_createDriveAccessTokenHiddenInput",value:function(){var e=document.createElement("input");return e.name="driveAccessToken_"+this._fieldId,e.id="driveAccessToken_"+this._fieldId,e.value=this._getAccessToken(),e.type="hidden",e}},{key:"_createUploadedFileElement",value:function(e){var t=document.createElement("div");return t.appendChild(document.createTextNode(e)),t.classList.add("drivePickerUploadFile"),t.appendChild(this._buildRemoveExternalUploadedFileButton(e)),t}}],n&&Fs(t.prototype,n),i&&Fs(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(At);const Ps=Ts;function Os(e){return Os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Os(e)}function Cs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ds(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ks(){return ks="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=js(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},ks.apply(this,arguments)}function js(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Vs(e)););return e}function As(e,t){return As=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},As(e,t)}function xs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Vs(e);if(t){var r=Vs(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Rs(this,n)}}function Rs(e,t){if(t&&("object"===Os(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Vs(e){return Vs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vs(e)}function Ns(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ls=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&As(e,t)}(o,e);var t,n,i,r=xs(o);function o(){return Cs(this,o),r.apply(this,arguments)}return t=o,(n=[{key:"onFileSelected",value:function(e){ks(Vs(o.prototype),"onFileSelected",this).call(this,{id:o.FAKE_FILE_ID,title:o.FAKE_FILE_NAME,fileSize:o.FAKE_FILE_SIZE})}},{key:"_getAccessToken",value:function(){return o.FAKE_ACCESS_TOKEN}}])&&Ds(t.prototype,n),i&&Ds(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Ps);Ns(Ls,"FAKE_FILE_NAME","googleDriveFile.txt"),Ns(Ls,"FAKE_FILE_SIZE","1"),Ns(Ls,"FAKE_FILE_ID","fileId"),Ns(Ls,"FAKE_ACCESS_TOKEN","accessToken");const Ms=Ls;var Bs=n(8470),Qs=n.n(Bs);function Us(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ys=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._fieldId=t,this._configuration=n,this._useMocks=i}var t,n,i;return t=e,(n=[{key:"load",value:function(){if("undefined"!=typeof gapi){var e=this._buildGoogleDrivePickerButton(),t=document.getElementById("fileInput_"+this._fieldId);t&&t.appendChild(e)}}},{key:"_buildGoogleDrivePickerButton",value:function(){var e=this,t=document.createElement("a");return t.innerText=this._configuration.chooseFromDriveText,t.setAttribute("id","drivePicker"),t.setAttribute("href","#"),t.className="drivePickerButton",t.addEventListener("click",(function(t){t.preventDefault(),e._googleDrivePickerClickEventListener()})),t}},{key:"_googleDrivePickerClickEventListener",value:function(){if(this._useMocks)new Ms(this._fieldId,this._configuration).onFileSelected(null);else{var e=new Ps(this._fieldId,this._configuration);new(Qs())({apiKey:this._configuration.appKey,clientId:this._configuration.clientId,buttonEl:document.getElementById("drivePicker"),onSelect:e.onFileSelected.bind(e),extensions:this._configuration.allowedFileExtensions})}}}])&&Us(t.prototype,n),i&&Us(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();const Ws=Ys;function Hs(e,t){if(!PortalNumber.isNumber(t))throw new Error("invalidValue: day must be a valid integer");if(!PortalNumber.isNumber(e))throw new Error("invalidValue: month must be a valid integer");var n=PortalDate.fromParams(1904,e,t);this._assertIsValidPortalDateObject(n),He.call(this,n),this._day=t,this._month=e}Hs.TYPE="FieldDayAndMonthValue",Hs.prototype=Object.create(He.prototype),Hs.prototype.getType=function(){return Hs.TYPE},Hs.prototype.toString=function(){return this.getFormattedDateString("MM-dd")},Hs.prototype.getDay=function(){return this._day},Hs.prototype.getMonth=function(){return this._month};const zs=Hs;n(7546),n(1772);const qs=function e(){if(e.prototype._singletonInstance)return e.prototype._singletonInstance;e.prototype._singletonInstance=this,this.run=function(e,t,n){var i=a.getInstance(),r=i.buildKey(e,t);i.get(r).fail((function(){var o=pjQuery.ajax({type:"POST",url:e,dataType:"json",data:t});i.set(r,o),o.done(n)})).done((function(e){e.done(n)}))}};function Js(e,t){this._fieldId=e,this._datasourceSettings=t||{},this._portalUrlPath=this.getSetting("portalUrlPath"),this._datasourcesCallRunner=new qs}Js.prototype.registerDatasourceValues=function(){Datasources.registerDatasource(this._fieldId,this)},Js.prototype.registerDatasourceDefaultValues=function(){DefaultValueDatasources.registerDatasource(this._fieldId,this)},Js.prototype.isLocalDatasource=function(){return!1},Js.prototype.getOptions=function(){return[]},Js.prototype.fetchNewOptions=function(e,t,n,i){throw new Error("notImplementedError")},Js.prototype.fetchOptionsById=function(e,t){throw new Error("notImplementedError")},Js.prototype.fetchOptionsByValue=function(e,t){throw new Error("notImplementedError")},Js.prototype.getParentDependenciesFieldsIds=function(){throw new Error("notImplementedError")},Js.prototype.isParentDependentField=function(e){throw new Error("notImplementedError")},Js.prototype.cloneForNewTableRow=function(e,t){throw new Error("notImplementedError")},Js.prototype.getOptionsSearchApiUrl=function(){throw new Error("notImplementedError")},Js.prototype.buildRequestDataFromParams=function(e,t,n,i,r,o){throw new Error("notImplementedError")},Js.prototype.processLazyPickerAjaxResponseData=function(e){throw new Error("notImplementedError")},Js.prototype._fetchOptions=function(e,t){var n=this._getDatasourcesCallRunnerOnSuccessCallback(t);this._datasourcesCallRunner.run(this.getOptionsSearchApiUrl(),e,n)},Js.prototype._getDatasourcesCallRunnerOnSuccessCallback=function(e){return function(t){var n=t.hasOwnProperty("results")?t.results:[],i=t.hasOwnProperty("currentOptionsFoundInResults")?t.currentOptionsFoundInResults:[];e(n,i)}},Js.prototype._getFieldId=function(){return this._fieldId},Js.prototype.getDatasourceSettings=function(){return this._datasourceSettings},Js.prototype.getSetting=function(e){return this._datasourceSettings.hasOwnProperty(e)?this._datasourceSettings[e]:null};const Zs=Js;function $s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ks(e,t,n){return t&&$s(e.prototype,t),n&&$s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xs=Ks((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));Gs(Xs,"SELF_RECORD","selfRecord"),Gs(Xs,"RECORD_PICKER","recordPicker");const el=Xs;function tl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function nl(e,t,n){return t&&tl(e.prototype,t),n&&tl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function il(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rl=nl((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));il(rl,"FIXED","fixed"),il(rl,"FIELD","field");const ol=rl;function al(e,t,n){Zs.call(this,e,t),this._datasetFilters=n||this.getSetting("datasetFilters")||[],this._optionFormatComponents=this.getSetting("optionFormatComponents")||[],this._schemaFieldIdToUseForIndirectFiltering=this.getSetting("schemaFieldIdToUseForIndirectFiltering")}al.prototype=Object.create(Zs.prototype),al.prototype._shouldIgnoreFilterIfNoValueIsSelected=function(){throw new Error("notImplemented")},al.prototype.getParentDependenciesFieldsIds=function(){return this._datasetFilters.flatMap((function(e){return e.type===ol.FIELD?[e.parentDependencyFieldId.toString()]:[]}))},al.prototype.isParentDependentField=function(e){return null!=e&&this.getParentDependenciesFieldsIds().includes(e.toString())},al.prototype.fetchNewOptions=function(e,t,n,i){var r=this.buildRequestDataFromParams(t,n,null,null,null,e);this._fetchOptions(r,i)},al.prototype.fetchOptionsById=function(e,t){if(0!==e.length){var n=this.buildRequestDataFromParams(null,null,null,null,e,null);this._fetchOptions(n,t)}else t([])},al.prototype.fetchOptionsByValue=function(e,t){if(0!==e.length){var n=this.buildRequestDataFromParams(null,null,e,!0,null,null);this._fetchOptions(n,t)}else t([])},al.prototype._buildClonedFiltersForNewTableRow=function(e,t){for(var n=[],i=this._fieldId.split("-"),r=0;r<this._datasetFilters.length;r++){var o=pjQuery.extend(!0,{},this._datasetFilters[r]);if(o.type===ol.FIELD&&o.parentDependencyFieldId.indexOf("-")>0){var a=o.parentDependencyFieldId.split("-");a[0]===i[0]&&(a[a.length-1]=t,o.parentDependencyFieldId=a.join("-"))}n.push(o)}return n},al.prototype._buildFiltersWithCurrentFieldsValues=function(){for(var e=[],t=0;t<this._datasetFilters.length;t++){var n=pjQuery.extend(!0,{},this._datasetFilters[t]);n.type===ol.FIELD&&this._updateFieldFilter(n),e.push(n)}return e},al.prototype._prepareFilterToSend=function(e){return{operator:e.operator,datasetSpecIdFilter:e.datasetSpecIdFilter||null,schemaFieldNumberFilter:e.schemaFieldNumberFilter||null,value:e.value||null,sourceType:e.sourceType,entityId:e.entityId||null,type:e.type}},al.prototype._prepareOptionFormatComponentToSend=function(e){return{type:e.type,order:e.order,fieldNumberOrText:e.fieldNumberOrText}},al.prototype._updateFieldFilter=function(e){e.sourceType===el.SELF_RECORD?this._updateFieldFilterWithSelfWizardSource(e):e.sourceType===el.RECORD_PICKER&&this._updateFieldFilterWithRecordPickerSource(e)},al.prototype._updateFieldFilterWithSelfWizardSource=function(e){var t=e.parentDependencyFieldId;if(v.isFieldRegistered(t)){var n=v.getFieldValue(t);if(!this._shouldIgnoreFilterIfNoValueIsSelected()||!n.isEmpty()){switch(n.getType()){case p.TYPE:e.value=[];break;case ie.TYPE:e.value=PortalString.toInt(n.getOptionId());break;case oe.TYPE:e.value=n.getOptionsIds().map((function(e){return PortalString.toInt(e)}));break;case K.TYPE:e.value=n.getValue();break;default:throw new Error("invalidValue: dataset filtering requires a field with options to filter by")}e.type=ol.FIXED}}},al.prototype._updateFieldFilterWithRecordPickerSource=function(e){var t=e.parentDependencyFieldId;if(v.isFieldRegistered(t)){var n=v.getFieldValue(t);n.isEmpty()||(e.entityId=n.getOptionId())}};const sl=al;function ll(e,t,n){sl.call(this,e,t,n),this._datasetSchemaSpecId=this.getSetting("datasetSchemaSpecId")}ll.TYPE="DatasetFieldOptionsDatasource",ll.prototype=Object.create(sl.prototype),ll.prototype._shouldIgnoreFilterIfNoValueIsSelected=function(){return!1},ll.prototype.cloneForNewTableRow=function(e,t){var n=this._buildClonedFiltersForNewTableRow(e,t);return new ll(e,this.getDatasourceSettings(),n)},ll.prototype.getOptionsSearchApiUrl=function(){return this._portalUrlPath+"/_wizardPortalDatasetOptionsSearchApi"},ll.prototype.buildRequestDataFromParams=function(e,t,n,i,r,o){var a=this,s=this._buildFiltersWithCurrentFieldsValues().map((function(e){return a._prepareFilterToSend(e)})),l=this._optionFormatComponents.map((function(e){return a._prepareOptionFormatComponentToSend(e)}));return JSON.stringify({datasetSchemaSpecId:this._datasetSchemaSpecId,schemaFieldIdToUseForIndirectFiltering:this._schemaFieldIdToUseForIndirectFiltering||null,filters:s,optionFormatComponents:l,searchIds:r||null,currentOptionsIds:o||[],page:e||null,limit:t||null,searchText:n||null,exactMatch:i||!1})},ll.prototype.processLazyPickerAjaxResponseData=function(e){return{results:e.results.map((function(e){return{id:e.id,text:e.name}})),pagination:{more:!!e.more&&e.more}}};const ul=ll;function cl(e,t,n){sl.call(this,e,t,n),this._datasetSchemaFieldId=this.getSetting("datasetSchemaFieldId"),this._ignoreFilterIfNoValueIsSelected=this.getSetting("ignoreFilterIfNoValueIsSelected")}cl.TYPE="DatasetSingleColumnFieldOptionsDatasource",cl.prototype=Object.create(sl.prototype),cl.prototype._shouldIgnoreFilterIfNoValueIsSelected=function(){return this._ignoreFilterIfNoValueIsSelected},cl.prototype.cloneForNewTableRow=function(e,t){var n=this._buildClonedFiltersForNewTableRow(e,t);return new cl(e,this.getDatasourceSettings(),n)},cl.prototype.getOptionsSearchApiUrl=function(){return this._portalUrlPath+"/_wizardPortalDatasetSingleColumnOptionsSearchApi"},cl.prototype.buildRequestDataFromParams=function(e,t,n,i,r,o){var a=this,s=this._buildFiltersWithCurrentFieldsValues().map((function(e){return a._prepareFilterToSend(e)})),l=this._optionFormatComponents.map((function(e){return a._prepareOptionFormatComponentToSend(e)}));return JSON.stringify({datasetFieldSchemaFieldId:this._datasetSchemaFieldId,schemaFieldIdToUseForIndirectFiltering:this._schemaFieldIdToUseForIndirectFiltering||null,filters:s,optionFormatComponents:l,searchIds:r||null,currentOptionsIds:o||[],page:e||null,limit:t||null,searchText:n||null,exactMatch:i||!1})},cl.prototype.processLazyPickerAjaxResponseData=function(e){return{results:e.results.map((function(e){return{id:e.id,text:e.name}})),pagination:{more:!!e.more&&e.more}}};const dl=cl;function pl(e,t){Zs.call(this,e,t),this._setOptions(this.getSetting("options"))}pl.TYPE="LocalDatasource",pl.prototype=Object.create(Zs.prototype),pl.prototype.isLocalDatasource=function(){return!0},pl.prototype.getOptions=function(){return this._options},pl.prototype.getParentDependenciesFieldsIds=function(){return[]},pl.prototype.isParentDependentField=function(e){return!1},pl.prototype.fetchNewOptions=function(e,t,n,i){var r=[],o=[];if(this._options.forEach((function(t){PortalArray.contains(t.id,e)&&o.push(t),r.push(t)})),null!==t&&null!==n){var a=(t-1)*n;r=r.slice(a,a+n)}i(r,o)},pl.prototype.fetchOptionsById=function(e,t){var n=[];e.forEach((function(e){this._options.forEach((function(t){return t.id==e&&(n.push(t),!0)}))}),this),t(n)},pl.prototype.fetchOptionsByValue=function(e,t){var n=[];e.forEach((function(e){this._options.forEach((function(t){return t.name==e&&(n.push(t),!0)}))}),this),t(n)},pl.prototype.cloneForNewTableRow=function(e,t){return new pl(e,this.getDatasourceSettings())},pl.prototype._setOptions=function(e){this._options=[],e&&Array.isArray(e)&&e.forEach((function(e){e.hasOwnProperty("id")&&e.hasOwnProperty("name")&&this._options.push({id:e.id,name:e.name})}),this)};const hl=pl;function fl(e,t){hl.call(this,e,t)}fl.TYPE="DummyDatasource",fl.prototype=Object.create(hl.prototype),fl.prototype.getParentDependenciesFieldsIds=function(){return[]},fl.prototype.isParentDependentField=function(e){return!1},fl.prototype.fetchNewOptions=function(e,t,n,i){return[]},fl.prototype.fetchOptionsById=function(e,t){var n=[];e.forEach((function(e){n.push({id:e})}),this),t(n)},fl.prototype.fetchOptionsByValue=function(e,t){var n=[];e.forEach((function(e){n.push({name:e})}),this),t(n)},fl.prototype.cloneForNewTableRow=function(e,t){return new fl(e,this.getDatasourceSettings())};const yl=fl;function gl(e,t,n){sl.call(this,e,t,n),this._datasetSchemaSpecId=this.getSetting("datasetSchemaSpecId"),this._datasetFieldNumber=this.getSetting("datasetFieldNumber")}gl.TYPE="DynamicDefaultValueDatasetFieldOptionsDatasource",gl.prototype=Object.create(sl.prototype),gl.prototype._shouldIgnoreFilterIfNoValueIsSelected=function(){return!1},gl.prototype.cloneForNewTableRow=function(e,t){var n=this._buildClonedFiltersForNewTableRow(e,t);return new gl(e,this.getDatasourceSettings(),n)},gl.prototype.getOptionsSearchApiUrl=function(){return this._portalUrlPath+"/_wizardPortalDynamicDefaultDatasetOptionsSearchApi"},gl.prototype.buildRequestDataFromParams=function(e,t,n,i,r,o){var a=this,s=this._buildFiltersWithCurrentFieldsValues().map((function(e){return a._prepareFilterToSend(e)}));return JSON.stringify({datasetSchemaSpecId:this._datasetSchemaSpecId,datasetFieldNumber:this._datasetFieldNumber,filters:s})},gl.prototype.processLazyPickerAjaxResponseData=function(e){return{results:e.results.map((function(e){return{id:e.id,text:e.name}})),pagination:{more:!!e.more&&e.more}}},gl.prototype._getDatasourcesCallRunnerOnSuccessCallback=function(e){return function(t){var n=t.hasOwnProperty("results")?t.results:[];e(n)}};const _l=gl;function ml(e,t){Zs.call(this,e,t),this._jobId=this.getSetting("jobId"),this._contactOrJobIdEdit=this.getSetting("contactOrJobIdEdit"),this._wizardId=this.getSetting("wizardId"),this._schemaFieldId=this.getSetting("schemaFieldId"),this._optionFormatJson=this.getSetting("optionFormatJson")}ml.TYPE="GeneralOptionsDatasource",ml.prototype=Object.create(Zs.prototype),ml.prototype.cloneForNewTableRow=function(e,t){return new ml(e,this.getDatasourceSettings())},ml.prototype.getOptionsSearchApiUrl=function(){return this._portalUrlPath+"/_wizardPortalOptionSearchApi"},ml.prototype.getParentDependenciesFieldsIds=function(){return[]},ml.prototype.isParentDependentField=function(e){return!1},ml.prototype.fetchNewOptions=function(e,t,n,i){var r=this.buildRequestDataFromParams(t,n,null,null,null,e),o=this;this._fetchOptions(r,(function(e){var t=o._buildApiAdaptedResults(e);i(t)}))},ml.prototype.fetchOptionsById=function(e,t){if(0!==e.length){var n=this.buildRequestDataFromParams(null,null,null,null,e,null),i=this;this._fetchOptions(n,(function(e){var n=i._buildApiAdaptedResults(e);t(n)}))}else t([])},ml.prototype.fetchOptionsByValue=function(e,t){if(0!==e.length){var n=this.buildRequestDataFromParams(null,null,e[0],!0,null,null),i=this;this._fetchOptions(n,(function(e){var n=i._buildApiAdaptedResults(e);t(n)}))}else t([])},ml.prototype.buildRequestDataFromParams=function(e,t,n,i,r,o){var a={searchText:n,exactTextMatch:i,ids:r,fieldId:this._fieldId,jobId:this._jobId,page:e||1,limit:t,optionFormat:this._optionFormatJson,schemaFieldId:this._schemaFieldId,currentSelectedOptionsIds:o},s=this._wizardId;s&&(a.wizardId=s);var l=this._contactOrJobIdEdit;return l&&(a.contactOrJobIdEdit=l),JSON.stringify(a)},ml.prototype.processLazyPickerAjaxResponseData=function(e){return{results:e.results.map((function(e){return{id:e.id,text:e.name,children:e.children?e.children.map((function(e){return{id:e.id,text:e.name}})):null}})),pagination:{more:e.more}}},ml.prototype._buildApiAdaptedResults=function(e){var t=[];return pjQuery.each(e,(function(e,n){n.children?pjQuery.each(n.children,(function(e,n){t.push({id:n.id,name:n.name})})):t.push({id:n.id,name:n.name})})),t};const vl=ml;function bl(e,t){Zs.call(this,e,t),this._listSpecId=this.getSetting("listSpecId"),this._requestType=this.getSetting("requestType"),this._searchIndexId=this.getSetting("searchIndexId")}bl.TYPE="InstantSearchDatasource",bl.prototype=Object.create(Zs.prototype),bl.prototype.cloneForNewTableRow=function(e,t){return new bl(e,this.getDatasourceSettings())},bl.prototype.getOptionsSearchApiUrl=function(){return this._portalUrlPath+"/_instantSearch"},bl.prototype.getParentDependenciesFieldsIds=function(){return[]},bl.prototype.isParentDependentField=function(e){return!1},bl.prototype.fetchOptionsById=function(e,t){throw new Error("notSupportedError")},bl.prototype.fetchOptionsByValue=function(e,t){if(0!==e.length){var n=this.buildRequestDataFromParams(null,null,e[0],!0),i=this;this._fetchOptions(n,(function(e){var n=i._adaptApiOptionsResults(e);t(n)}))}else t([])},bl.prototype.buildRequestDataFromParams=function(e,t,n,i,r,o){return JSON.stringify({requestType:this._requestType,listSpecId:this._listSpecId,richFieldId:this._fieldId,searchTerm:n||"",searchIndexId:this._searchIndexId})},bl.prototype.processLazyPickerAjaxResponseData=function(e){return{results:e.results.map((function(e){return{id:e.id,text:e.name||"",fields:e.fieldValues||[],detailUrl:e.detailUrl||null}})),pagination:{more:e.more||!1}}},bl.prototype._adaptApiOptionsResults=function(e){var t=[];return pjQuery.each(e,(function(e,n){t.push({id:n.id,name:n.name})})),t};const Fl=bl;function wl(e,t){Zs.call(this,e,t)}wl.TYPE="JobSuggestionsDatasource",wl.PAGE_SIZE=20,wl.prototype=Object.create(Zs.prototype),wl.prototype.cloneForNewTableRow=function(e,t){return new wl(e,this.getDatasourceSettings())},wl.prototype.getOptionsSearchApiUrl=function(){return this._portalUrlPath+"/_jobSuggestions"},wl.prototype.getParentDependenciesFieldsIds=function(){return[]},wl.prototype.isParentDependentField=function(e){return!1},wl.prototype.fetchOptionsById=function(e,t){throw new Error("notSupportedError")},wl.prototype.fetchOptionsByValue=function(e,t){if(0!==e.length){var n=this.buildRequestDataFromParams(null,null,e[0],!0),i=this;this._fetchOptions(n,(function(e){var n=i._adaptApiOptionsResults(e);t(n)}))}else t([])},wl.prototype.buildRequestDataFromParams=function(e,t,n,i,r,o){return JSON.stringify({richFieldId:this._getFieldId(),richFieldType:pjQuery("#"+this._getFieldId()).data("field-type"),searchJobText:n||"",limit:wl.PAGE_SIZE,page:e})},wl.prototype.processLazyPickerAjaxResponseData=function(e){return{results:e.results.map((function(e){return{id:e.value,text:e.text}})),pagination:{more:e.more||!1}}},wl.prototype._adaptApiOptionsResults=function(e){var t=[];return pjQuery.each(e,(function(e,n){t.push({id:n.value,name:n.text})})),t};const Il=wl;function Sl(e,t){Zs.call(this,e,t),this._schemaFieldId=this.getSetting("schemaFieldId"),this._isSearchMode=this.getSetting("isSearchMode")||!1}Sl.TYPE="UsersDatasource",Sl.prototype=Object.create(Zs.prototype),Sl.prototype.cloneForNewTableRow=function(e,t){return new Sl(e,this.getDatasourceSettings())},Sl.prototype.getOptionsSearchApiUrl=function(){return this._portalUrlPath+"/_wizardPortalUserSearch"},Sl.prototype.getParentDependenciesFieldsIds=function(){return[]},Sl.prototype.isParentDependentField=function(e){return!1},Sl.prototype.fetchNewOptions=function(e,t,n,i){var r=this.buildRequestDataFromParams(t,n,null,null,null,e);this._fetchOptions(r,i)},Sl.prototype.fetchOptionsById=function(e,t){if(0!==e.length){var n=this.buildRequestDataFromParams(null,null,null,null,e,null);this._fetchOptions(n,(function(e){t(e)}))}else t([])},Sl.prototype.fetchOptionsByValue=function(e,t){throw new Error("notSupportedError: currently is not possible to set an option by value.")},Sl.prototype.buildRequestDataFromParams=function(e,t,n,i,r,o){var a={schemaFieldId:this._schemaFieldId,key:n||"",searchIds:r||null,currentOptionsIds:o||[],isSearchMode:this._isSearchMode};return JSON.stringify(a)},Sl.prototype.processLazyPickerAjaxResponseData=function(e){return{results:e.results.map((function(e){return{id:e.id,text:e.name}})),pagination:{more:!!e.more&&e.more}}};const El=Sl;function Tl(e,t){El.call(this,e,t),this._richFieldId=this.getSetting("richFieldId")}Tl.TYPE="LinkToPersonDatasource",Tl.prototype=Object.create(El.prototype),Tl.prototype.getOptionsSearchApiUrl=function(){return this._portalUrlPath+"/_wizardPortalLinkToPersonSearch"},Tl.prototype.buildRequestDataFromParams=function(e,t,n,i,r,o){var a={richFieldId:this._richFieldId,key:n||"",searchIds:r||null,currentOptionsIds:o||[]};return JSON.stringify(a)};const Pl=Tl;function Ol(e){return Ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(e)}function Cl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Dl(e,t){return Dl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Dl(e,t)}function kl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Al(e);if(t){var r=Al(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return jl(this,n)}}function jl(e,t){if(t&&("object"===Ol(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Al(e){return Al=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Al(e)}var xl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dl(e,t)}(o,e);var t,n,i,r=kl(o);function o(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this,e,t)}return t=o,n=[{key:"cloneForNewTableRow",value:function(e,t){return new o(e,this.getDatasourceSettings())}},{key:"getOptionsSearchApiUrl",value:function(){return this._portalUrlPath+"/_locationSuggestions"}},{key:"getParentDependenciesFieldsIds",value:function(){return[]}},{key:"isParentDependentField",value:function(e){return!1}},{key:"fetchOptionsById",value:function(e,t){throw new Error("notSupportedError")}},{key:"fetchOptionsByValue",value:function(e,t){if(0!==e.length){var n=this.buildRequestDataFromParams(null,null,e[0],!0),i=this;this._fetchOptions(n,(function(e){var n=i._adaptApiOptionsResults(e);t(n)}))}else t([])}},{key:"buildRequestDataFromParams",value:function(e,t,n,i,r,o){return JSON.stringify({searchLocationText:n||""})}},{key:"processLazyPickerAjaxResponseData",value:function(e){return{results:this._results=e.results.map((function(e){return{id:e.value,text:e.text,lat:e.lat,lon:e.lon}})),pagination:{more:e.more||!1}}}},{key:"getOptionLatAndLonById",value:function(e){var t=[];return this._results.forEach((function(n){n.id===e&&(t=[n.lat,n.lon])})),t}},{key:"_adaptApiOptionsResults",value:function(e){var t=[];for(var n in e)t.push({id:e[n].value,name:e[n].text});return t}}],n&&Cl(t.prototype,n),i&&Cl(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Zs);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(xl,"TYPE","LocationDatasource");const Rl=xl;function Vl(e,t){Zs.call(this,e,t)}Vl.TYPE="PostalCodeDatasource",Vl.prototype=Object.create(Zs.prototype),Vl.prototype.cloneForNewTableRow=function(e,t){return new Vl(e,this.getDatasourceSettings())},Vl.prototype.getOptionsSearchApiUrl=function(){return this._portalUrlPath+"/_postalCode"},Vl.prototype.getParentDependenciesFieldsIds=function(){return[]},Vl.prototype.isParentDependentField=function(e){return!1},Vl.prototype.fetchOptionsById=function(e,t){throw new Error("notSupportedError")},Vl.prototype.fetchOptionsByValue=function(e,t){if(0!==e.length){var n=this.buildRequestDataFromParams(null,null,e[0],!0),i=this;this._fetchOptions(n,(function(e){var n=i._adaptApiOptionsResults(e);t(n)}))}else t([])},Vl.prototype.buildRequestDataFromParams=function(e,t,n,i,r,o){return JSON.stringify({richFieldId:this._getRichFieldId(),searchPostalCode:n||""})},Vl.prototype._getRichFieldId=function(){var e=this._fieldId.match(/^([0-9]+)_postalCode$/);if(!e)throw new Error("invalidFieldId");return e[1]},Vl.prototype.processLazyPickerAjaxResponseData=function(e){return{results:e.results.map((function(e){return{id:e.value,text:e.text}})),pagination:{more:e.more||!1}}},Vl.prototype._adaptApiOptionsResults=function(e){var t=[];return pjQuery.each(e,(function(e,n){t.push({id:n.value,name:n.text})})),t};const Nl=Vl;function Ll(e,t,n){hl.call(this,e,t),this._categoryFilterFieldId=n||this.getSetting("categoryFilterFieldId"),this._sourcesByCategory=this.getSetting("sourcesByCategory"),this._currentCategoryFilter=null,this._setOptions([])}Ll.TYPE="SourcesDatasource",Ll.prototype=Object.create(hl.prototype),Ll.prototype.getParentDependenciesFieldsIds=function(){return[this._categoryFilterFieldId]},Ll.prototype.isParentDependentField=function(e){return e===this._categoryFilterFieldId},Ll.prototype.fetchNewOptions=function(e,t,n,i){this._updateAvailableOptions(),hl.prototype.fetchNewOptions.call(this,e,t,n,i)},Ll.prototype.fetchOptionsById=function(e,t){this._updateAvailableOptions(),hl.prototype.fetchOptionsById.call(this,e,t)},Ll.prototype.fetchOptionsByValue=function(e,t){this._updateAvailableOptions(),hl.prototype.fetchOptionsByValue.call(this,e,t)},Ll.prototype.cloneForNewTableRow=function(e,t){var n=this._categoryFilterFieldId.replace(/^([^_]*-)[\d]+(_category)$/,"$1"+t+"$2");return new Ll(e,this.getDatasourceSettings(),n)},Ll.prototype._updateAvailableOptions=function(){var e=this._getCurrentCategoryFilterValue();this._currentCategoryFilter!==e&&(this._currentCategoryFilter=e,this._sourcesByCategory.hasOwnProperty(this._currentCategoryFilter)?this._setOptions(this._sourcesByCategory[this._currentCategoryFilter]):this._setOptions([]))},Ll.prototype._getCurrentCategoryFilterValue=function(){var e=Fields.getFieldValueByType(this._categoryFilterFieldId,FieldOptionValue.TYPE);return e.isEmpty()?null:e.getOptionId()};const Ml=Ll;function Bl(e,t){this._fieldId=e,this._validatorSettings=t||{},this._validationErrorText=this.getSetting("validationErrorText")||"Error"}Bl.prototype.register=function(){B.registerValidator(this._fieldId,this)},Bl.prototype.isValid=function(){throw new Error("notImplementedError")},Bl.prototype.cloneForNewTableRow=function(){throw new Error("notImplementedError")},Bl.prototype.getValidationErrorText=function(){return this._validationErrorText},Bl.prototype.getValidatorSettings=function(){return this._validatorSettings},Bl.prototype.getSetting=function(e){return this._validatorSettings.hasOwnProperty(e)?this._validatorSettings[e]:null},Bl.prototype._getField=function(){return v.getField(this._fieldId)};const Ql=Bl;function Ul(e,t){Ql.call(this,e,t)}Ul.TYPE="RequiredValidator",Ul.prototype=Object.create(Ql.prototype),Ul.prototype.isValid=function(){var e=this._getField();return!(e.isRequired()&&!e.hasValue())},Ul.prototype.cloneForNewTableRow=function(e,t){return new Ul(e,this.getValidatorSettings())};const Yl=Ul;var Wl=n(6791);function Hl(e){return Hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(e)}function zl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}if(!ql)var ql=n(5132);var Jl=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.profileData=t}var t,n,i;return t=e,n=[{key:"map",value:function(e){this.profileData&&(this.profileData.entityData=pjQuery('input[name ="entityData"]').val());var t=this;pjQuery.post("_linkedinWizardMappingApi/"+e,JSON.stringify(this.profileData),(function(e){t._fillWizard(e.mapping,e.entityData)}))}},{key:"_fillWizard",value:function(e,t){for(var n in e)e.hasOwnProperty(n)&&(this._areFieldsBeingMappedInATableRow(e[n])?this._mapFieldsInATableRow(n,e[n]):this._mapField(n,e[n].value,e[n].builtinFieldTypeCode));this._setAutofilledWithLinkedinProfileDataInput(),this._setEntityDataInput(t)}},{key:"_areFieldsBeingMappedInATableRow",value:function(e){return e.constructor===Array}},{key:"_mapField",value:function(e,t,n){"photo"===n?Fields.getField(e).setSocialLoginPhoto(t):this._setFieldValue(e,t)}},{key:"_mapFieldsInATableRow",value:function(e,t){for(var n in t)if(t.hasOwnProperty(n)){this._addRowIfRequired(e,n);var i=t[n].value;for(var r in i)if(i.hasOwnProperty(r)){var o=this._getTableFieldId(e,r,n);this._setFieldValue(o,i[r])}}}},{key:"_getTableFieldId",value:function(e,t,n){var i=this._getElement("#multipleDatasetEntry_"+e+"_"+n+' [data-schema-field-id="'+t+'"]'),r=this._getFieldInContainer(i);return r?r.prop("id"):null}},{key:"_setFieldValue",value:function(e,t){if(t)try{var n=this._buildFieldValueObject(e,t);Fields.setFieldValue(e,n)}catch(e){console.warn(e)}}},{key:"_getFieldInContainer",value:function(e){return e&&e.length?this._getElement("select",e).length?this._getElement("select",e):this._getElement('input[type="radio"]',e).length?this._getElement('input[type="radio"]',e):this._getElement("input",e).length?this._getElement("input",e):null:null}},{key:"_setAutofilledWithLinkedinProfileDataInput",value:function(){pjQuery("form").each((function(){pjQuery(this).find(':input[name ="entityData"]').length>0&&pjQuery(this).append(pjQuery("<input/>",{type:"hidden",name:"autofilledWithSocialProfileData",value:"linkedin"}))}))}},{key:"_setEntityDataInput",value:function(e){pjQuery('input[name ="entityData"]').val(e)}},{key:"_buildFieldValueObject",value:function(e,t){return this._isDateValue(t)?this._buildFieldValueObjectForDates(e,t):Array.isArray(t)?new FieldMultipleTextsValue(t):new FieldTextValue(t)}},{key:"_buildFieldValueObjectForDates",value:function(e,t){var n=PortalDate.fromParams(t.year,("0"+(t.month||1)).slice(-2),("0"+(t.day||1)).slice(-2));return Fields.fieldAcceptsValueType(e,FieldDateValue.TYPE)?new FieldDateValue(n):new FieldTextValue(n.format("dd-MMM-yyyy"))}},{key:"_isDateValue",value:function(e){return"object"===Hl(e)&&"year"in e}},{key:"_getElement",value:function(e,t){return t&&t.length>0?pjQuery(e,t):pjQuery(e)}},{key:"_addRowIfRequired",value:function(e,t){pjQuery("#multipleDatasetEntry_"+e+"_"+t).length||this._addRow(e)}},{key:"_addRow",value:function(e){pjQuery("#addRowFor_"+e).trigger("click")}}],n&&zl(t.prototype,n),i&&zl(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();ql.getInstance().addEventHandler(ql.EVENT_LOAD_NAME,(function(){if((new Wl.Z).get("linkedinDataCallbackNeeded")){var e=new ce.Z,t=window.sessionStorage.getItem("linkedinProfileData"),n=e.get("avature.wizard.currentStepId");if(t&&n)new Jl(JSON.parse(t)).map(e.get("avature.wizard.currentStepId"))}else window.sessionStorage.setItem("linkedinProfileData",null)}),ql.PRIORITY_MEDIUM);var Zl=n(5132),$l=n.n(Zl),Kl=n(4264);function Gl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Xl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xl(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Xl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function eu(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function tu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var nu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._autoSaveField=document.getElementById("wizardAutoSave"),this._isAutoSaveEnabled()&&(this._form=this._autoSaveField.closest("form"),this._revision=parseInt(this._autoSaveField.dataset.baseRevision),this._actionInterval=parseInt(this._autoSaveField.dataset.actionInterval),this._actionName=this._autoSaveField.dataset.action,this._formDataSaved=new FormData(this._form))}var t,n,i,r,o;return t=e,n=[{key:"init",value:function(){var e=this;this._isAutoSaveEnabled()&&(this._timer=setInterval((function(){return e._triggerSave()}),this._actionInterval))}},{key:"_isAutoSaveEnabled",value:function(){return this._autoSaveField}},{key:"_triggerSave",value:(r=regeneratorRuntime.mark((function e(){var t,n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getFormValue();case 2:if(t=e.sent,this._hasDataFormChanged(t)){e.next=5;break}return e.abrupt("return");case 5:n=this._form.action||window.location.href,fetch(n,{method:"POST",body:this._prepareFormDataForSave(t)}).then((function(e){return e.json()})).then((function(e){if(!e||!0!==e.success)throw new Error;i._onAutoSaveSuccess(e.data,t)})).catch((function(){return i._onAutoSaveError()}));case 7:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(n,i){var o=r.apply(e,t);function a(e){eu(o,n,i,a,s,"next",e)}function s(e){eu(o,n,i,a,s,"throw",e)}a(void 0)}))},function(){return o.apply(this,arguments)})},{key:"_onAutoSaveSuccess",value:function(e,t){this._updateFileFieldsInFormAndFormData(e,t),this._formDataSaved=t,this._revision=this._revision+1,this._dispatchAutoSaveEvent($l().STATUS_SUCCESS)}},{key:"_updateFileFieldsInFormAndFormData",value:function(e,t){for(var n in e){var i="file_"+n,r=i+"_fileNumber",o=i+"_fileState";this._isFilePresentInThisStep(i)?(this._addRemoveButton(n),this._clearFileInput(i,t)):this._replaceSerializedFileWithFileNumber(n,r,t),this._updateFileNumberInput(r,e[n],t),this._removeFileStateInput(o,t)}}},{key:"_isFilePresentInThisStep",value:function(e){return document.getElementsByName(e).length>0}},{key:"_addRemoveButton",value:function(e){var t=v.getField(e);t&&t.addRemoveButton()}},{key:"_replaceSerializedFileWithFileNumber",value:function(e,t,n){var i=document.getElementsByName(e);i.length>0&&((i=i[0]).name=t,i.value="",n.delete(e),n.append(t,""))}},{key:"_clearFileInput",value:function(e,t){var n=document.getElementsByName(e);n.length>0&&((n=n[0]).value="",t.set(e,new File([""],"",{type:"application/octet-stream"})))}},{key:"_updateFileNumberInput",value:function(e,t,n){var i=document.getElementsByName(e);i.length>0&&((i=i[0]).value=t,n.set(e,t))}},{key:"_removeFileStateInput",value:function(e,t){var n=document.getElementsByName(e);n.length>0&&((n=n[0]).remove(),t.delete(e))}},{key:"_onAutoSaveError",value:function(){clearInterval(this._timer),this._dispatchAutoSaveEvent($l().STATUS_ERROR)}},{key:"_dispatchAutoSaveEvent",value:function(e){$l().getInstance().dispatchEvent($l().EVENT_AUTO_SAVE_NAME,{status:e,autoSaveActionName:this._actionName})}},{key:"_prepareFormDataForSave",value:function(e){var t=this._cloneFormData(e);return t.append(this._actionName,"automatic"),t.append("revision",this._revision+1),t}},{key:"_cloneFormData",value:function(e){var t=new FormData;return e.forEach((function(e,n){t.append(n,e)})),t}},{key:"_getFormValue",value:function(){var e=this;return v.dispatchBeforeSubmitAutoPartialSave().then((function(){return new FormData(e._form)}))}},{key:"_hasDataFormChanged",value:function(e){var t,n=Gl(e.keys());try{for(n.s();!(t=n.n()).done;){var i=t.value,r=e.getAll(i),o=this._formDataSaved.getAll(i);if(!this._areFormValuesEqual(r,o))return!0}}catch(e){n.e(e)}finally{n.f()}return!1}},{key:"_areFormValuesEqual",value:function(e,t){var n=this;return!(!Array.isArray(e)||!Array.isArray(t))&&JSON.stringify(e)===JSON.stringify(t)&&e.every((function(e,i){return!(e instanceof File)||n._areFileEquals(e,t[i])}))}},{key:"_areFileEquals",value:function(e,t){return e instanceof File&&t instanceof File&&e.size===t.size&&e.name===t.name&&e.type===t.type}}],n&&tu(t.prototype,n),i&&tu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function iu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ru(e,t,n){return t&&iu(e.prototype,t),n&&iu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ou(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Kl.Z.getEventManager().attachToLoadEvent((function(){(new nu).init()}));var au=ru((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));ou(au,"FIELD","Field"),ou(au,"VALUES_DATASOURCE","ValuesDatasource"),ou(au,"DEFAULT_VALUES_DATASOURCE","DefaultValuesDatasource"),ou(au,"VALIDATOR","Validator");const su=au;function lu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var uu=null,cu=!1,du=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!cu)throw new Error("Constructor is private. Use getInstance() instead")}var t,n,i;return t=e,(n=[{key:"buildField",value:function(e,t,n){if(!e)return console.error("Field ID cannot be null to build the field."),null;switch(t){case X.TYPE:return new X(e,n);case me.TYPE:return new me(e,n);case pe.TYPE:return new pe(e,n);case Re.TYPE:return new Re(e,n);case Me.TYPE:return new Me(e,n);case Qe.TYPE:return new Qe(e,n);case Ke.TYPE:return new Ke(e,n);case Xe.TYPE:return new Xe(e,n);case wn.TYPE:return new wn(e,n);case Qn.TYPE:return new Qn(e,n);case Gn.TYPE:return new Gn(e,n);case ti.TYPE:return new ti(e,n);case ii.TYPE:return new ii(e,n);case Rn.TYPE:return new Rn(e,n);case si.TYPE:return new si(e,n);case ui.TYPE:return new ui(e,n);case oi.TYPE:return new oi(e,n);case Wi.TYPE:return new Wi(e,n);case Ki.TYPE:return new Ki(e,n);case sr.TYPE:return new sr(e,n);case yr.TYPE:return new yr(e,n);case vr.TYPE:return new vr(e,n);case Fr.TYPE:return new Fr(e,n);case Ir.TYPE:return new Ir(e,n);case Pr.TYPE:return new Pr(e,n);case Cr.TYPE:return new Cr(e,n);case An.TYPE:return new An(e,n);case Mr.TYPE:return new Mr(e,n);case Jr.TYPE:return new Jr(e,n);case fo.TYPE:return new fo(e,n);case go.TYPE:return new go(e,n);case Qo.TYPE:return new Qo(e,n);case Yo.TYPE:return new Yo(e,n);case Xi.TYPE:return new Xi(e,n);case Xo.TYPE:return new Xo(e,n);case ia.TYPE:return new ia(e,n);case oa.TYPE:return new oa(e,n);case os.TYPE:return new os(e,n);case Mn.TYPE:return new Mn(e,n);case ss.TYPE:return new ss(e,n);case _s.TYPE:return new _s(e,n);default:return console.error("Can not register Field ID #"+e+' - Field registrar name "'+t+'" is not valid.'),null}}}])&&lu(t.prototype,n),i&&lu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(du,"getInstance",(function(){return uu||(cu=!0,uu=new du,cu=!1),uu}));const pu=du;function hu(e){return hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(e)}function fu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function yu(e,t){return yu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yu(e,t)}function gu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=mu(e);if(t){var r=mu(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return _u(this,n)}}function _u(e,t){if(t&&("object"===hu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function mu(e){return mu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},mu(e)}var vu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yu(e,t)}(o,e);var t,n,i,r=gu(o);function o(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this,e,t)}return t=o,n=[{key:"cloneForNewTableRow",value:function(e,t){return new o(e,this.getDatasourceSettings())}},{key:"getOptionsSearchApiUrl",value:function(){return this._portalUrlPath+"/_workflowStepSuggestions"}},{key:"getParentDependenciesFieldsIds",value:function(){return[]}},{key:"isParentDependentField",value:function(e){return!1}},{key:"fetchOptionsById",value:function(e,t){throw new Error("notSupportedError")}},{key:"fetchOptionsByValue",value:function(e,t){if(0!==e.length){var n=this.buildRequestDataFromParams(null,null,e[0],!0),i=this;this._fetchOptions(n,(function(e){var n=i._adaptApiOptionsResults(e);t(n)}))}else t([])}},{key:"buildRequestDataFromParams",value:function(e,t,n,i,r,o){return JSON.stringify({workflowStepText:n||"",page:e,limit:t,richFieldId:this._getFieldId()})}},{key:"processLazyPickerAjaxResponseData",value:function(e){return{results:this._adaptGroupedOptionsToSelect2(e.results),pagination:{more:e.more||!1}}}},{key:"_adaptGroupedOptionsToSelect2",value:function(e){var t=[];for(var n in e)t.push({text:e[n].text,children:e[n].children,id:n});return t}},{key:"_adaptApiOptionsResults",value:function(e){var t=[];for(var n in e)t.push({id:e[n].id,name:e[n].text});return t}}],n&&fu(t.prototype,n),i&&fu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Zs);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(vu,"TYPE","WorkflowStepDatasource");const bu=vu;function Fu(e){return Fu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(e)}function wu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Su(e,t){return Su=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Su(e,t)}function Eu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Pu(e);if(t){var r=Pu(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Tu(this,n)}}function Tu(e,t){if(t&&("object"===Fu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Pu(e){return Pu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pu(e)}var Ou=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Su(e,t)}(o,e);var t,n,i,r=Eu(o);function o(){return wu(this,o),r.apply(this,arguments)}return t=o,(n=[{key:"cloneForNewTableRow",value:function(e,t){return new o(e,this.getDatasourceSettings())}},{key:"getOptionsSearchApiUrl",value:function(){return this._portalUrlPath+"/_linkedJobStepSuggestions"}}])&&Iu(t.prototype,n),i&&Iu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(bu);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ou,"TYPE","LinkedJobStepDatasource");const Cu=Ou;function Du(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ku=null,ju=!1,Au=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!ju)throw new Error("Constructor is private. Use getInstance() instead")}var t,n,i;return t=e,(n=[{key:"buildDatasource",value:function(e,t,n){if(!e)return console.error("Field ID cannot be null to build the values datasource."),null;switch(t){case ul.TYPE:return new ul(e,n);case dl.TYPE:return new dl(e,n);case yl.TYPE:return new yl(e,n);case vl.TYPE:return new vl(e,n);case Fl.TYPE:return new Fl(e,n);case Il.TYPE:return new Il(e,n);case Pl.TYPE:return new Pl(e,n);case Cu.TYPE:return new Cu(e,n);case hl.TYPE:return new hl(e,n);case Rl.TYPE:return new Rl(e,n);case Nl.TYPE:return new Nl(e,n);case Ml.TYPE:return new Ml(e,n);case El.TYPE:return new El(e,n);case bu.TYPE:return new bu(e,n);default:return console.error("Can not register ValuesDatasource for Field ID #"+e+' - Datasource registrar name "'+t+'" is not valid.'),null}}}])&&Du(t.prototype,n),i&&Du(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Au,"getInstance",(function(){return ku||(ju=!0,ku=new Au,ju=!1),ku}));const xu=Au;function Ru(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Vu=null,Nu=!1,Lu=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!Nu)throw new Error("Constructor is private. Use getInstance() instead")}var t,n,i;return t=e,(n=[{key:"buildDatasource",value:function(e,t,n){if(!e)return console.error("Field ID cannot be null to build the default values datasource."),null;switch(t){case _l.TYPE:return new _l(e,n);case InstantSearchDatasource.TYPE:return new InstantSearchDatasource(e,n);default:return console.error("Can not register DefaultValuesDatasource for Field ID #"+e+' - Datasource registrar name "'+t+'" is not valid.'),null}}}])&&Ru(t.prototype,n),i&&Ru(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Lu,"getInstance",(function(){return Vu||(Nu=!0,Vu=new Lu,Nu=!1),Vu}));const Mu=Lu;function Bu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Qu=null,Uu=!1,Yu=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!Uu)throw new Error("Constructor is private. Use getInstance() instead")}var t,n,i;return t=e,(n=[{key:"buildValidator",value:function(e,t,n){return e?t===Yl.TYPE?new Yl(e,n):(console.error("Can not register Validator for Field ID #"+e+' - Validator registrar name "'+t+'" is not valid.'),null):(console.error("Field ID cannot be null to build the validator."),null)}}])&&Bu(t.prototype,n),i&&Bu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Yu,"getInstance",(function(){return Qu||(Uu=!0,Qu=new Yu,Uu=!1),Qu}));const Wu=Yu;function Hu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var zu=null,qu=!1,Ju=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!qu)throw new Error("Constructor is private. Use getInstance() instead")}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e=this._getFieldsToRegister(),t=this._getRegistrarTypesBuildOrder();for(var n in t){var i=t[n];for(var r in e){var o=e[r];for(var a in o.registrars)i===o.registrars[a].type&&this._register(o.fieldId,o.registrars[a])}}we.getInstance().resolve(),this._registerVisibilityConditions()}},{key:"_register",value:function(e,t){switch(t.type){case su.FIELD:this._registerField(e,t.name,t.settings);break;case su.VALUES_DATASOURCE:this._registerValuesDatasource(e,t.name,t.settings);break;case su.DEFAULT_VALUES_DATASOURCE:this._registerDefaultValuesDatasource(e,t.name,t.settings);break;case su.VALIDATOR:this._registerValidator(e,t.name,t.settings)}}},{key:"_getFieldsToRegister",value:function(){var e=new ce.Z,t=[];try{var n=JSON.parse(e.get("avature.wizard.registrars"));for(var i in n)n[i].hasOwnProperty("wizardId")&&n[i].hasOwnProperty("fields")&&(t=t.concat(n[i].fields))}catch(e){e instanceof SyntaxError?console.error("FieldsAutoRegister - Error while parsing registrars settings: "+e.message):console.error("FieldsAutoRegister - "+e.message)}return t}},{key:"_registerValuesDatasource",value:function(e,t,n){var i=xu.getInstance().buildDatasource(e,t,n);i&&i.registerDatasourceValues()}},{key:"_registerDefaultValuesDatasource",value:function(e,t,n){var i=Mu.getInstance().buildDatasource(e,t,n);i&&i.registerDatasourceDefaultValues()}},{key:"_registerField",value:function(e,t,n){var i=pu.getInstance().buildField(e,t,n);i&&i.register()}},{key:"_registerValidator",value:function(e,t,n){var i=Wu.getInstance().buildValidator(e,t,n);i&&i.register()}},{key:"_registerVisibilityConditions",value:function(){var e=this._getFieldsToRegister();for(var t in e){var n=e[t];if(n.hasOwnProperty("visibilityConditions"))for(var i in n.visibilityConditions){var r=n.visibilityConditions[i];Fields.setFieldVisibilityConditionFromParams(n.fieldId,r.dependencyFieldId,r.conditionOperator,r.conditionValue)}}}},{key:"_getRegistrarTypesBuildOrder",value:function(){return[su.VALUES_DATASOURCE,su.DEFAULT_VALUES_DATASOURCE,su.FIELD,su.VALIDATOR]}}])&&Hu(t.prototype,n),i&&Hu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ju,"getInstance",(function(){return zu||(qu=!0,zu=new Ju,qu=!1),zu})),$l().getInstance().addEventHandler($l().EVENT_LOAD_NAME,(function(){Ju.getInstance().init()}),$l().PRIORITY_HIGH);n.g.ApiCache=a,n.g.AccessibleErrorValidationHandler=l,n.g.ArithmeticField=X,n.g.AutocompleteMultipleSelectField=me,n.g.AutocompleteSelectField=pe,n.g.ButtonBarField=Re,n.g.CheckboxField=Me,n.g.CheckboxListField=Qe,n.g.CustomFormatDateField=Ke,n.g.DayAndMonthDateField=Xe,n.g.PdfEditor=An,n.g.Fields=v,n.g.FileField=wn,n.g.FormattedTextField=Qn,n.g.FormField=Gn,n.g.FullDateField=ti,n.g.GenericField=ii,n.g.InputField=Rn,n.g.InstantSearchField=si,n.g.JobVariableField=ui,n.g.KeywordsField=oi,n.g.LocationDistanceSearchField=Wi,n.g.LocationField=Ki,n.g.LocationStateCreateField=sr,n.g.LocationStateSearchField=yr,n.g.MonthAndYearDateField=vr,n.g.MultipleSelectField=Fr,n.g.NumberField=Ir,n.g.NumberProgressField=Pr,n.g.NumberStarsField=Cr,n.g.PhotoField=Mr,n.g.PlainTextField=Jr,n.g.PostalCodeRadiusField=fo,n.g.RadioButtonListField=go,n.g.RecordVideoField=Qo,n.g.SchedulingField=Yo,n.g.SelectField=Xi,n.g.SeparatorField=Xo,n.g.SimpleTimeField=ia,n.g.SourceAndCategoryField=oa,n.g.TableField=os,n.g.TextField=Mn,n.g.TimeField=ss,n.g.UserNotificationsEmailField=_s,n.g.ReuseUploadedFilesWidget=is,n.g.LargeFileUploadDialog=vs,n.g.GoogleDriveChooserLoader=Ws,n.g.DropboxChooserLoader=an,n.g.FieldBooleanValue=Ne,n.g.FieldDateValue=He,n.g.FieldDayAndMonthValue=zs,n.g.FieldEmptyValue=p,n.g.FieldFileUploadedValue=it,n.g.FieldFileValue=tt,n.g.FieldFullDateValue=Ze,n.g.FieldIdValue=te,n.g.FieldLocationDistanceValue=xi,n.g.FieldLocationValue=zi,n.g.FieldMonthAndYearValue=_r,n.g.FieldMultipleIdsValue=fe,n.g.FieldMultipleOptionsValue=oe,n.g.FieldMultipleTextsValue=ge,n.g.FieldNumberValue=K,n.g.FieldOptionValue=ie,n.g.FieldPostalCodeRadiusValue=no,n.g.FieldRadiusValue=Ti,n.g.FieldTextValue=Z,n.g.FieldTimeValue=ta,n.g.ValueBase=c,n.g.DatasetFieldOptionsDatasource=ul,n.g.DatasetSingleColumnFieldOptionsDatasource=dl,n.g.Datasources=se,n.g.DefaultValueDatasources=Nn,n.g.DummyDatasource=yl,n.g.DynamicDefaultValueDatasetFieldOptionsDatasource=_l,n.g.GeneralOptionsDatasource=vl,n.g.InstantSearchDatasource=Fl,n.g.JobSuggestionsDatasource=Il,n.g.LinkToPersonDatasource=Pl,n.g.LocalDatasource=hl,n.g.LocationDatasource=Rl,n.g.PostalCodeDatasource=Nl,n.g.SourcesDatasource=Ml,n.g.UsersDatasource=El,n.g.RequiredValidator=Yl},6065:(e,t,n)=>{"use strict";n.r(t)},2996:(e,t,n)=>{"use strict";n.r(t)},2678:(e,t,n)=>{"use strict";n.r(t)}},e=>{var t=t=>e(e.s=t);e.O(0,[251,317,150,680,708],(()=>(t(385),t(4023),t(8600),t(539),t(5462))));e.O()}]);